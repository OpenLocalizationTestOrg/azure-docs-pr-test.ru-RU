---
title: "aaaHow tooUse ролевого контроля доступа в службе управления API Azure | Документы Microsoft"
description: "Узнайте, как toouse hello встроенных ролей и создание пользовательских ролей в службе управления API Azure"
services: api-management
documentationcenter: 
author: miaojiang
manager: erikre
editor: 
ms.assetid: 364cd53e-88fb-4301-a093-f132fa1f88f5
ms.service: api-management
ms.workload: mobile
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 01/30/2017
ms.author: apimpm
ms.openlocfilehash: c51da2ff6886ebcaf796022e3a759c67f36670a4
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/06/2017
---
# <a name="how-toouse-role-based-access-control-in-azure-api-management"></a><span data-ttu-id="d8ab6-103">Как tooUse ролевого управления доступом в службе управления API Azure</span><span class="sxs-lookup"><span data-stu-id="d8ab6-103">How tooUse Role-Based Access Control in Azure API Management</span></span>
<span data-ttu-id="d8ab6-104">Управления API Azure зависит от управления доступом Azure Role-Based (RBAC) tooenable подробного управления доступом для службы управления API и сущностей (например, API, политики).</span><span class="sxs-lookup"><span data-stu-id="d8ab6-104">Azure API Management relies on Azure Role-Based Access Control (RBAC) tooenable fine-grained access management for API Management services and entities (e.g., APIs, policies).</span></span> <span data-ttu-id="d8ab6-105">В этой статье дается обзор hello встроенных и пользовательских ролей в службе управления API.</span><span class="sxs-lookup"><span data-stu-id="d8ab6-105">This article gives you an overview of hello built-in and custom roles in API Management.</span></span> <span data-ttu-id="d8ab6-106">Если для получения дополнительных сведений для управления доступом в hello портала Azure см. раздел [Приступая к управлению доступом в hello портал Azure](https://azure.microsoft.com/en-us/documentation/articles/role-based-access-control-what-is/)</span><span class="sxs-lookup"><span data-stu-id="d8ab6-106">If you want more details on access management in hello Azure portal, see [Get started with access management in hello Azure portal](https://azure.microsoft.com/en-us/documentation/articles/role-based-access-control-what-is/)</span></span>

## <a name="built-in-roles"></a><span data-ttu-id="d8ab6-107">Встроенные роли</span><span class="sxs-lookup"><span data-stu-id="d8ab6-107">Built-in Roles</span></span>
<span data-ttu-id="d8ab6-108">В настоящее время API управления предоставляет 3 встроенные роли и добавит в hello ближайшее будущее 2 Дополнительные роли.</span><span class="sxs-lookup"><span data-stu-id="d8ab6-108">API Management currently provides 3 built-in roles and will add 2 more roles in hello near future.</span></span> <span data-ttu-id="d8ab6-109">Эти роли можно назначать в различных областях, включая подписку, группу ресурсов и отдельный экземпляр управления API.</span><span class="sxs-lookup"><span data-stu-id="d8ab6-109">These roles can be assigned at differnt scopes including subscription, resource group, and individual API Management instance.</span></span> <span data-ttu-id="d8ab6-110">Для экземпляра Если tooan пользователя на уровне группы ресурсов hello назначена роль «Чтения службы управления API Azure» hello, затем hello пользователь будет иметь доступ для чтения экземпляров управления API tooall внутри группы ресурсов hello.</span><span class="sxs-lookup"><span data-stu-id="d8ab6-110">For instance, if hello "Azure API Management Service Reader" role is assigned tooan user at hello resource group level, then hello user will have read access tooall API Management instances inside hello resource group.</span></span> 

<span data-ttu-id="d8ab6-111">Hello ниже приводится краткое описание каждого из hello встроенных ролей.</span><span class="sxs-lookup"><span data-stu-id="d8ab6-111">hello following table provides brief descriptions of hello built-in roles.</span></span> <span data-ttu-id="d8ab6-112">Вы можете назначить эти роли с помощью hello портала Azure или других средств, включая Azure [PowerShell](https://docs.microsoft.com/en-us/azure/active-directory/role-based-access-control-manage-access-powershell), Azure [интерфейс командной строки](https://docs.microsoft.com/en-us/azure/active-directory/role-based-access-control-manage-access-azure-cli), и [API-интерфейса REST](https://docs.microsoft.com/en-us/azure/active-directory/role-based-access-control-manage-access-rest).</span><span class="sxs-lookup"><span data-stu-id="d8ab6-112">You can assign these roles using hello Azure Portal or other tools including Azure [PowerShell](https://docs.microsoft.com/en-us/azure/active-directory/role-based-access-control-manage-access-powershell), Azure [Command-line interface](https://docs.microsoft.com/en-us/azure/active-directory/role-based-access-control-manage-access-azure-cli), and [REST API](https://docs.microsoft.com/en-us/azure/active-directory/role-based-access-control-manage-access-rest).</span></span> <span data-ttu-id="d8ab6-113">Дополнительные сведения о том, как tooassign встроенные роли, в разделе [использовать tooyour роли назначения toomanage доступ к ресурсам подписки Azure](https://azure.microsoft.com/en-us/documentation/articles/role-based-access-control-what-is/).</span><span class="sxs-lookup"><span data-stu-id="d8ab6-113">For details about how tooassign built-in roles, see [Use role assignments toomanage access tooyour Azure subscription resources](https://azure.microsoft.com/en-us/documentation/articles/role-based-access-control-what-is/).</span></span>

| <span data-ttu-id="d8ab6-114">Роль</span><span class="sxs-lookup"><span data-stu-id="d8ab6-114">Role</span></span>          | <span data-ttu-id="d8ab6-115">Доступ на чтение<sup>[1]</sup></span><span class="sxs-lookup"><span data-stu-id="d8ab6-115">Read access<sup>[1]</sup></span></span> | <span data-ttu-id="d8ab6-116">Доступ на запись<sup>[2]</sup></span><span class="sxs-lookup"><span data-stu-id="d8ab6-116">Write access<sup>[2]</sup></span></span> | <span data-ttu-id="d8ab6-117">Создание, удаление и масштабирование служб, настройка VPN и личных доменов</span><span class="sxs-lookup"><span data-stu-id="d8ab6-117">Service creation, deletion, scaling, VPN and custom domain configuration</span></span> | <span data-ttu-id="d8ab6-118">Доступ к toolegacy Publsiher портала</span><span class="sxs-lookup"><span data-stu-id="d8ab6-118">Access toolegacy Publsiher Portal</span></span> | <span data-ttu-id="d8ab6-119">Описание</span><span class="sxs-lookup"><span data-stu-id="d8ab6-119">Description</span></span>
| ------------- | ---- | ---- | ---- | ---- | ---- | ---- |
| <span data-ttu-id="d8ab6-120">Azure API Management Service Contributor</span><span class="sxs-lookup"><span data-stu-id="d8ab6-120">Azure API Management Service Contributor</span></span> | <span data-ttu-id="d8ab6-121">✓</span><span class="sxs-lookup"><span data-stu-id="d8ab6-121">✓</span></span> | <span data-ttu-id="d8ab6-122">✓ </span><span class="sxs-lookup"><span data-stu-id="d8ab6-122">✓</span></span> | <span data-ttu-id="d8ab6-123">✓ </span><span class="sxs-lookup"><span data-stu-id="d8ab6-123">✓</span></span> | <span data-ttu-id="d8ab6-124">✓</span><span class="sxs-lookup"><span data-stu-id="d8ab6-124">✓</span></span> | <span data-ttu-id="d8ab6-125">Суперпользователь.</span><span class="sxs-lookup"><span data-stu-id="d8ab6-125">Super user.</span></span> <span data-ttu-id="d8ab6-126">Имеет полный служб управления tooAPI доступа CRUD и сущностей (например, API-интерфейсы, политики).</span><span class="sxs-lookup"><span data-stu-id="d8ab6-126">Has full CRUD access tooAPI Management services and entities (e.g., APIs, Policies).</span></span> <span data-ttu-id="d8ab6-127">Имеет доступ toohello прежних версий publisher портала.</span><span class="sxs-lookup"><span data-stu-id="d8ab6-127">Has access toohello legacy publisher portal.</span></span> |
| <span data-ttu-id="d8ab6-128">Azure API Management Service Reader</span><span class="sxs-lookup"><span data-stu-id="d8ab6-128">Azure API Management Service Reader</span></span> | <span data-ttu-id="d8ab6-129">✓ </span><span class="sxs-lookup"><span data-stu-id="d8ab6-129">✓</span></span> | | || <span data-ttu-id="d8ab6-130">Имеет доступ только для чтения tooAPI управления службами и сущностей.</span><span class="sxs-lookup"><span data-stu-id="d8ab6-130">Has read-only access tooAPI Management services and entities.</span></span> |
| <span data-ttu-id="d8ab6-131">Azure API Management Service Operator</span><span class="sxs-lookup"><span data-stu-id="d8ab6-131">Azure API Management Service Operator</span></span> | <span data-ttu-id="d8ab6-132">✓</span><span class="sxs-lookup"><span data-stu-id="d8ab6-132">✓</span></span> | | <span data-ttu-id="d8ab6-133">✓</span><span class="sxs-lookup"><span data-stu-id="d8ab6-133">✓</span></span> | | <span data-ttu-id="d8ab6-134">Может управлять службами управления API, но не может управлять сущностями.</span><span class="sxs-lookup"><span data-stu-id="d8ab6-134">Can manage API Management services but not entities.</span></span>|
| <span data-ttu-id="d8ab6-135">Azure API Management Service Editor<sup>*</sup></span><span class="sxs-lookup"><span data-stu-id="d8ab6-135">Azure API Management Service Editor<sup>*</sup></span></span> | <span data-ttu-id="d8ab6-136">✓</span><span class="sxs-lookup"><span data-stu-id="d8ab6-136">✓</span></span> | <span data-ttu-id="d8ab6-137">✓</span><span class="sxs-lookup"><span data-stu-id="d8ab6-137">✓</span></span> | |  | <span data-ttu-id="d8ab6-138">Может управлять сущностями управления API, но не может управлять службами.</span><span class="sxs-lookup"><span data-stu-id="d8ab6-138">Can manage API Management entities but not services.</span></span>|
| <span data-ttu-id="d8ab6-139">Azure API Management Content Manager<sup>*</sup></span><span class="sxs-lookup"><span data-stu-id="d8ab6-139">Azure API Management Content Manager<sup>*</sup></span></span> | <span data-ttu-id="d8ab6-140">✓</span><span class="sxs-lookup"><span data-stu-id="d8ab6-140">✓</span></span> | | | <span data-ttu-id="d8ab6-141">✓</span><span class="sxs-lookup"><span data-stu-id="d8ab6-141">✓</span></span> | <span data-ttu-id="d8ab6-142">Может управлять порталом разработчика.</span><span class="sxs-lookup"><span data-stu-id="d8ab6-142">Can manage developer portal.</span></span> <span data-ttu-id="d8ab6-143">Tooservices доступ только для чтения и сущностей.</span><span class="sxs-lookup"><span data-stu-id="d8ab6-143">Read-only access tooservices and entities.</span></span>|

<span data-ttu-id="d8ab6-144"><sup>[1] службы управления tooAPI доступ для чтения и сущностей (например, API, политики)</sup></span><span class="sxs-lookup"><span data-stu-id="d8ab6-144"><sup>[1] Read access tooAPI Management services and entities (e.g., APIs, policies)</sup></span></span>

<span data-ttu-id="d8ab6-145"><sup>Службы управления tooAPI доступ для записи [2] и сущностей, за исключением следующих opeartions: 1) экземпляр создание, удаление и масштабирование настройки доменного имени (3) пользовательские конфигурации VPN (2)</sup></span><span class="sxs-lookup"><span data-stu-id="d8ab6-145"><sup>[2] Write access tooAPI Management services and entities except following opeartions: 1) Instance creation, deletion, and scaling 2) VPN configuration  3) Custom domain name setup</sup></span></span>

<span data-ttu-id="d8ab6-146"><sup>\*Hello редактор службы роли будут доступны после мы Миграция всех пользовательского интерфейса администратора из hello существующего издателя портала toohello портал Azure. Hello роль диспетчера содержимого будут доступны после рефакторинга портал издателя hello tooonly содержать портал разработчиков hello toomanaging связанные функциональные возможности.</sup></span><span class="sxs-lookup"><span data-stu-id="d8ab6-146"><sup>\* hello Service Editor role will be available after we migrate all admin UI from hello existing publisher portal toohello Azure portal. hello Content Manager role will be available after hello publisher portal is refactored tooonly contain functionalities related toomanaging hello developer portal.</sup></span></span>  


## <a name="custom-roles"></a><span data-ttu-id="d8ab6-147">Пользовательские роли</span><span class="sxs-lookup"><span data-stu-id="d8ab6-147">Custom Roles</span></span>
<span data-ttu-id="d8ab6-148">Если ни один из встроенных ролей hello удовлетворения конкретных потребностей, пользовательские роли может быть создан tooprovide более детального управления для сущностей API управления доступом.</span><span class="sxs-lookup"><span data-stu-id="d8ab6-148">If none of hello built-in roles meet your specific needs, custom roles can be created tooprovide more granular access management for API Management entities.</span></span> <span data-ttu-id="d8ab6-149">Например можно создать пользовательскую роль, которая имеет доступ только для чтения tooan службы управления API, но имеет определенный интерфейс API tooone доступ на запись только.</span><span class="sxs-lookup"><span data-stu-id="d8ab6-149">For example, you can create a custom role which has read-only access tooan API Management service but only has write access tooone specific API.</span></span> <span data-ttu-id="d8ab6-150">Дополнительные сведения о пользовательских ролях см. toolearn [настраиваемые роли в Azure RBAC](https://docs.microsoft.com/en-us/azure/active-directory/role-based-access-control-custom-roles).</span><span class="sxs-lookup"><span data-stu-id="d8ab6-150">toolearn more details about custom roles, see [Custom Roles in Azure RBAC](https://docs.microsoft.com/en-us/azure/active-directory/role-based-access-control-custom-roles).</span></span> 

<span data-ttu-id="d8ab6-151">При создании пользовательской роли, это проще toostart с одним из встроенных ролей hello.</span><span class="sxs-lookup"><span data-stu-id="d8ab6-151">When you create a custom role, it is easier toostart with one of hello built-in roles.</span></span> <span data-ttu-id="d8ab6-152">Изменить tooadd атрибуты hello hello действий, NotActions или AssignableScopes, а затем сохранить hello в качестве новой роли.</span><span class="sxs-lookup"><span data-stu-id="d8ab6-152">Edit hello attributes tooadd hello Actions, NotActions, or AssignableScopes, then save hello changes as a new role.</span></span> <span data-ttu-id="d8ab6-153">Hello следующий пример начинается с ролью «Чтения службы управления API Azure» hello и создает пользовательской роли, называется «Калькулятор редактором API».</span><span class="sxs-lookup"><span data-stu-id="d8ab6-153">hello following example begins with hello "Azure API Managment Service Reader" role and creates a custom role called "Calculator API Editor".</span></span> <span data-ttu-id="d8ab6-154">Hello пользовательской роли могут назначаться только tooa конкретного API таким образом будет только имеет доступ toothat API.</span><span class="sxs-lookup"><span data-stu-id="d8ab6-154">hello custom role can be assigned only tooa specific API therefore will only has access toothat API.</span></span> 

```
$role = Get-AzureRmRoleDefinition "API Management Service Reader Role"
$role.Id = $null
$role.Name = 'Calculator API Contributor'
$role.Description = 'Has read access tooContoso APIM instance and write access toohello Calculator API.'
$role.Actions.Add('Microsoft.ApiManagement/service/apis/write')
$role.AssignableScopes.Clear()
$role.AssignableScopes.Add('/subscriptions/<subscription ID>/resourceGroups/<resource group name>/providers/Microsoft.ApiManagement/service/<service name>/apis/<api ID>')
New-AzureRmRoleDefinition -Role $role
New-AzureRmRoleAssignment -ObjectId <object ID of hello user account> -RoleDefinitionName 'Calculator API Contributor' -Scope '/subscriptions/<subscription ID>/resourceGroups/<resource group name>/providers/Microsoft.ApiManagement/service/<service name>/apis/<api ID>'
```

## <a name="watch-a-video-overview"></a><span data-ttu-id="d8ab6-155">Просмотр видеообзора</span><span class="sxs-lookup"><span data-stu-id="d8ab6-155">Watch a Video Overview</span></span>

> [!VIDEO https://channel9.msdn.com/Blogs/AzureApiMgmt/Role-Based-Access-Control-in-API-Management/player]
> 
> 

## <a name="next-steps"></a><span data-ttu-id="d8ab6-156">Дальнейшие действия</span><span class="sxs-lookup"><span data-stu-id="d8ab6-156">Next Steps</span></span>

* <span data-ttu-id="d8ab6-157">Узнайте больше об управлении доступом на основе ролей в Azure.</span><span class="sxs-lookup"><span data-stu-id="d8ab6-157">Learn more about Role-Based Access Control in Azure</span></span>
  * [<span data-ttu-id="d8ab6-158">Приступая к управлению доступом в hello портал Azure</span><span class="sxs-lookup"><span data-stu-id="d8ab6-158">Get started with access management in hello Azure portal</span></span>](https://azure.microsoft.com/en-us/documentation/articles/role-based-access-control-what-is/)
  * [<span data-ttu-id="d8ab6-159">Использовать tooyour роли назначения toomanage доступ к ресурсам подписки Azure</span><span class="sxs-lookup"><span data-stu-id="d8ab6-159">Use role assignments toomanage access tooyour Azure subscription resources</span></span>](https://azure.microsoft.com/en-us/documentation/articles/role-based-access-control-what-is/)
  * [<span data-ttu-id="d8ab6-160">Пользовательские роли в Azure RBAC</span><span class="sxs-lookup"><span data-stu-id="d8ab6-160">Custom Roles in Azure RBAC</span></span>](https://docs.microsoft.com/en-us/azure/active-directory/role-based-access-control-custom-roles)
