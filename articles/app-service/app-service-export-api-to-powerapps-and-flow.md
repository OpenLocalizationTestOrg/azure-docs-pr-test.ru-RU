---
title: "aaaExporting tooPowerApps API, размещенных в Azure и Microsoft Flow | Документы Microsoft"
description: "Обзор размещения tooexpose API в tooPowerApps службы приложений и Microsoft Flow"
services: app-service
documentationcenter: 
author: mattchenderson
manager: erikre
editor: 
ms.assetid: 
ms.service: app-service
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: multiple
ms.topic: article
ms.date: 06/20/2017
ms.author: mahender
ms.openlocfilehash: 285b6efa3af5b0feac1ee2f617c0dc56dc3fd198
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/06/2017
---
# <a name="exporting-an-azure-hosted-api-toopowerapps-and-microsoft-flow"></a><span data-ttu-id="11b3b-103">Экспорт tooPowerApps API, размещенных в Azure и Microsoft Flow</span><span class="sxs-lookup"><span data-stu-id="11b3b-103">Exporting an Azure-hosted API tooPowerApps and Microsoft Flow</span></span>

## <a name="creating-custom-connectors-for-powerapps-and-microsoft-flow"></a><span data-ttu-id="11b3b-104">Создание настраиваемых соединителей для PowerApps и Microsoft Flow</span><span class="sxs-lookup"><span data-stu-id="11b3b-104">Creating custom connectors for PowerApps and Microsoft Flow</span></span>

<span data-ttu-id="11b3b-105">[PowerApps](https://powerapps.com) — это служба, для создания и использования пользовательских бизнес-приложений, которые подключаются tooyour данных и работы на разных платформах.</span><span class="sxs-lookup"><span data-stu-id="11b3b-105">[PowerApps](https://powerapps.com) is a service for building and using custom business apps that connect tooyour data and work across platforms.</span></span> <span data-ttu-id="11b3b-106">[Microsoft Flow](https://flow.microsoft.com) позволяет легко tooautomate рабочие процессы и бизнес-процессов между избранных приложений и служб.</span><span class="sxs-lookup"><span data-stu-id="11b3b-106">[Microsoft Flow](https://flow.microsoft.com) makes it easy tooautomate workflows and business processes between your favorite apps and services.</span></span> <span data-ttu-id="11b3b-107">PowerApps и Microsoft Flow имеют различные встроенные соединители toodata источников, таких как Office 365, Dynamics 365, Salesforce и многое другое.</span><span class="sxs-lookup"><span data-stu-id="11b3b-107">Both PowerApps and Microsoft Flow come with a variety of built-in connectors toodata sources such as Office 365, Dynamics 365, Salesforce, and more.</span></span> <span data-ttu-id="11b3b-108">Тем не менее пользователи также должны источников данных может tooleverage toobe и API-интерфейсов построенных по своей организации.</span><span class="sxs-lookup"><span data-stu-id="11b3b-108">However, users also need toobe able tooleverage data sources and APIs being built by their organization.</span></span>

<span data-ttu-id="11b3b-109">Аналогичным образом разработчики, которым требуется tooexpose их интерфейсов API из нескольких широко внутри hello организации может потребоваться toomake своих tooPowerApps доступные интерфейсы API и Microsoft Flow пользователей.</span><span class="sxs-lookup"><span data-stu-id="11b3b-109">Similarly, developers that want tooexpose their APIs more broadly within hello organization may want toomake their APIs available tooPowerApps and Microsoft Flow users.</span></span> <span data-ttu-id="11b3b-110">В этом разделе показано, как tooexpose API-Интерфейс, созданного с помощью службы приложений Azure или Azure функции tooPowerApps и Microsoft Flow.</span><span class="sxs-lookup"><span data-stu-id="11b3b-110">This topic will show you how tooexpose an API built with Azure App Service or Azure Functions tooPowerApps and Microsoft Flow.</span></span> <span data-ttu-id="11b3b-111">[Служба приложений Azure](https://azure.microsoft.com/services/app-service/) — это предложение платформа как служба, позволяющая разработчикам tooquickly и легко web корпоративного уровня сборки, мобильных устройств и приложения API.</span><span class="sxs-lookup"><span data-stu-id="11b3b-111">[Azure App Service](https://azure.microsoft.com/services/app-service/) is a platform-as-a-service offering that allows developers tooquickly and easily build enterprise-grade web, mobile, and API applications.</span></span> <span data-ttu-id="11b3b-112">[Функции Azure](https://azure.microsoft.com/services/functions/) — это решение на основе событий без сервера вычислений, позволяющий tooquickly автор код, который можно реагировать tooother части системы и масштабировать по требованию.</span><span class="sxs-lookup"><span data-stu-id="11b3b-112">[Azure Functions](https://azure.microsoft.com/services/functions/) is an event-based serverless compute solution that allows you tooquickly author code that can react tooother parts of your system and scale based on demand.</span></span>

<span data-ttu-id="11b3b-113">toolearn Дополнительные сведения об этих служб, см.:</span><span class="sxs-lookup"><span data-stu-id="11b3b-113">toolearn more about these services, see:</span></span>
- <span data-ttu-id="11b3b-114">[Guided Learning for PowerApps](https://powerapps.microsoft.com/guided-learning/learning-introducing-powerapps/) (Пошаговое изучение PowerApps)</span><span class="sxs-lookup"><span data-stu-id="11b3b-114">[PowerApps Guided Learning](https://powerapps.microsoft.com/guided-learning/learning-introducing-powerapps/)</span></span> 
- [<span data-ttu-id="11b3b-115">Интерактивное обучение Microsoft Flow</span><span class="sxs-lookup"><span data-stu-id="11b3b-115">Microsoft Flow Guided Learning</span></span>](https://flow.microsoft.com/guided-learning/learning-introducing-flow/)
- [<span data-ttu-id="11b3b-116">Что такое служба приложений?</span><span class="sxs-lookup"><span data-stu-id="11b3b-116">What is App Service?</span></span>](https://docs.microsoft.com/azure/app-service/app-service-value-prop-what-is)
- [<span data-ttu-id="11b3b-117">Обзор функций Azure</span><span class="sxs-lookup"><span data-stu-id="11b3b-117">What is Azure Functions</span></span>](https://docs.microsoft.com/azure/azure-functions/functions-overview)

## <a name="sharing-an-api-definition"></a><span data-ttu-id="11b3b-118">Предоставление общего доступа к определению API</span><span class="sxs-lookup"><span data-stu-id="11b3b-118">Sharing an API definition</span></span>

<span data-ttu-id="11b3b-119">API-интерфейсы часто описываются с помощью [OpenAPI документа](https://www.openapis.org/) (иногда называется tooas документа «Swagger»).</span><span class="sxs-lookup"><span data-stu-id="11b3b-119">APIs are often described using an [OpenAPI document](https://www.openapis.org/) (sometimes referred tooas a "Swagger" document).</span></span> <span data-ttu-id="11b3b-120">Содержит все сведения hello какие операции доступны и структуру данных hello.</span><span class="sxs-lookup"><span data-stu-id="11b3b-120">This contains all of hello information about what operations are available and how hello data should be structured.</span></span> <span data-ttu-id="11b3b-121">С помощью PowerApps и Microsoft Flow можно создавать настраиваемые соединители для любого документа OpenAPI 2.0.</span><span class="sxs-lookup"><span data-stu-id="11b3b-121">PowerApps and Microsoft Flow can create custom connectors for any OpenAPI 2.0 document.</span></span> <span data-ttu-id="11b3b-122">После создания пользовательского соединителя, он может использоваться в hello точно так же, как один из hello встроенные соединители и можно быстро интегрировать в приложения.</span><span class="sxs-lookup"><span data-stu-id="11b3b-122">Once a custom connector is created, it can be used in exactly hello same way as one of hello built-in connectors and can quickly be integrated into an application.</span></span>

<span data-ttu-id="11b3b-123">Служба приложений Azure и Функции Azure имеют [встроенную поддержку](https://docs.microsoft.com/azure/app-service-api/app-service-api-metadata) создания и размещения документа OpenAPI, а также управления им.</span><span class="sxs-lookup"><span data-stu-id="11b3b-123">Azure App Service and Azure Functions have [built-in support](https://docs.microsoft.com/azure/app-service-api/app-service-api-metadata) for creating, hosting, and managing an OpenAPI document.</span></span> <span data-ttu-id="11b3b-124">В порядке toocreate пользовательский соединитель веб-приложений, мобильных устройств, API или функции приложения, PowerApps и потока должны toobe получает копию определения hello.</span><span class="sxs-lookup"><span data-stu-id="11b3b-124">In order toocreate a custom connector for a web, mobile, API, or function app, PowerApps and Flow need toobe given a copy of hello definition.</span></span>

> [!NOTE]
> <span data-ttu-id="11b3b-125">Поскольку используется копия hello определения API PowerApps и Microsoft Flow не будет уведомлен немедленно обновления или приложения toohello критические изменения.</span><span class="sxs-lookup"><span data-stu-id="11b3b-125">Because a copy of hello API definition is being used, PowerApps and Microsoft Flow will not immediately know about updates or breaking changes toohello application.</span></span> <span data-ttu-id="11b3b-126">Если доступна новая версия hello API доступны, эти шаги необходимо выполнить для hello новой версии.</span><span class="sxs-lookup"><span data-stu-id="11b3b-126">If a new version of hello API is made available, these steps should be repeated for hello new version.</span></span> 

<span data-ttu-id="11b3b-127">tooprovide PowerApps и Microsoft Flow с размещенной hello определение API для приложения, выполните следующие действия.</span><span class="sxs-lookup"><span data-stu-id="11b3b-127">tooprovide PowerApps and Microsoft Flow with hello hosted API definition for your app, follow these steps:</span></span>

1. <span data-ttu-id="11b3b-128">Откройте hello [портала Azure](https://portal.azure.com) и перейдите tooyour приложения служб приложений или функций Azure.</span><span class="sxs-lookup"><span data-stu-id="11b3b-128">Open hello [Azure Portal](https://portal.azure.com) and navigate tooyour App Service or Azure Functions application.</span></span>

    <span data-ttu-id="11b3b-129">При использовании службы приложений Azure, выберите **определения API** из списка параметров hello.</span><span class="sxs-lookup"><span data-stu-id="11b3b-129">If using Azure App Service, select **API definition** from hello settings list.</span></span> 
    
    <span data-ttu-id="11b3b-130">При использовании Функции Azure, щелкните приложение-функцию и выберите **Platform features** (Функции платформы), а затем — **Определение API**.</span><span class="sxs-lookup"><span data-stu-id="11b3b-130">If using Azure Functions, select your function app, and then choose **Platform features**, and then **API definition**.</span></span> <span data-ttu-id="11b3b-131">Можно также выбрать tooopen hello **определения API (Предварительная версия)** вместо вкладки.</span><span class="sxs-lookup"><span data-stu-id="11b3b-131">You could also choose tooopen hello **API definition (preview)** tab instead.</span></span>

2. <span data-ttu-id="11b3b-132">Если имеется определение API вы увидите **Экспорт tooPowerApps + Microsoft Flow** кнопки.</span><span class="sxs-lookup"><span data-stu-id="11b3b-132">If an API definition has been provided, you will see an **Export tooPowerApps + Microsoft Flow** button.</span></span> <span data-ttu-id="11b3b-133">Нажмите кнопку toobegin hello в ходе экспорта.</span><span class="sxs-lookup"><span data-stu-id="11b3b-133">Click this button toobegin hello export process.</span></span>

3. <span data-ttu-id="11b3b-134">Выберите hello **режим экспорта**.</span><span class="sxs-lookup"><span data-stu-id="11b3b-134">Select hello **Export mode**.</span></span> <span data-ttu-id="11b3b-135">Определяет действия hello, вам потребуется toofollow toocreate соединителя.</span><span class="sxs-lookup"><span data-stu-id="11b3b-135">This determines hello steps you will need toofollow toocreate a connector.</span></span> <span data-ttu-id="11b3b-136">Службы приложений предлагают два варианта предоставления PowerApps и Microsoft Flow с определением API:</span><span class="sxs-lookup"><span data-stu-id="11b3b-136">App Service offers two options for providing PowerApps and Microsoft Flow with your API definition:</span></span>

    <span data-ttu-id="11b3b-137">**Express** позволяет создавать пользовательский соединитель hello из внутри hello портал Azure.</span><span class="sxs-lookup"><span data-stu-id="11b3b-137">**Express** lets you create hello custom connector from within hello Azure portal.</span></span> <span data-ttu-id="11b3b-138">Он требует этот hello текущей вошедшего в систему пользователь имеет разрешение toocreate соединителей в целевой среде hello.</span><span class="sxs-lookup"><span data-stu-id="11b3b-138">It requires that hello curent logged-in user has permission toocreate connectors in hello target environment.</span></span> <span data-ttu-id="11b3b-139">Это рекомендованный подход, при этом требование hello.</span><span class="sxs-lookup"><span data-stu-id="11b3b-139">This is hello recommended approach if that requirement can be met.</span></span> <span data-ttu-id="11b3b-140">Если в этом режиме выполните hello [Express экспорта](#express) приведенным ниже инструкциям.</span><span class="sxs-lookup"><span data-stu-id="11b3b-140">If using this mode, follow hello [Express export](#express) instructions below.</span></span>

    <span data-ttu-id="11b3b-141">**Вручную** позволяет экспортировать копию определения hello API, которые можно импортировать с помощью приветствия PowerApps и Microsoft Flow порталов.</span><span class="sxs-lookup"><span data-stu-id="11b3b-141">**Manual** lets you export a copy of hello API definiton which can be imported using hello PowerApps or Microsoft Flow portals.</span></span> <span data-ttu-id="11b3b-142">Это рекомендованный подход, если hello Azure пользователя и hello пользователя с помощью соединителей toocreate разрешение — разные люди или hello соединитель должен toobe создан другим клиентом hello.</span><span class="sxs-lookup"><span data-stu-id="11b3b-142">This is hello recommended approach if hello Azure user and hello user with permission toocreate connectors are different people or if hello connector needs toobe created in another tenant.</span></span> <span data-ttu-id="11b3b-143">Если в этом режиме выполните hello [вручную экспорта и импорта](#manual) приведенным ниже инструкциям.</span><span class="sxs-lookup"><span data-stu-id="11b3b-143">If using this mode, follow hello [Manual export and import](#manual) instructions below.</span></span>

<a name="express"></a>
## <a name="express-export"></a><span data-ttu-id="11b3b-144">Экспресс экспорт</span><span class="sxs-lookup"><span data-stu-id="11b3b-144">Express export</span></span>

<span data-ttu-id="11b3b-145">В этом разделе вы создадите новый пользовательский соединитель из внутри hello портал Azure.</span><span class="sxs-lookup"><span data-stu-id="11b3b-145">In this section, you will create a new custom connector from within hello Azure portal.</span></span> <span data-ttu-id="11b3b-146">Вы должны войти в toowhich hello клиента нужно tooexport и toocreate разрешение необходимо иметь пользовательский соединитель в целевой среде hello.</span><span class="sxs-lookup"><span data-stu-id="11b3b-146">You must be logged into hello tenant toowhich you wish tooexport, and you must have permission toocreate a custom connector in hello target environment.</span></span>

1. <span data-ttu-id="11b3b-147">Выберите среду hello, в котором вы хотите toocreate hello соединителя.</span><span class="sxs-lookup"><span data-stu-id="11b3b-147">Select hello environment in which you would like toocreate hello connector.</span></span> <span data-ttu-id="11b3b-148">Затем введите имя для вашего настраиваемого соединителя.</span><span class="sxs-lookup"><span data-stu-id="11b3b-148">Then provide a name for your custom connector.</span></span>

2. <span data-ttu-id="11b3b-149">Если определение API содержит какие-либо параметры безопасности, они будут вызваны на шаге 2.</span><span class="sxs-lookup"><span data-stu-id="11b3b-149">If your API definition includes any security definitions, these will be called out in step #2.</span></span> <span data-ttu-id="11b3b-150">При необходимости предоставить hello безопасности сведения о конфигурации требуется toogrant пользователи обращаются к tooyour API.</span><span class="sxs-lookup"><span data-stu-id="11b3b-150">If required, provide hello security configuration details needed toogrant users access tooyour API.</span></span> <span data-ttu-id="11b3b-151">Дополнительные сведения см. в разделе [Проверка подлинности](#auth) ниже.</span><span class="sxs-lookup"><span data-stu-id="11b3b-151">For more information, see [Authentication](#auth) below.</span></span> 

3. <span data-ttu-id="11b3b-152">Нажмите кнопку **ОК** toocreate пользовательского соединителя.</span><span class="sxs-lookup"><span data-stu-id="11b3b-152">Click **OK** toocreate your custom connector.</span></span>


<a name="manual"></a>
## <a name="manual-export-and-import"></a><span data-ttu-id="11b3b-153">Экспорт и импорт вручную</span><span class="sxs-lookup"><span data-stu-id="11b3b-153">Manual export and import</span></span>

<span data-ttu-id="11b3b-154">В порядке toocreate пользовательский соединитель веб-приложений, мобильных устройств, API или функции приложения потребуется два шага:</span><span class="sxs-lookup"><span data-stu-id="11b3b-154">In order toocreate a custom connector for a web, mobile, API, or function app, two steps will be needed:</span></span>

1. [<span data-ttu-id="11b3b-155">Получение определения API hello из приложения службы или функции Azure</span><span class="sxs-lookup"><span data-stu-id="11b3b-155">Retrieving hello API definition from App Service or Azure Functions</span></span>](#export)
2. [<span data-ttu-id="11b3b-156">Импорт определения API hello в PowerApps и Microsoft Flow</span><span class="sxs-lookup"><span data-stu-id="11b3b-156">Importing hello API definition into PowerApps and Microsoft Flow</span></span>](#import)

<span data-ttu-id="11b3b-157">Это возможно, эти два действия необходимость toobe сопровождающими отдельных лиц в организации, как данный пользователь может не иметь разрешение tooperform обоих этих действий.</span><span class="sxs-lookup"><span data-stu-id="11b3b-157">It is possible that these two steps will need toobe carried out by separate individuals within an organization, as a given user may not have permission tooperform both actions.</span></span> <span data-ttu-id="11b3b-158">В этом случае разработчиком, toohello доступа участника службы приложений или функций Azure приложения потребуется определение hello API tooobtain (один JSON-файл) или tooit ссылку.</span><span class="sxs-lookup"><span data-stu-id="11b3b-158">In this case, a developer who has contributor access toohello App Service or Azure Functions application will need tooobtain hello API definition (a single JSON file) or a link tooit.</span></span> <span data-ttu-id="11b3b-159">Затем необходимо tooprovide, определение tooa PowerApps и Microsoft Flow пользователем.</span><span class="sxs-lookup"><span data-stu-id="11b3b-159">They will then need tooprovide that definition tooa PowerApps or Microsoft Flow owner.</span></span> <span data-ttu-id="11b3b-160">Владельца этого можно использовать пользовательский соединитель toocreate метаданных hello hello.</span><span class="sxs-lookup"><span data-stu-id="11b3b-160">That owner can use hello metadata toocreate hello custom connector.</span></span>

<a name="export"></a>
### <a name="retrieving-hello-api-definition-from-app-service-or-azure-functions"></a><span data-ttu-id="11b3b-161">Получение определения API hello из приложения службы или функции Azure</span><span class="sxs-lookup"><span data-stu-id="11b3b-161">Retrieving hello API definition from App Service or Azure Functions</span></span>

<span data-ttu-id="11b3b-162">В этом разделе будет экспортировать hello определение API для API службы приложения, toobe, используемых в дальнейшем в портал PowerApps и Microsoft Flow hello.</span><span class="sxs-lookup"><span data-stu-id="11b3b-162">In this section, you will export hello API definition for your App Service API, toobe used later in hello PowerApps or Microsoft Flow portal.</span></span>

1. <span data-ttu-id="11b3b-163">Вы можете tooeither **загрузить определение hello API** или **получите ссылку**.</span><span class="sxs-lookup"><span data-stu-id="11b3b-163">You can choose tooeither **Download hello API definition** or **Get a link**.</span></span> <span data-ttu-id="11b3b-164">Независимости от выбранного варианта, в следующем разделе hello будет отображено hello результат.</span><span class="sxs-lookup"><span data-stu-id="11b3b-164">Whichever you choose, hello result will be provided in hello next section.</span></span> <span data-ttu-id="11b3b-165">Выберите один из следующих вариантов и следуйте инструкциям hello.</span><span class="sxs-lookup"><span data-stu-id="11b3b-165">Select one of these options and follow hello instructions.</span></span>
 
2. <span data-ttu-id="11b3b-166">Если определение API содержит какие-либо параметры безопасности, они будут вызваны на шаге 2.</span><span class="sxs-lookup"><span data-stu-id="11b3b-166">If your API definition includes any security definitions, these will be called out in step #2.</span></span> <span data-ttu-id="11b3b-167">Во время импорта PowerApps и Microsoft Flow обнаружат их и предложат ввести сведения о безопасности.</span><span class="sxs-lookup"><span data-stu-id="11b3b-167">During import, PowerApps and Microsoft Flow will detect these and will prompt for security information.</span></span> <span data-ttu-id="11b3b-168">Соберите hello определения связанных tooeach учетные данные для использования в следующем разделе hello.</span><span class="sxs-lookup"><span data-stu-id="11b3b-168">Gather hello credentials related tooeach definition for use in hello next section.</span></span> <span data-ttu-id="11b3b-169">Дополнительные сведения см. в разделе [Проверка подлинности](#auth) ниже.</span><span class="sxs-lookup"><span data-stu-id="11b3b-169">For more information, see [Authentication](#auth) below.</span></span> 

<a name="import"></a>
### <a name="importing-hello-api-definition-into-powerapps-and-microsoft-flow"></a><span data-ttu-id="11b3b-170">Импорт определения API hello в PowerApps и Microsoft Flow</span><span class="sxs-lookup"><span data-stu-id="11b3b-170">Importing hello API definition into PowerApps and Microsoft Flow</span></span>

<span data-ttu-id="11b3b-171">В этом разделе вы создадите пользовательский соединитель в PowerApps и Microsoft Flow с использованием определения hello API, полученный ранее.</span><span class="sxs-lookup"><span data-stu-id="11b3b-171">In this section, you will create a custom connector in PowerApps and Microsoft Flow using hello API definition obtained earlier.</span></span> <span data-ttu-id="11b3b-172">Настраиваемые соединители распределяются между двумя службами hello, поэтому требуется только один раз определение hello tooimport.</span><span class="sxs-lookup"><span data-stu-id="11b3b-172">Custom connectors are shared between hello two services, so you only need tooimport hello definition once.</span></span> <span data-ttu-id="11b3b-173">Дополнительные сведения о настраиваемых соединителях см. в статьях [зарегистрировать и использовать настраиваемые соединители в PowerApps] и [зарегистрировать и использовать настраиваемые соединители в Microsoft Flow].</span><span class="sxs-lookup"><span data-stu-id="11b3b-173">For more information on custom connectors, see [Register and use custom connectors in PowerApps] and [Register and use custom connectors in Microsoft Flow].</span></span>

1. <span data-ttu-id="11b3b-174">Откройте hello [Powerapps веб-портале](https://web.powerapps.com) или hello [веб-портале Microsoft Flow](https://flow.microsoft.com/)и выполните вход.</span><span class="sxs-lookup"><span data-stu-id="11b3b-174">Open hello [Powerapps web portal](https://web.powerapps.com) or hello [Microsoft Flow web portal](https://flow.microsoft.com/), and sign in.</span></span> 

2. <span data-ttu-id="11b3b-175">Щелкните hello **параметры** hello верхнем правом углу страницы hello и выберите кнопку (значок шестеренки hello) **соединители настраиваемый**.</span><span class="sxs-lookup"><span data-stu-id="11b3b-175">Click hello **Settings** button (hello gear icon) at hello upper right of hello page and select **Custom connectors**.</span></span> 

3. <span data-ttu-id="11b3b-176">Щелкните **Создать настраиваемый соединитель**.</span><span class="sxs-lookup"><span data-stu-id="11b3b-176">Click **Create custom connector**.</span></span>

4. <span data-ttu-id="11b3b-177">На hello **Общие** вкладку, задайте имя для API и затем передать определение OpenAPI hello или вставьте URL-адрес метаданных hello.</span><span class="sxs-lookup"><span data-stu-id="11b3b-177">On hello **General** tab, provide a name for your API, and then upload hello OpenAPI definition or paste in hello metadata URL.</span></span> <span data-ttu-id="11b3b-178">Нажмите кнопку **Продолжить**.</span><span class="sxs-lookup"><span data-stu-id="11b3b-178">Click **Continue**.</span></span>

4. <span data-ttu-id="11b3b-179">На hello **безопасности** вкладку, если tooprovide запрашиваемые сведения о проверке подлинности, введите значения hello, полученный в предыдущем разделе hello.</span><span class="sxs-lookup"><span data-stu-id="11b3b-179">On hello **Security** tab, if you are prompted tooprovide authentication details, enter hello values obtained in hello previous section.</span></span> <span data-ttu-id="11b3b-180">Если нет, продолжить toohello следующий шаг.</span><span class="sxs-lookup"><span data-stu-id="11b3b-180">If not, proceed toohello next step.</span></span>

5. <span data-ttu-id="11b3b-181">На hello **определения** вкладку, все операции hello, определенной в файле OpenAPI заполняются автоматически.</span><span class="sxs-lookup"><span data-stu-id="11b3b-181">On hello **Definitions** tab, all hello operations defined in your OpenAPI file are auto-populated.</span></span> <span data-ttu-id="11b3b-182">Если определены все необходимые операции, можно перейти toohello следующий шаг.</span><span class="sxs-lookup"><span data-stu-id="11b3b-182">If all your required operations are defined, you can go toohello next step.</span></span> <span data-ttu-id="11b3b-183">Если нет, вы можете добавить и изменить операции здесь.</span><span class="sxs-lookup"><span data-stu-id="11b3b-183">If not, you can add and modify operations here.</span></span>

6. <span data-ttu-id="11b3b-184">Нажмите кнопку **Создать соединитель**.</span><span class="sxs-lookup"><span data-stu-id="11b3b-184">Click **Create connector**.</span></span> <span data-ttu-id="11b3b-185">Вызовы API tootest перейдите toohello следующий шаг.</span><span class="sxs-lookup"><span data-stu-id="11b3b-185">If you want tootest API calls, go toohello next step.</span></span>

7. <span data-ttu-id="11b3b-186">На hello **тест** создать соединение, выберите tootest операции и введите все данные, необходимые операции hello.</span><span class="sxs-lookup"><span data-stu-id="11b3b-186">On hello **Test** tab, create a connection, select an operation tootest, and enter any data required by hello operation.</span></span>

8. <span data-ttu-id="11b3b-187">Нажмите кнопку **Тестировать операцию**.</span><span class="sxs-lookup"><span data-stu-id="11b3b-187">Click **Test operation**.</span></span>


<a name="auth"></a>
## <a name="authentication"></a><span data-ttu-id="11b3b-188">Аутентификация</span><span class="sxs-lookup"><span data-stu-id="11b3b-188">Authentication</span></span>

<span data-ttu-id="11b3b-189">PowerApps и Microsoft Flow поддерживают коллекцию поставщиков удостоверений, которые могут быть используется toolog пользователи вашего пользовательского соединителя.</span><span class="sxs-lookup"><span data-stu-id="11b3b-189">PowerApps and Microsoft Flow natively support a collection of identity providers which can be used toolog in users of your custom connector.</span></span> <span data-ttu-id="11b3b-190">Если для API требуется проверка подлинности, это определение должно быть записано в виде _определения безопасности_ в документе OpenAPI.</span><span class="sxs-lookup"><span data-stu-id="11b3b-190">If your API requires authentication, ensure that it is captured as a _security definition_ in your OpenAPI document.</span></span> <span data-ttu-id="11b3b-191">Во время экспорта вам потребуется tooprovide значения конфигурации, которые предоставляют PowerApps Microsoft Flow tooperform входа действия.</span><span class="sxs-lookup"><span data-stu-id="11b3b-191">During export, you will need tooprovide configuration values that allow PowerApps an Microsoft Flow tooperform login actions.</span></span>

<span data-ttu-id="11b3b-192">В этом разделе описаны типы проверки подлинности hello, поддерживаемыми hello express потока: ключ API, Azure Active Directory и универсального OAuth 2.0.</span><span class="sxs-lookup"><span data-stu-id="11b3b-192">This section covers hello authentication types which are supported by hello express flow: API key, Azure Active Directory, and Generic OAuth 2.0.</span></span> <span data-ttu-id="11b3b-193">Полный список поставщиков и каждый требует учетные данные hello см. в разделе [зарегистрировать и использовать настраиваемые соединители в PowerApps] и [зарегистрировать и использовать настраиваемые соединители в Microsoft Flow].</span><span class="sxs-lookup"><span data-stu-id="11b3b-193">For a complete list of providers and hello credentials each requires, see [Register and use custom connectors in PowerApps] and [Register and use custom connectors in Microsoft Flow].</span></span>

### <a name="api-key"></a><span data-ttu-id="11b3b-194">Ключ API</span><span class="sxs-lookup"><span data-stu-id="11b3b-194">API key</span></span>
<span data-ttu-id="11b3b-195">При использовании этой схемы безопасности пользователи hello вашего соединителя будут запрашиваемые tooprovide hello ключ при создании соединения.</span><span class="sxs-lookup"><span data-stu-id="11b3b-195">When this security scheme is used, hello users of your connector will be prompted tooprovide hello key when they create a connection.</span></span> <span data-ttu-id="11b3b-196">Чтобы обеспечить toohelp имя ключа API их знать, какой ключ необходим.</span><span class="sxs-lookup"><span data-stu-id="11b3b-196">You can provide an API key name toohelp them know which key is needed.</span></span> <span data-ttu-id="11b3b-197">Для функций Azure это обычно будет один из разделов узла hello, охватывающие несколько функций в приложение функции hello.</span><span class="sxs-lookup"><span data-stu-id="11b3b-197">For Azure Functions, this will typically be one of hello host keys, covering several functions within hello function app.</span></span>

### <a name="azure-active-directory"></a><span data-ttu-id="11b3b-198">Azure Active Directory</span><span class="sxs-lookup"><span data-stu-id="11b3b-198">Azure Active Directory</span></span>
<span data-ttu-id="11b3b-199">При настройке пользовательского соединителя, требующий входа AAD, требуются два регистрации AAD приложения: один toomodel hello внутренних API и один соединитель hello toomodel в PowerApps и потока.</span><span class="sxs-lookup"><span data-stu-id="11b3b-199">When configuring a custom connector that requires AAD login, two AAD application registrations are required: one toomodel hello backend API, and one toomodel hello connector in PowerApps and Flow.</span></span>

<span data-ttu-id="11b3b-200">API должны быть настроенный toowork с первой регистрации hello, и это будет уже возложить при использовании hello [приложения службы проверки подлинности и авторизации](https://docs.microsoft.com/azure/app-service-mobile/app-service-mobile-how-to-configure-active-directory-authentication) компонентов.</span><span class="sxs-lookup"><span data-stu-id="11b3b-200">Your API should be configured toowork with hello first registration, and this will already be taken care of if you used hello [App Service Authentication/Authorization](https://docs.microsoft.com/azure/app-service-mobile/app-service-mobile-how-to-configure-active-directory-authentication) feature.</span></span>

<span data-ttu-id="11b3b-201">Будет иметь toomanually создать второй регистрацию hello для соединителя hello, используя hello шаги, описанные в [Добавление приложения AAD](https://docs.microsoft.com/azure/active-directory/develop/active-directory-integrating-applications#adding-an-application).</span><span class="sxs-lookup"><span data-stu-id="11b3b-201">You will have toomanually create hello second registration for hello connector, using hello steps covered in [Adding an AAD application](https://docs.microsoft.com/azure/active-directory/develop/active-directory-integrating-applications#adding-an-application).</span></span> <span data-ttu-id="11b3b-202">Hello регистрации требуется делегировать toohave доступа tooyour API и URL-адрес ответа из `https://msmanaged-na.consent.azure-apim.net/redirect`.</span><span class="sxs-lookup"><span data-stu-id="11b3b-202">hello registration needs toohave delegated access tooyour API and a reply URL of `https://msmanaged-na.consent.azure-apim.net/redirect`.</span></span> <span data-ttu-id="11b3b-203">См. в разделе [в этом примере](
https://powerapps.microsoft.com/tutorials/customapi-azure-resource-manager-tutorial/) для получения дополнительных сведений, заменив API для hello диспетчера ресурсов Azure.</span><span class="sxs-lookup"><span data-stu-id="11b3b-203">Please see [this example](
https://powerapps.microsoft.com/tutorials/customapi-azure-resource-manager-tutorial/) for more detail, substituting your API for hello Azure Resource Manager.</span></span>

<span data-ttu-id="11b3b-204">требуются следующие значения конфигурации Hello.</span><span class="sxs-lookup"><span data-stu-id="11b3b-204">hello following configuration values are required:</span></span>
- <span data-ttu-id="11b3b-205">**Идентификатор клиента** -hello идентификатор клиента для соединителя регистрации AAD</span><span class="sxs-lookup"><span data-stu-id="11b3b-205">**Client ID** - hello client ID of your connector AAD registration</span></span>
- <span data-ttu-id="11b3b-206">**Секрет клиента** -секрет клиента hello вашего соединителя регистрации AAD</span><span class="sxs-lookup"><span data-stu-id="11b3b-206">**Client secret** - hello client secret of your connector AAD registration</span></span>
- <span data-ttu-id="11b3b-207">**URL-адрес входа** - hello базовый URL-адрес для AAD.</span><span class="sxs-lookup"><span data-stu-id="11b3b-207">**Login URL** - hello base URL for AAD.</span></span> <span data-ttu-id="11b3b-208">В общедоступной версии Azure это, как правило, будет `https://login.windows.net`.</span><span class="sxs-lookup"><span data-stu-id="11b3b-208">In public Azure, this will typically be `https://login.windows.net`.</span></span>
- <span data-ttu-id="11b3b-209">**Идентификатор клиента** -hello идентификатор hello toobe клиента, используемый для входа hello.</span><span class="sxs-lookup"><span data-stu-id="11b3b-209">**Tenant ID** - hello ID of hello tenant toobe used for hello login.</span></span> <span data-ttu-id="11b3b-210">Это должен быть «общими» или hello идентификатор hello клиента, в которой hello создается соединитель.</span><span class="sxs-lookup"><span data-stu-id="11b3b-210">This should be "common" or hello ID of hello tenant in which hello connector is being created.</span></span>
- <span data-ttu-id="11b3b-211">**URL-адрес ресурса** -hello ресурса URL-адрес регистрации AAD внутренних API</span><span class="sxs-lookup"><span data-stu-id="11b3b-211">**Resource URL** - hello resource URL of your API backend AAD registration</span></span>

> [!IMPORTANT]
> <span data-ttu-id="11b3b-212">Если другим лицам требуется импортировать определения hello API в PowerApps и Microsoft Flow как часть потока вручную hello, вам потребуется tooprovide с hello клиента идентификатор и секрет клиента **регистрации соединителя hello**, а также как hello ресурса URL-адрес вашего API.</span><span class="sxs-lookup"><span data-stu-id="11b3b-212">If another individual will be importing hello API definition into PowerApps and Microsoft Flow as part of hello manual flow, you will need tooprovide them with hello client ID and client secret **of hello connector registration**, as well as hello resource URL of your API.</span></span> <span data-ttu-id="11b3b-213">Обеспечьте безопасное управление этими секретами.</span><span class="sxs-lookup"><span data-stu-id="11b3b-213">Make sure that these secrets are managed securely.</span></span> <span data-ttu-id="11b3b-214">**Не используйте учетные данные безопасности hello hello сам интерфейс API.**</span><span class="sxs-lookup"><span data-stu-id="11b3b-214">**Do not share hello security credentials of hello API itself.**</span></span>

### <a name="generic-oauth-20"></a><span data-ttu-id="11b3b-215">Универсальная OAuth 2.0</span><span class="sxs-lookup"><span data-stu-id="11b3b-215">Generic OAuth 2.0</span></span>
<span data-ttu-id="11b3b-216">Общая поддержка OAuth 2.0 Hello позволяет toointegrate с поставщиками OAuth 2.0.</span><span class="sxs-lookup"><span data-stu-id="11b3b-216">hello generic OAuth 2.0 support allows you toointegrate with any OAuth 2.0 provider.</span></span> <span data-ttu-id="11b3b-217">Это позволяет toobring в любой пользовательский поставщик, который изначально не поддерживается.</span><span class="sxs-lookup"><span data-stu-id="11b3b-217">This allows you toobring in any custom provider which is not natively supported.</span></span>

<span data-ttu-id="11b3b-218">требуются следующие значения конфигурации Hello.</span><span class="sxs-lookup"><span data-stu-id="11b3b-218">hello following configuration values are required:</span></span>
- <span data-ttu-id="11b3b-219">**Идентификатор клиента** -hello идентификатор клиента OAuth 2.0</span><span class="sxs-lookup"><span data-stu-id="11b3b-219">**Client ID** - hello OAuth 2.0 client ID</span></span>
- <span data-ttu-id="11b3b-220">**Секрет клиента** -секрет клиента OAuth 2.0 hello</span><span class="sxs-lookup"><span data-stu-id="11b3b-220">**Client secret** - hello OAuth 2.0 client secret</span></span>
- <span data-ttu-id="11b3b-221">**URL-адрес авторизации** -hello URL-адрес авторизации OAuth 2.0</span><span class="sxs-lookup"><span data-stu-id="11b3b-221">**Authorization URL** - hello OAuth 2.0 authorization URL</span></span>
- <span data-ttu-id="11b3b-222">**Токен URL-адрес** -hello URL-адрес токена OAuth 2.0</span><span class="sxs-lookup"><span data-stu-id="11b3b-222">**Token URL** - hello OAuth 2.0 token URL</span></span>
- <span data-ttu-id="11b3b-223">**Обновить URL-адрес** -hello URL-адрес обновления OAuth 2.0</span><span class="sxs-lookup"><span data-stu-id="11b3b-223">**Refresh URL** - hello OAuth 2.0 refresh URL</span></span>



[зарегистрировать и использовать настраиваемые соединители в PowerApps]: https://powerapps.microsoft.com/tutorials/register-custom-api/
[зарегистрировать и использовать настраиваемые соединители в Microsoft Flow]: https://flow.microsoft.com/documentation/register-custom-api/
