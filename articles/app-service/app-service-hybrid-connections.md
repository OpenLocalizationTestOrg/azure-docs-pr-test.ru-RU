---
title: "AAA» гибридных подключений службы приложений Azure | Документы Microsoft»"
description: "Как toocreate и использование ресурсов tooaccess гибридные подключения в различных сетях"
services: app-service
documentationcenter: 
author: ccompy
manager: stefsch
editor: 
ms.assetid: 66774bde-13f5-45d0-9a70-4e9536a4f619
ms.service: app-service
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 04/22/2017
ms.author: ccompy
ms.openlocfilehash: 61d58068ab0a7c803019e3f0e92bde4273d1a053
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/06/2017
---
# <a name="azure-app-service-hybrid-connections"></a><span data-ttu-id="5db51-103">Гибридные подключения к службе приложений Azure</span><span class="sxs-lookup"><span data-stu-id="5db51-103">Azure App Service Hybrid Connections</span></span> #

## <a name="overview"></a><span data-ttu-id="5db51-104">Обзор</span><span class="sxs-lookup"><span data-stu-id="5db51-104">Overview</span></span> ##

<span data-ttu-id="5db51-105">Гибридные подключения является службы в Azure как, так и функции в службе приложений Azure hello.</span><span class="sxs-lookup"><span data-stu-id="5db51-105">Hybrid Connections is both a service in Azure as well as a feature in hello Azure App Service.</span></span>  <span data-ttu-id="5db51-106">Как служба имеет использования и возможностей, чем те, которые использовались в службе приложений Azure hello.</span><span class="sxs-lookup"><span data-stu-id="5db51-106">As a service it has use and capabilities beyond those that are leveraged in hello Azure App Service.</span></span>  <span data-ttu-id="5db51-107">Дополнительные сведения о гибридных подключений и их использования за пределами hello службе приложений Azure, можно запустить, toolearn [гибридных подключений ретрансляции Azure][HCService]</span><span class="sxs-lookup"><span data-stu-id="5db51-107">toolearn more about Hybrid Connections and their usage outside of hello Azure App Service you can start here, [Azure Relay Hybrid Connections][HCService]</span></span>

<span data-ttu-id="5db51-108">В рамках hello службе приложений Azure гибридные подключения может быть используется tooaccess ресурсы приложения в других сетях.</span><span class="sxs-lookup"><span data-stu-id="5db51-108">Within hello Azure App Service, hybrid connections can be used tooaccess application resources in other networks.</span></span> <span data-ttu-id="5db51-109">Он предоставляет доступ из конечной точки приложения tooan вашего приложения.</span><span class="sxs-lookup"><span data-stu-id="5db51-109">It provides access FROM your app tooan application endpoint.</span></span>  <span data-ttu-id="5db51-110">Это не позволяет tooaccess альтернативных возможностей приложения.</span><span class="sxs-lookup"><span data-stu-id="5db51-110">It does not enable an alternative capability tooaccess your application.</span></span>  <span data-ttu-id="5db51-111">Как hello службы приложений каждого гибридного подключения сопоставляет tooa один узел и порт комбинацией TCP.</span><span class="sxs-lookup"><span data-stu-id="5db51-111">As used in hello App Service, each hybrid connection correlates tooa single TCP host and port combination.</span></span>  <span data-ttu-id="5db51-112">Это означает, что этой конечной точке hello гибридного подключения может быть в любой операционной системе и любые приложения, если предназначаются прослушивающий TCP-порт.</span><span class="sxs-lookup"><span data-stu-id="5db51-112">This means that hello hybrid connection endpoint can be on any operating system and any application provided you are hitting a TCP listening port.</span></span> <span data-ttu-id="5db51-113">Гибридные подключения знать или не обращают внимания на какие протокол приложения hello, или вы обращаетесь.</span><span class="sxs-lookup"><span data-stu-id="5db51-113">Hybrid connections does not know or care what hello application protocol is or what you are accessing.</span></span>  <span data-ttu-id="5db51-114">Они просто обеспечивают доступ к сети.</span><span class="sxs-lookup"><span data-stu-id="5db51-114">It is simply providing network access.</span></span>  


## <a name="how-it-works"></a><span data-ttu-id="5db51-115">Принцип работы</span><span class="sxs-lookup"><span data-stu-id="5db51-115">How it works</span></span> ##
<span data-ttu-id="5db51-116">Hello гибридного подключения состоит из двух исходящих вызовов tooService ретрансляции шины.</span><span class="sxs-lookup"><span data-stu-id="5db51-116">hello hybrid connections feature consists of two outbound calls tooService Bus Relay.</span></span>  <span data-ttu-id="5db51-117">Отсутствует подключение из библиотеки на узле hello, где приложение будет выполняться в службе приложений hello и выполняется подключение от ретрансляции шины tooService hello Manager(HCM) гибридного подключения.</span><span class="sxs-lookup"><span data-stu-id="5db51-117">There is a connection from a library on hello host where your app is running in hello app service and then there is a connection from hello Hybrid Connection Manager(HCM) tooService Bus relay.</span></span>  <span data-ttu-id="5db51-118">Hello HCM — это служба ретрансляции, которая развертывается в hello сетевого размещения</span><span class="sxs-lookup"><span data-stu-id="5db51-118">hello HCM is a relay service that you deploy within hello network hosting</span></span> 

<span data-ttu-id="5db51-119">Через hello двух соединяемых соединений приложения tooa туннель TCP фиксированной узла: порт сочетание hello hello HCM другой стороне.</span><span class="sxs-lookup"><span data-stu-id="5db51-119">Through hello two joined connections your app has a TCP tunnel tooa fixed host:port combination on hello other side of hello HCM.</span></span>  <span data-ttu-id="5db51-120">Hello соединение использует TLS 1.2 для безопасности и ключи SAS для проверки подлинности и авторизации.</span><span class="sxs-lookup"><span data-stu-id="5db51-120">hello connection uses TLS 1.2 for security and SAS keys for authentication/authorization.</span></span>    

![][1]

<span data-ttu-id="5db51-121">Когда приложение выполняет запрос DNS, соответствующий конечной точке Настройка гибридного подключения, а затем вниз hello гибридного подключения будут перенаправляться hello исходящего трафика TCP.</span><span class="sxs-lookup"><span data-stu-id="5db51-121">When your app makes a DNS request that matches a configure Hybrid Connection endpoint, then hello outbound TCP traffic will be redirected down hello hybrid connection.</span></span>  

> [!NOTE]
> <span data-ttu-id="5db51-122">Это означает, что следует попробовать использование tooalways DNS-имя для вашего гибридного подключения.</span><span class="sxs-lookup"><span data-stu-id="5db51-122">This means that you should try tooalways use a DNS name for your Hybrid Connection.</span></span>  <span data-ttu-id="5db51-123">Некоторые клиентское программное обеспечение не делайте Уточняющий запрос DNS, если вместо него используется IP-адрес конечной точки hello.</span><span class="sxs-lookup"><span data-stu-id="5db51-123">Some client software does not do a DNS lookup if hello endpoint uses an IP address instead.</span></span>
>
>

<span data-ttu-id="5db51-124">Существует два типа гибридных подключений, hello новых гибридных подключений, которые предоставляются как служба в Azure ретрансляции и hello старые BizTalk гибридных подключений.</span><span class="sxs-lookup"><span data-stu-id="5db51-124">There are two types of hybrid connections, hello new hybrid connections that are offered as a service under Azure Relay and hello older BizTalk Hybrid Connections.</span></span>  <span data-ttu-id="5db51-125">Hello гибридное подключение BizTalk, ссылка tooas классический гибридных подключений на портале hello.</span><span class="sxs-lookup"><span data-stu-id="5db51-125">hello older BizTalk Hybrid Connections are referred tooas Classic Hybrid Connections in hello portal.</span></span>  <span data-ttu-id="5db51-126">Дополнительная информация о них приведена далее в этом документе.</span><span class="sxs-lookup"><span data-stu-id="5db51-126">There is more information later in this document about them.</span></span>

### <a name="app-service-hybrid-connection-benefits"></a><span data-ttu-id="5db51-127">Преимущества гибридного подключения службы приложений</span><span class="sxs-lookup"><span data-stu-id="5db51-127">App Service hybrid connection benefits</span></span> ###

<span data-ttu-id="5db51-128">Существует несколько преимуществ toohello гибридных подключений возможностей, в том числе</span><span class="sxs-lookup"><span data-stu-id="5db51-128">There are a number of benefits toohello hybrid connections capability including</span></span>

- <span data-ttu-id="5db51-129">Приложения могут безопасно обращаться к локальным службам и системам.</span><span class="sxs-lookup"><span data-stu-id="5db51-129">Apps can securely access on premises systems and services securely</span></span>
- <span data-ttu-id="5db51-130">компонент Hello не требует Интернет конечная точка доступа</span><span class="sxs-lookup"><span data-stu-id="5db51-130">hello feature does not require an internet accessible endpoint</span></span>
- <span data-ttu-id="5db51-131">это быстрый и простой tooset вверх</span><span class="sxs-lookup"><span data-stu-id="5db51-131">it is quick and easy tooset up</span></span>  
- <span data-ttu-id="5db51-132">Каждый гибридного подключения сочетания tooa одного узла: порт которого является аспектом высокая степень защиты</span><span class="sxs-lookup"><span data-stu-id="5db51-132">each hybrid connection matches tooa single host:port combination which is an excellent security aspect</span></span>
- <span data-ttu-id="5db51-133">он обычно не нуждаются в отверстия брандмауэра как все исходящие подключения hello через порты стандартные веб-сайтов</span><span class="sxs-lookup"><span data-stu-id="5db51-133">it normally does not require firewall holes as hello connections are all outbound over standard web ports</span></span>
- <span data-ttu-id="5db51-134">так как функция hello уровне сети, также означает, что зависит от toohello язык, используемый используется hello конечной точкой приложения и hello технологии</span><span class="sxs-lookup"><span data-stu-id="5db51-134">because hello feature is network level that also means that it is agnostic toohello language used by your app and hello technology used by hello endpoint</span></span>
- <span data-ttu-id="5db51-135">его можно использовать tooprovide доступа в нескольких сетей из одного приложения</span><span class="sxs-lookup"><span data-stu-id="5db51-135">it can be used tooprovide access in multiple networks from a single app</span></span> 

### <a name="things-you-cannot-do-with-hybrid-connections"></a><span data-ttu-id="5db51-136">Что невозможно сделать с помощью гибридных подключений</span><span class="sxs-lookup"><span data-stu-id="5db51-136">Things you cannot do with Hybrid Connections</span></span> ###

<span data-ttu-id="5db51-137">Существует несколько вещей, которые невозможно выполнить с помощью гибридных подключений, в том числе:</span><span class="sxs-lookup"><span data-stu-id="5db51-137">There are a few things you cannot do with hybrid connections and they include:</span></span>

- <span data-ttu-id="5db51-138">подключение диска;</span><span class="sxs-lookup"><span data-stu-id="5db51-138">mounting a drive</span></span>
- <span data-ttu-id="5db51-139">использование протокола UDP;</span><span class="sxs-lookup"><span data-stu-id="5db51-139">using UDP</span></span>
- <span data-ttu-id="5db51-140">доступ к службам на основе протокола TCP, использующим динамические порты (таким как пассивным режим FTP или расширенный пассивный режим FTP);</span><span class="sxs-lookup"><span data-stu-id="5db51-140">accessing TCP based services that use dynamic ports such as FTP Passive Mode or Extended Passive Mode</span></span>
- <span data-ttu-id="5db51-141">поддержка LDAP, так как иногда для нее требуется UDP;</span><span class="sxs-lookup"><span data-stu-id="5db51-141">LDAP support, as it sometimes requires UDP</span></span>
- <span data-ttu-id="5db51-142">поддержка Active Directory.</span><span class="sxs-lookup"><span data-stu-id="5db51-142">Active Directory support</span></span>

## <a name="adding-and-creating-a-hybrid-connection-in-your-app"></a><span data-ttu-id="5db51-143">Добавление и создание гибридного подключения в приложении</span><span class="sxs-lookup"><span data-stu-id="5db51-143">Adding and Creating a Hybrid Connection in your App</span></span> ##

<span data-ttu-id="5db51-144">Гибридные подключения могут создаваться через портал приложения hello, или с портала службы hello гибридного подключения.</span><span class="sxs-lookup"><span data-stu-id="5db51-144">Hybrid Connections can be created through hello app portal or from hello Hybrid Connection service portal.</span></span>  <span data-ttu-id="5db51-145">Настоятельно рекомендуется использовать hello портала toocreate приложения hello гибридные подключения нужно toouse вместе с приложением.</span><span class="sxs-lookup"><span data-stu-id="5db51-145">It is highly recommended that you use hello app portal toocreate hello Hybrid Connections you wish toouse with your app.</span></span>  <span data-ttu-id="5db51-146">Гибридное подключение toocreate go toohello [портал Azure] [ portal] , а в hello пользовательского интерфейса для приложения.</span><span class="sxs-lookup"><span data-stu-id="5db51-146">toocreate a Hybrid Connection go toohello [Azure portal][portal] and go into hello UI for your app.</span></span>  <span data-ttu-id="5db51-147">Выберите **Сети > Настройте конечные точки гибридного подключения**.</span><span class="sxs-lookup"><span data-stu-id="5db51-147">Select **Networking > Configure your hybrid connection endpoints**.</span></span>  <span data-ttu-id="5db51-148">Здесь вы увидите hello гибридных подключений, настроенных с приложением</span><span class="sxs-lookup"><span data-stu-id="5db51-148">From here you can see hello Hybrid Connections that are configured with your app</span></span>  

![][2]

<span data-ttu-id="5db51-149">tooadd гибридное подключение, нажмите кнопку Добавить гибридное подключение.</span><span class="sxs-lookup"><span data-stu-id="5db51-149">tooadd a new Hybrid Connection, click Add Hybrid Connection.</span></span>  <span data-ttu-id="5db51-150">Hello пользовательский Интерфейс, который открывает список hello гибридных подключений, который уже создан.</span><span class="sxs-lookup"><span data-stu-id="5db51-150">hello UI that opens up lists hello Hybrid Connections that you have already created.</span></span>  <span data-ttu-id="5db51-151">tooadd один или несколько из них tooyour приложения, щелкните hello из них требуется и попадания **добавить выбранные гибридного подключения**.</span><span class="sxs-lookup"><span data-stu-id="5db51-151">tooadd one or more of them tooyour app, click on hello ones you want and hit **Add selected hybrid connection**.</span></span>  

![][3]

<span data-ttu-id="5db51-152">Если toocreate гибридное подключение, щелкните **создать новое гибридное подключение**.</span><span class="sxs-lookup"><span data-stu-id="5db51-152">If you want toocreate a new Hybrid Connection, click **Create new hybrid connection**.</span></span>  <span data-ttu-id="5db51-153">Теперь следует указать:</span><span class="sxs-lookup"><span data-stu-id="5db51-153">From here you specify the:</span></span> 

- <span data-ttu-id="5db51-154">имя конечной точки;</span><span class="sxs-lookup"><span data-stu-id="5db51-154">endpoint name</span></span>
- <span data-ttu-id="5db51-155">имя узла конечной точки;</span><span class="sxs-lookup"><span data-stu-id="5db51-155">endpoint hostname</span></span>
- <span data-ttu-id="5db51-156">порт конечной точки;</span><span class="sxs-lookup"><span data-stu-id="5db51-156">endpoint port</span></span>
- <span data-ttu-id="5db51-157">пространство имен servicebus нужно toouse</span><span class="sxs-lookup"><span data-stu-id="5db51-157">servicebus namespace you wish toouse</span></span>

![][4]

<span data-ttu-id="5db51-158">Каждый гибридного подключения равноценных tooa пространство имен служебной шины и каждого пространства имен шины обслуживания в регионе Azure.</span><span class="sxs-lookup"><span data-stu-id="5db51-158">Every hybrid connection is tied tooa service bus namespace and each service bus namespace is in an Azure region.</span></span>  <span data-ttu-id="5db51-159">Очень важно, что tootry и используйте пространство имен в шины обслуживания hello же регионе, что приложение так, чтобы tooavoid за сетью.</span><span class="sxs-lookup"><span data-stu-id="5db51-159">It is important tootry and use a service bus namespace in hello same region as your app so as tooavoid network induced latency.</span></span>

<span data-ttu-id="5db51-160">Если требуется tooremove гибридное подключение из приложения, щелкните ее правой кнопкой и выберите **Disconnect**.</span><span class="sxs-lookup"><span data-stu-id="5db51-160">If you want tooremove your hybrid connection from your app, right click on it and select **Disconnect**.</span></span>  

<span data-ttu-id="5db51-161">После добавления веб-приложения tooyour гибридного подключения вы увидите подробные сведения на нем, просто щелкнув его.</span><span class="sxs-lookup"><span data-stu-id="5db51-161">Once a hybrid connection is added tooyour web app, you can see details on it by simply clicking on it.</span></span>  

![][5]

## <a name="hybrid-connections-and-app-service-plans"></a><span data-ttu-id="5db51-162">Гибридные подключения и планы службы приложений</span><span class="sxs-lookup"><span data-stu-id="5db51-162">Hybrid Connections and App Service Plans</span></span> ##

<span data-ttu-id="5db51-163">только гибридные подключения Hello, теперь можно выполнить, hello новые гибридные подключения.</span><span class="sxs-lookup"><span data-stu-id="5db51-163">hello only hybrid connections you can now make are hello new hybrid connections.</span></span>  <span data-ttu-id="5db51-164">Они доступны только для SKU "Базовый", "Стандартный", "Премиум" и Isolated.</span><span class="sxs-lookup"><span data-stu-id="5db51-164">They are only available in Basic, Standard, Premium and Isolated pricing SKUs.</span></span>  <span data-ttu-id="5db51-165">Существуют ограничения привязан toohello ценовой план.</span><span class="sxs-lookup"><span data-stu-id="5db51-165">There are limits tied toohello pricing plan.</span></span>  

| <span data-ttu-id="5db51-166">Тарифный план</span><span class="sxs-lookup"><span data-stu-id="5db51-166">Pricing Plan</span></span> | <span data-ttu-id="5db51-167">Число гибридных подключений, которые можно использовать в плане hello</span><span class="sxs-lookup"><span data-stu-id="5db51-167">Number of hybrid connections usable in hello plan</span></span> |
|----|----|
| <span data-ttu-id="5db51-168">Basic</span><span class="sxs-lookup"><span data-stu-id="5db51-168">Basic</span></span> | <span data-ttu-id="5db51-169">5</span><span class="sxs-lookup"><span data-stu-id="5db51-169">5</span></span> |
| <span data-ttu-id="5db51-170">Стандартная</span><span class="sxs-lookup"><span data-stu-id="5db51-170">Standard</span></span> | <span data-ttu-id="5db51-171">25</span><span class="sxs-lookup"><span data-stu-id="5db51-171">25</span></span> |
| <span data-ttu-id="5db51-172">Premium</span><span class="sxs-lookup"><span data-stu-id="5db51-172">Premium</span></span> | <span data-ttu-id="5db51-173">200</span><span class="sxs-lookup"><span data-stu-id="5db51-173">200</span></span> |
| <span data-ttu-id="5db51-174">Isolated</span><span class="sxs-lookup"><span data-stu-id="5db51-174">Isolated</span></span> | <span data-ttu-id="5db51-175">200</span><span class="sxs-lookup"><span data-stu-id="5db51-175">200</span></span> |

<span data-ttu-id="5db51-176">Так как существуют ограничения на план служб приложений также есть пользовательский Интерфейс в hello план служб приложений, которое показывает, сколько гибридные подключения используются и какие приложения.</span><span class="sxs-lookup"><span data-stu-id="5db51-176">Since there are App Service Plan restrictions there is also UI in hello App Service Plan that shows you how many hybrid connections are being used and by what apps.</span></span>  

![][6]

<span data-ttu-id="5db51-177">Так же как и в представлении приложения hello, вы увидите сведения гибридного подключения, щелкнув его.</span><span class="sxs-lookup"><span data-stu-id="5db51-177">Just as with hello app view, you can see details on your hybrid connection by clicking on it.</span></span>  <span data-ttu-id="5db51-178">В свойствах hello, показанный здесь можно просмотреть все сведения о hello, имеющийся на представление приложения hello, но также можно видеть, сколько другие приложения hello же план службы приложений используют, гибридного подключения.</span><span class="sxs-lookup"><span data-stu-id="5db51-178">In hello properties shown here you can see all hello information you had at hello app view but can also see how many other apps in hello same App Service Plan are using that hybrid connection.</span></span>

![][7]

<span data-ttu-id="5db51-179">Несмотря на отсутствие ограничений на число hello конечные точки гибридного подключения, которые могут использоваться в план служб приложений, можно использовать каждый гибридное подключение, используемое между любым числом приложений в составе этого плана.</span><span class="sxs-lookup"><span data-stu-id="5db51-179">While there is a limit on hello number of hybrid connection endpoints that can be used in an App Service Plan, each hybrid connection used can be used across any number of apps in that App Service Plan.</span></span>  <span data-ttu-id="5db51-180">Это toosay, что если у меня 1 гибридного подключения, используемый в 5 отдельных приложения в моей план служб приложений, то есть по-прежнему только 1 гибридного подключения.</span><span class="sxs-lookup"><span data-stu-id="5db51-180">That is toosay that if I had 1 hybrid connection that I used in 5 separate apps in my App Service Plan, that is still just 1 hybrid connection.</span></span>

<span data-ttu-id="5db51-181">Нет соединений toohybrid дополнительных затрат выполняется только в Basic, Standard, Premium или изолированной SKU.</span><span class="sxs-lookup"><span data-stu-id="5db51-181">There is an additional cost toohybrid connections beyond being only usable in a Basic, Standard, Premium or Isolated SKU.</span></span>  <span data-ttu-id="5db51-182">Дополнительные сведения о ценах на гибридные подключения см. здесь: [Служебная шина — цены][sbpricing].</span><span class="sxs-lookup"><span data-stu-id="5db51-182">For details on hybrid connection pricing please go here: [Service Bus pricing][sbpricing].</span></span>

## <a name="hybrid-connection-manager"></a><span data-ttu-id="5db51-183">Hybrid Connection Manager</span><span class="sxs-lookup"><span data-stu-id="5db51-183">Hybrid Connection Manager</span></span> ##

<span data-ttu-id="5db51-184">В порядке для гибридных подключений toowork необходимо агента ретрансляции в сети hello, на котором размещена конечной точки гибридного подключения.</span><span class="sxs-lookup"><span data-stu-id="5db51-184">In order for hybrid connections toowork you need a relay agent in hello network that hosts your hybrid connection endpoint.</span></span>  <span data-ttu-id="5db51-185">Этот агент ретрансляции называется hello диспетчер гибридного подключения (HCM).</span><span class="sxs-lookup"><span data-stu-id="5db51-185">That relay agent is called hello Hybrid Connection Manager (HCM).</span></span>  <span data-ttu-id="5db51-186">Это средство можно загрузить из hello **сетевые подключения > настроить конечные точки гибридного подключения** пользовательского интерфейса, доступных из приложения в hello [портал Azure][portal].</span><span class="sxs-lookup"><span data-stu-id="5db51-186">This tool can be downloaded from hello **Networking > Configure your hybrid connection endpoints** UI available from your app in hello [Azure portal][portal].</span></span>  

<span data-ttu-id="5db51-187">Данный инструмент работает в Windows Server 2008 R2 и более поздних версиях Windows.</span><span class="sxs-lookup"><span data-stu-id="5db51-187">This tool runs on Windows server 2008 R2 and later versions of Windows.</span></span>  <span data-ttu-id="5db51-188">После установки hello HCM запускается как служба.</span><span class="sxs-lookup"><span data-stu-id="5db51-188">Once installed hello HCM runs as a service.</span></span>  <span data-ttu-id="5db51-189">Эта служба подключается ретрансляции служебной шины tooAzure основании hello настроить конечные точки.</span><span class="sxs-lookup"><span data-stu-id="5db51-189">This service connects tooAzure servicebus relay based on hello configured endpoints.</span></span>  <span data-ttu-id="5db51-190">Hello соединения из hello HCM, исходящие tooports 80 и 443.</span><span class="sxs-lookup"><span data-stu-id="5db51-190">hello connections from hello HCM are outbound tooports 80 and 443.</span></span>    

<span data-ttu-id="5db51-191">Hello HCM имеет tooconfigure пользовательского интерфейса его.</span><span class="sxs-lookup"><span data-stu-id="5db51-191">hello HCM has a UI tooconfigure it.</span></span>  <span data-ttu-id="5db51-192">После hello установлен HCM можно загружать hello пользовательского интерфейса, выполнив hello HybridConnectionManagerUi.exe, находящийся в каталоге установки hello диспетчер гибридного подключения.</span><span class="sxs-lookup"><span data-stu-id="5db51-192">After hello HCM is installed you can bring up hello UI by running hello HybridConnectionManagerUi.exe that sits in hello Hybrid Connection Manager installation directory.</span></span>  <span data-ttu-id="5db51-193">Кроме того, его легко вызвать в Windows 10, введя в поле поиска *Hybrid Connection Manager UI*.</span><span class="sxs-lookup"><span data-stu-id="5db51-193">It is also easily reached on Windows 10 by typing *Hybrid Connection Manager UI* in your search box.</span></span>  

<span data-ttu-id="5db51-194">После запуска пользовательского интерфейса HCM hello hello первое, что вы см.: таблицы, где перечислены все hello гибридных подключений, настроенных с помощью этого экземпляра hello HCM.</span><span class="sxs-lookup"><span data-stu-id="5db51-194">When hello HCM UI is started, hello first thing you see is a table that lists all of hello hybrid connections that are configured with this instance of hello HCM.</span></span>  <span data-ttu-id="5db51-195">Если вы хотите toomake любые изменения, необходимо будет tooauthenticate с Azure.</span><span class="sxs-lookup"><span data-stu-id="5db51-195">If you wish toomake any changes you will need tooauthenticate with Azure.</span></span> 

<span data-ttu-id="5db51-196">tooadd одного или нескольких гибридных подключений tooyour HCM:</span><span class="sxs-lookup"><span data-stu-id="5db51-196">tooadd one or more Hybrid Connections tooyour HCM:</span></span>

1. <span data-ttu-id="5db51-197">Запуск hello HCM пользовательского интерфейса</span><span class="sxs-lookup"><span data-stu-id="5db51-197">Start hello HCM UI</span></span>
1. <span data-ttu-id="5db51-198">Щелкните "Configure another hybrid connection" (Настроить новое гибридное подключение). ![][8]</span><span class="sxs-lookup"><span data-stu-id="5db51-198">Click Configure another hybrid connection ![][8]</span></span>

1. <span data-ttu-id="5db51-199">Войдите в систему, используя учетную запись Azure.</span><span class="sxs-lookup"><span data-stu-id="5db51-199">Sign in with your Azure account</span></span>
1. <span data-ttu-id="5db51-200">Выберите подписку.</span><span class="sxs-lookup"><span data-stu-id="5db51-200">Choose a subscription</span></span>
1. <span data-ttu-id="5db51-201">Щелкните по hello гибридные подключения нужно это toorelay HCM![][9]</span><span class="sxs-lookup"><span data-stu-id="5db51-201">Click on hello hybrid connections you want this HCM toorelay ![][9]</span></span>

1. <span data-ttu-id="5db51-202">Щелкните Сохранить</span><span class="sxs-lookup"><span data-stu-id="5db51-202">Click Save</span></span>

<span data-ttu-id="5db51-203">На этом этапе вы увидите hello гибридных подключений, которые добавлены.</span><span class="sxs-lookup"><span data-stu-id="5db51-203">At this point you will see hello hybrid connections you added.</span></span>  <span data-ttu-id="5db51-204">Можно также щелкнуть hello настроен гибридного подключения и см. подробные сведения о соединении hello.</span><span class="sxs-lookup"><span data-stu-id="5db51-204">You can also click on hello configured hybrid connection and see details about hello connection.</span></span>

![][10]

<span data-ttu-id="5db51-205">HCM toobe может toosupport hello гибридных подключений может быть сконфигурирован с он должен:</span><span class="sxs-lookup"><span data-stu-id="5db51-205">For your HCM toobe able toosupport hello hybrid connections it is configured with, it needs:</span></span>

- <span data-ttu-id="5db51-206">TCP tooAzure доступ через порты 80 и 443</span><span class="sxs-lookup"><span data-stu-id="5db51-206">TCP access tooAzure over ports 80 and 443</span></span>
- <span data-ttu-id="5db51-207">Конечная точка подключения гибридного toohello доступа TCP</span><span class="sxs-lookup"><span data-stu-id="5db51-207">TCP access toohello hybrid connection endpoint</span></span>
- <span data-ttu-id="5db51-208">возможность toodo DNS просмотров на узле конечной точки hello и пространство имен служебной шины azure hello</span><span class="sxs-lookup"><span data-stu-id="5db51-208">ability toodo DNS look ups on hello endpoint host and hello azure servicebus namespace</span></span>

<span data-ttu-id="5db51-209">Hello HCM поддерживает новые гибридные подключения как, так и старые hello гибридные подключения BizTalk.</span><span class="sxs-lookup"><span data-stu-id="5db51-209">hello HCM supports both new hybrid connections as well as hello older BizTalk hybrid connections.</span></span>

### <a name="redundancy"></a><span data-ttu-id="5db51-210">Избыточность</span><span class="sxs-lookup"><span data-stu-id="5db51-210">Redundancy</span></span> ###

<span data-ttu-id="5db51-211">Каждый экземпляр HCM может поддерживать несколько гибридных подключений.</span><span class="sxs-lookup"><span data-stu-id="5db51-211">Each HCM can support multiple hybrid connections.</span></span>  <span data-ttu-id="5db51-212">Кроме того, любое заданное гибридное подключение может поддерживаться несколькими HCM.</span><span class="sxs-lookup"><span data-stu-id="5db51-212">Also, any given hybrid connection can be supported by multiple HCMs.</span></span>  <span data-ttu-id="5db51-213">поведение по умолчанию Hello — tooround перебором трафик распределяется между hello настройки HCMs для любой заданной конечной точкой.</span><span class="sxs-lookup"><span data-stu-id="5db51-213">hello default behavior is tooround robin traffic across hello configured HCMs for any given endpoint.</span></span>  <span data-ttu-id="5db51-214">Если требуется обеспечить высокий уровень доступности гибридных подключений из сети, просто создайте несколько экземпляров HCM на разных компьютерах.</span><span class="sxs-lookup"><span data-stu-id="5db51-214">If you want high availability on your hybrid connections from your network, simply instantiate multiple HCMs on separate machines.</span></span> 

### <a name="manually-adding-a-hybrid-connection"></a><span data-ttu-id="5db51-215">Добавление гибридного подключения вручную</span><span class="sxs-lookup"><span data-stu-id="5db51-215">Manually adding a hybrid connection</span></span> ###

<span data-ttu-id="5db51-216">При желании кого-либо за пределами вашей подписки toohost HCM экземпляр данного гибридного подключения, можно использовать совместно с их hello строка подключения шлюза hello гибридного подключения.</span><span class="sxs-lookup"><span data-stu-id="5db51-216">If you wish somebody outside of your subscription toohost an HCM instance for a given hybrid connection, you can share with them hello gateway connection string for hello hybrid connection.</span></span>  <span data-ttu-id="5db51-217">Это можно увидеть в свойствах hello гибридного подключения в hello [портал Azure][portal].</span><span class="sxs-lookup"><span data-stu-id="5db51-217">You can see this in hello properties for a hybrid connection in hello [Azure portal][portal].</span></span> <span data-ttu-id="5db51-218">toouse строковых, щелкните hello **вручную настроить** кнопку в hello HCM и вставьте в строке подключения шлюза hello.</span><span class="sxs-lookup"><span data-stu-id="5db51-218">toouse that string, click hello **Configure manually** button in hello HCM and paste in hello gateway connection string.</span></span>


## <a name="troubleshooting"></a><span data-ttu-id="5db51-219">Устранение неполадок</span><span class="sxs-lookup"><span data-stu-id="5db51-219">Troubleshooting</span></span> ##

<span data-ttu-id="5db51-220">При Настройка гибридное подключение с запущенным приложением и имеется по крайней мере один HCM с этой гибридного подключения настроены, а затем будет иметь состояние hello **подключен** hello портала.</span><span class="sxs-lookup"><span data-stu-id="5db51-220">When your hybrid connection is set up with a running application and there is at least one HCM that has that hybrid connection configured, then hello status will say **Connected** in hello portal.</span></span>  <span data-ttu-id="5db51-221">Если нет слова **подключен** это означает, что приложение не работает или не удается подключиться к HCM out tooAzure на порты 80 и 443.</span><span class="sxs-lookup"><span data-stu-id="5db51-221">If it does not say **Connected** then it means that either your app is down or your HCM cannot connect out tooAzure on ports 80 or 443.</span></span>  

<span data-ttu-id="5db51-222">Hello первичной, клиенты не могут подключиться tootheir конечной точки, поскольку конечная точка hello указан с помощью IP-адрес вместо имени DNS.</span><span class="sxs-lookup"><span data-stu-id="5db51-222">hello primary reason that clients cannot connect tootheir endpoint is because hello endpoint was specified using an IP address instead of a DNS name.</span></span>  <span data-ttu-id="5db51-223">Если приложение не может связаться с требуемой hello и используется IP-адрес, переключение toousing DNS-имени, который действителен на узле hello hello HCM запущенным.</span><span class="sxs-lookup"><span data-stu-id="5db51-223">If your app cannot reach hello desired endpoint and you used an IP address, switch toousing a DNS name that is valid on hello host where hello HCM is running.</span></span>  <span data-ttu-id="5db51-224">Другие вещи toocheck являются надлежащее разрешение, hello DNS-имя узла hello, где hello HCM работает и что отсутствует связь с узла hello hello HCM запущенным конечной точки toohello гибридного подключения.</span><span class="sxs-lookup"><span data-stu-id="5db51-224">Other things toocheck are that hello DNS name resolves properly on hello host where hello HCM is running and that there is connectivity from hello host where hello HCM is running toohello hybrid connection endpoint.</span></span>  

<span data-ttu-id="5db51-225">Доступно средство в hello службы приложений, который может быть вызван из консоли hello, называется tcpping.</span><span class="sxs-lookup"><span data-stu-id="5db51-225">There is a tool in hello App Service that can be invoked from hello console called tcpping.</span></span>  <span data-ttu-id="5db51-226">Это средство может сообщить, если конечной точки TCP tooa доступа, но не показывает, при наличии конечной точки подключения для гибридного tooa доступа.</span><span class="sxs-lookup"><span data-stu-id="5db51-226">This tool can tell you if you have access tooa TCP endpoint but does not tell you if you have access tooa hybrid connection endpoint.</span></span>  <span data-ttu-id="5db51-227">При использовании в консоли hello к конечной точке гибридного подключения успешно выполненная команда ping только сообщает о наличии гибридного подключения, настроенного для приложения, использующего комбинации узла: порт.</span><span class="sxs-lookup"><span data-stu-id="5db51-227">When used in hello console against a hybrid connection endpoint, a successful ping will only tell you that you have a hybrid connection configured for your app that uses that host:port combination.</span></span>  

## <a name="biztalk-hybrid-connections"></a><span data-ttu-id="5db51-228">Гибридные подключения BizTalk</span><span class="sxs-lookup"><span data-stu-id="5db51-228">BizTalk Hybrid Connections</span></span> ##

<span data-ttu-id="5db51-229">Отключение созданий toofurther гибридное подключение BizTalk был закрыт Hello старые возможности гибридного подключения BizTalk.</span><span class="sxs-lookup"><span data-stu-id="5db51-229">hello older BizTalk Hybrid Connections capability has been closed off toofurther BizTalk Hybrid Connection creations.</span></span>  <span data-ttu-id="5db51-230">Можно продолжить использование ранее существовавших гибридного подключения BizTalk вместе со своими приложениями, но необходимо перенести toohello новой службы.</span><span class="sxs-lookup"><span data-stu-id="5db51-230">You can continue using your preexisting BizTalk Hybrid Connections with your apps but should migrate toohello new service.</span></span>  <span data-ttu-id="5db51-231">Среди hello в новую службу hello поверх версии BizTalk hello имеет следующие преимущества.</span><span class="sxs-lookup"><span data-stu-id="5db51-231">Among hello benefits in hello new service over hello BizTalk version are:</span></span>

- <span data-ttu-id="5db51-232">не требуется дополнительная учетная запись BizTalk;</span><span class="sxs-lookup"><span data-stu-id="5db51-232">no additional BizTalk account is required</span></span>
- <span data-ttu-id="5db51-233">используется протокол TLS 1.2 вместо TLS 1.0, как в гибридных подключениях BizTalk;</span><span class="sxs-lookup"><span data-stu-id="5db51-233">TLS is 1.2 instead of 1.0 as in BizTalk Hybrid Connections</span></span>
- <span data-ttu-id="5db51-234">Обмен данными через порты 80 и 443, используя tooreach имя DNS Azure, а не IP-адреса и широкий набор дополнительных является другие порты.</span><span class="sxs-lookup"><span data-stu-id="5db51-234">Communication is over ports 80 and 443 using a DNS name tooreach Azure instead of IP addresses and a range of additional other ports.</span></span>  

<span data-ttu-id="5db51-235">tooadd приложении tooyour подключения BizTalk гибридного приложения перейдите tooyour в hello [портал Azure] [ portal] и нажмите кнопку **сетевые подключения > настроить конечные точки гибридного подключения**.</span><span class="sxs-lookup"><span data-stu-id="5db51-235">tooadd a BizTalk hybrid connection tooyour app, go tooyour app in hello [Azure portal][portal] and click **Networking > Configure your hybrid connection endpoints**.</span></span>  <span data-ttu-id="5db51-236">В гибридных подключений hello классический таблицы выберите **добавить классический гибридное подключение**.</span><span class="sxs-lookup"><span data-stu-id="5db51-236">In hello Classic hybrid connections table click **Add classic hybrid connection**.</span></span>  <span data-ttu-id="5db51-237">Вы увидите список гибридных подключений BizTalk.</span><span class="sxs-lookup"><span data-stu-id="5db51-237">From here you will see a list of your BizTalk hybrid connections.</span></span>  


<!--Image references-->
[1]: ./media/app-service-hybrid-connections/hybridconn-connectiondiagram.png
[2]: ./media/app-service-hybrid-connections/hybridconn-portal.png
[3]: ./media/app-service-hybrid-connections/hybridconn-addhc.png
[4]: ./media/app-service-hybrid-connections/hybridconn-createhc.png
[5]: ./media/app-service-hybrid-connections/hybridconn-properties.png
[6]: ./media/app-service-hybrid-connections/hybridconn-aspproperties.png
[7]: ./media/app-service-hybrid-connections/hybridconn-hcm.png
[8]: ./media/app-service-hybrid-connections/hybridconn-hcmadd.png
[9]: ./media/app-service-hybrid-connections/hybridconn-hcmadded.png
[10]: ./media/app-service-hybrid-connections/hybridconn-hcmdetails.png

<!--Links-->
[HCService]: http://docs.microsoft.com/azure/service-bus-relay/relay-hybrid-connections-protocol/
[portal]: http://portal.azure.com/
[oldhc]: http://docs.microsoft.com/azure/biztalk-services/integration-hybrid-connection-overview/
[sbpricing]: http://azure.microsoft.com/pricing/details/service-bus/

