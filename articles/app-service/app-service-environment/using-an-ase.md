---
title: "aaaUse среду службы приложений Azure"
description: "Как toocreate, публикации и масштабирование приложений в среде службы приложений Azure"
services: app-service
documentationcenter: na
author: ccompy
manager: stefsch
ms.assetid: a22450c4-9b8b-41d4-9568-c4646f4cf66b
ms.service: app-service
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 06/13/2017
ms.author: ccompy
ms.openlocfilehash: 30c89e384efc07c560254856c0ca7d4eb4b1f010
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/06/2017
---
# <a name="use-an-app-service-environment"></a>Использование среды службы приложений #

## <a name="overview"></a>Обзор ##

Среда службы приложений — это развернутая служба приложений Azure в подсети виртуальной сети Azure клиента. В ее состав входит:

- **Заканчивается на передней**: интерфейсные hello, где HTTP/HTTPS завершает выполнение в среде службы приложений (ASE).
- **Работники**: hello сотрудники находятся ресурсы hello которых размещены приложения.
- **База данных**: hello базы данных содержит сведения, определяющие среду hello.
- **Хранилище**: hello хранилища является приложений опубликованных клиента используется toohost hello.

> [!NOTE]
> Существует две версии среды службы приложений: ASEv1 и ASEv2. В ASEv1 перед использованием их необходимо управлять hello ресурсы. toolearn как tooconfigure и управление ASEv1 см. в разделе [Настройка среды службы приложений v1][ConfigureASEv1]. Hello оставшейся части этой статьи посвящена ASEv2.
>
>

Вы можете развернуть ASE (ASEv1 и ASEv2) с использованием внешнего или внутреннего виртуального IP-адреса для доступа к приложению. Внешние ASE обычно называется Hello развертывания с помощью внешнего виртуального IP-адреса. Внутренняя версия Hello называется hello ILB ASE, поскольку он использует внутренний балансировщик нагрузки (ILB). toolearn Дополнительные сведения о hello ILB ASE см [Создание и использование ILB ASE][MakeILBASE].

## <a name="create-a-web-app-in-an-ase"></a>Создание веб-приложения в среде ASE ##

toocreate веб-приложения в ASE использовать же процесс hello как при создании его обычно, но с некоторыми отличиями небольшой. При создании плана службы приложений:

- Вместо выбора географического расположения какие toodeploy приложения, выберите ASE в качестве расположения.
- все планы службы приложений, создаваемые в ASE, должны находиться в ценовой категории Isolated.

Если у вас нет ASE, можно создать его, выполнив следующие инструкции hello в [создание среды службы приложений][MakeExternalASE].

toocreate веб-приложения в ASE:

1. Выберите **Создать** > **Интернет+мобильные устройства** > **Веб-приложение**.

2. Введите имя для веб-приложения hello. Если вы уже выбрали план служб приложений в ASE, hello доменное имя для приложения hello отражает hello ASE hello доменное имя.

    ![Выбор имени веб-приложения][1]

3. Выберите подписку.

4. Введите имя для новой группы ресурсов или выберите **использовать существующие** и выбрать в раскрывающемся списке hello.

5. Выберите имеющийся план службы приложений в своей среде ASE или создайте его, сделав следующее:

    а. Выберите **Создать**.

    b. Введите имя плана служб приложений hello.

    c. Выберите ваш ASE в hello **расположение** раскрывающегося списка.

    d. Выберите ценовую категорию **Isolated**. Щелкните **Выбрать**.

    д. Нажмите кнопку **ОК**.
    
    ![Ценовая категория Isolated][2]

6. Нажмите кнопку **Создать**.

## <a name="how-scale-works"></a>Как работает масштабирование ##

Каждая служба приложений выполняется в плане службы приложений. модель контейнера Hello — средах держите планы служб приложений, а планы служб приложений приложения. При масштабировании приложения масштабировать hello план служб приложений и таким образом масштабировать все приложения hello hello одного плана.

В ASEv2 при масштабировании план служб приложений автоматически добавляется hello необходимости инфраструктуры. Нет задержки tooscale операций во время добавления hello инфраструктуры. ASEv1 инфраструктура hello необходимости должны быть добавлены прежде, чем можно будет создать или горизонтальное масштабирование плана служб приложений. 

В hello мультитенантного приложения службы, масштабирование обычно немедленно, так как пул ресурсов — доступны toosupport его. В среде ASE такого буфера нет, поэтому ресурсы выделяются по мере необходимости.

В ASE можно увеличивать масштаб too100 экземпляров. Эти 100 экземпляров могут находиться в одном плане службы приложений или распределяться по разным планам.

## <a name="ip-addresses"></a>IP-адреса; ##

Служба приложений должна tooallocate возможность hello выделенный tooan приложения IP-адрес. Эта возможность доступна после настройки SSL на основе IP, как описано в [привязать существующие пользовательские SSL сертификат tooAzure веб-приложения][ConfigureSSL]. В ASE явные исключения отсутствуют. Не удается добавить дополнительные IP адресов для SSL на основе IP в ILB ASE toobe.

ASEv1 нужен tooallocate hello IP-адресов как ресурсы перед их использованием. В ASEv2 используется их из приложения так же, как и в hello мультитенантного приложения службы. Всегда есть один запасной адрес в ASEv2 копирование too30 IP-адресов. Каждый раз при использовании одного адреса добавляется еще один, чтобы всегда был доступный адрес. Время задержки необходимые tooallocate другой IP-адрес, который предотвращает добавление IP-адресов в короткий промежуток времени.

## <a name="front-end-scaling"></a>Масштабирование внешнего интерфейса ##

В ASEv2, при масштабировании планы службы приложений рабочих процессов автоматически добавляются toosupport их. Каждый ASE создается с двумя внешними интерфейсами. Кроме того интерфейсных hello автоматически масштабировать со скоростью одного внешнего интерфейса для каждые 15 экземпляров в планах службы приложений. Например, если у вас есть 15 экземпляров, то вы имеете три внешних интерфейса. При масштабировании too30 экземпляров, то имеется четыре внешняя заканчивается и т. д.

Для большинства сценариев такого количества внешних интерфейсов более чем достаточно. Тем не менее можно выполнять масштабирование быстрее. Можно изменить отношение hello, tooas низкое одного внешнего интерфейса для каждой из пяти экземпляров. Нет платы для изменения соотношения hello. Дополнительные сведения см. на странице [цен на службу приложений Azure][Pricing].

Ресурсы переднего плана — это конечная точка HTTP или HTTPS hello для hello ASE. Hello конфигурации по умолчанию переднего плана использование памяти на переднего плана — постоянно около 60 процентов. Рабочие нагрузки клиентов не выполняются во внешнем интерфейсе. Hello ключевым фактором для внешнего интерфейса с учетом tooscale является hello ЦП, в которой определяется в первую очередь HTTPS-трафика.

## <a name="app-access"></a>Доступ к приложениям ##

В внешних ASE hello домен, используемый при создании приложений отличается от hello мультитенантного приложения службы. Он включает имя hello ASE hello. Дополнительные сведения о том, как toocreate внешних ASE, в разделе [создание среды службы приложений][MakeExternalASE]. Hello доменного имени в внешних ASE выглядит как *.&lt; asename&gt;. p.azurewebsites.net*. Например, если ваш ASE называется _ase внешние_ и ведущие приложения _contoso_ в этом ASE нажимайте на hello следующие URL-адреса:

- contoso.external-ase.p.azurewebsites.net
- contoso.scm.external-ase.p.azurewebsites.net

URL-адрес Hello contoso.scm.external-ase.p.azurewebsites.net — используется tooaccess hello Kudu консоли или для публикации приложения с помощью веб-развертывания. Сведения о консоли Kudu hello разделе [Kudu консоли для службы приложений Azure][Kudu]. Hello Kudu консоли предоставляет веб-интерфейса для отладки, передача файлов, изменение файлов и многое другое.

В ASE ILB определите hello домена во время развертывания. Дополнительные сведения о том, как toocreate ILB ASE, см. [Создание и использование ILB ASE][MakeILBASE]. При указании имени домена hello _ilb ase.info_, hello приложений, в том, что ASE использовать этот домен во время создания приложения. Для приложения hello с именем _contoso_, hello URL-адреса:

- contoso.ilb-ase.info
- contoso.scm.ilb-ase.info

## <a name="publishing"></a>Публикация ##

С помощью мультитенантного hello службы приложений, в ASE можно опубликовать с помощью:

- веб-развертывания;
- FTP;
- непрерывная интеграция;
- Путем перетаскивания в консоли Kudu hello.
- интегрированная среда разработки (IDE), например Visual Studio, Eclipse или IntelliJ IDEA.

С помощью внешних ASE эти параметры публикации, которые все выступают hello таким же. Дополнительные сведения см. в статье [Развертывание приложения в службе приложений Azure][AppDeploy]. 

Основное отличие Hello с публикацией — с учетом tooan ILB ASE. С ASE ILB конечные точки публикаций hello доступны только через hello ILB. Hello ILB возможности частных IP-адресов в подсети ASE hello hello виртуальной сети. Если у вас нет доступа к сети toohello ILB, нельзя опубликовать, ASE любого приложения. Как отмечалось в [Создание и использование ILB ASE][MakeILBASE], требуется tooconfigure DNS для приложения hello в системе hello. Которая содержит конечную точку SCM hello. Если они не определены должным образом, вы не сможете их опубликовать. В интегрированных средах разработки, также должны toohello доступа к сети toohave ILB в порядке toopublish tooit напрямую.

Интернет-CI системах, таких как GitHub и Visual Studio Team Services, не работают с ILB ASE, так как конечную точку публикации hello не Интернет доступен. Вместо этого необходим toouse элементов конфигурации системы, где используется запросу модели, например Dropbox.

Публикация конечных точек для приложений в ILB ASE Hello использовать домен hello, hello ILB ASE была создана с. Его можно просматривать в профиле публикации приложение hello и в колонке портала приложение hello (в **Обзор** > **Essentials** и, кроме того, в **свойства**). 

## <a name="pricing"></a>Цены ##

Hello цены SKU вызывается **Isolated** был создан для использования только ASEv2. Все планы служб приложений, размещенных в ASEv2 находятся в hello Isolated цены SKU. Тарифы в плане службы приложений категории Isolated могут отличаться в зависимости от региона. 

Кроме планы toohello цены для службы приложений, для самого ASE ставка плоской. Hello фиксированная плата не меняется с размером hello вашей ASE и оплачивает инфраструктуры hello ASE на масштабирование курс дополнительных 1 по умолчанию переднего плана для каждые 15 экземпляров плана служб приложений.  

Если скорость масштаб по умолчанию hello 1 внешнего интерфейса для каждые 15 экземпляров плана служб приложений не является достаточно быстро, можно изменить соотношение hello добавляются интерфейсных или hello размер hello-интерфейсов.  При изменении отношения hello или размер вы платите за hello переднего плана ядер, которые не добавляется по умолчанию.  

Например если настроить too10 коэффициент масштабирования hello интерфейсную добавляется для каждые 10 экземпляров в планах службы приложений. плата плоский Hello охватывает коэффициент масштабирования одного внешнего интерфейса для каждые 15 экземпляров. Коэффициент масштабирования 10 вы заплатить за третий hello внешнего интерфейса, который добавлен для hello 10 экземпляров плана служб приложений. Не нужно toopay для него Дойдя до 15 экземпляров, так как он был добавлен автоматически.

Если изменить размер hello hello интерфейсных too2 ядер, но соотношение hello не изменяются, то платить за hello дополнительных ядер.  ASE создается с 2-интерфейсов, поэтому даже ниже hello автоматического масштабирования заданного порога будет оплатить дополнительных ядер: 2 увеличения hello размер too2 core-интерфейсов.

Дополнительные сведения см. на странице [цен на службу приложений Azure][Pricing].

## <a name="delete-an-ase"></a>Удаление ASE ##

toodelete ASE: 

1. Используйте **удаление** вверху hello hello **среды службы приложений** колонку. 

2. Введите имя вашей tooconfirm ASE, что требуется toodelete hello его. При удалении ASE, удалите все содержимое hello в нем также. 

    ![Удаление ASE][3]

<!--Image references-->
[1]: ./media/using_an_app_service_environment/usingase-appcreate.png
[2]: ./media/using_an_app_service_environment/usingase-pricingtiers.png
[3]: ./media/using_an_app_service_environment/usingase-delete.png


<!--Links-->
[Intro]: ./intro.md
[MakeExternalASE]: ./create-external-ase.md
[MakeASEfromTemplate]: ./create-from-template.md
[MakeILBASE]: ./create-ilb-ase.md
[ASENetwork]: ./network-info.md
[ASEReadme]: ./readme.md
[UsingASE]: ./using-an-ase.md
[UDRs]: ../../virtual-network/virtual-networks-udr-overview.md
[NSGs]: ../../virtual-network/virtual-networks-nsg.md
[ConfigureASEv1]: ../../app-service-web/app-service-web-configure-an-app-service-environment.md
[ASEv1Intro]: ../../app-service-web/app-service-app-service-environment-intro.md
[webapps]: ../../app-service-web/app-service-web-overview.md
[mobileapps]: ../../app-service-mobile/app-service-mobile-value-prop.md
[APIapps]: ../../app-service-api/app-service-api-apps-why-best-platform.md
[Functions]: ../../azure-functions/index.yml
[Pricing]: http://azure.microsoft.com/pricing/details/app-service/
[ARMOverview]: ../../azure-resource-manager/resource-group-overview.md
[ConfigureSSL]: ../../app-service-web/web-sites-purchase-ssl-web-site.md
[Kudu]: http://azure.microsoft.com/resources/videos/super-secret-kudu-debug-console-for-azure-web-sites/
[AppDeploy]: ../../app-service-web/web-sites-deploy.md
[ASEWAF]: ../../app-service-web/app-service-app-service-environment-web-application-firewall.md
[AppGW]: ../../application-gateway/application-gateway-web-application-firewall-overview.md
