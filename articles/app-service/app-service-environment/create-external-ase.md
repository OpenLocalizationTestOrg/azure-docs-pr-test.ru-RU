---
title: "Создание внешней среды службы приложений Azure"
description: "Сведения о создании среды службы приложений во время создания приложения или с помощью пользовательского интерфейса автономного создания."
services: app-service
documentationcenter: na
author: ccompy
manager: stefsch
ms.assetid: 94dd0222-b960-469c-85da-7fcb98654241
ms.service: app-service
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 06/13/2017
ms.author: ccompy
ms.openlocfilehash: 2dfe531facbe84aac65c5f787851c015de719fee
ms.sourcegitcommit: 02e69c4a9d17645633357fe3d46677c2ff22c85a
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/03/2017
---
# <a name="create-an-external-app-service-environment"></a><span data-ttu-id="04549-103">Создание внешней среды службы приложений</span><span class="sxs-lookup"><span data-stu-id="04549-103">Create an External App Service environment</span></span> #

<span data-ttu-id="04549-104">Среда службы приложений — это развернутая служба приложений Azure в подсети виртуальной сети Azure.</span><span class="sxs-lookup"><span data-stu-id="04549-104">Azure App Service Environment is a deployment of Azure App Service into a subnet in an Azure virtual network (VNet).</span></span> <span data-ttu-id="04549-105">Существует два способа развертывания среды службы приложений (ASE):</span><span class="sxs-lookup"><span data-stu-id="04549-105">There are two ways to deploy an App Service environment (ASE):</span></span>

- <span data-ttu-id="04549-106">с виртуальным IP-адресом на основе внешнего IP-адреса, что часто называют внешней средой ASE;</span><span class="sxs-lookup"><span data-stu-id="04549-106">With a VIP on an external IP address, often called an External ASE.</span></span>
- <span data-ttu-id="04549-107">с виртуальным IP-адресом на основе внутреннего IP-адреса, что часто называют средой службы приложений с внутренним балансировщиком нагрузки, так как внутренней конечной точкой является внутренний балансировщик нагрузки (ILB).</span><span class="sxs-lookup"><span data-stu-id="04549-107">With the VIP on an internal IP address, often called an ILB ASE because the internal endpoint is an internal load balancer (ILB).</span></span>

<span data-ttu-id="04549-108">В этой статье показано, как создать внешнюю среду ASE.</span><span class="sxs-lookup"><span data-stu-id="04549-108">This article shows you how to create an External ASE.</span></span> <span data-ttu-id="04549-109">Общие сведения о среде службы приложений см. в [этой статье][Intro].</span><span class="sxs-lookup"><span data-stu-id="04549-109">For an overview of the ASE, see [An introduction to the App Service Environment][Intro].</span></span> <span data-ttu-id="04549-110">Дополнительные сведения о создании среды ASE с внутренним балансировщиком нагрузки см. в статье [Создание и использование внутренней подсистемы балансировки нагрузки со средой службы приложений][MakeILBASE].</span><span class="sxs-lookup"><span data-stu-id="04549-110">For information on how to create an ILB ASE, see [Create and use an ILB ASE][MakeILBASE].</span></span>

## <a name="before-you-create-your-ase"></a><span data-ttu-id="04549-111">Перед созданием среды службы приложений</span><span class="sxs-lookup"><span data-stu-id="04549-111">Before you create your ASE</span></span> ##

<span data-ttu-id="04549-112">После создания среды ASE нельзя изменить следующие параметры:</span><span class="sxs-lookup"><span data-stu-id="04549-112">After you create your ASE, you can't change the following:</span></span>

- <span data-ttu-id="04549-113">Расположение</span><span class="sxs-lookup"><span data-stu-id="04549-113">Location</span></span>
- <span data-ttu-id="04549-114">Подписки</span><span class="sxs-lookup"><span data-stu-id="04549-114">Subscription</span></span>
- <span data-ttu-id="04549-115">Группа ресурсов</span><span class="sxs-lookup"><span data-stu-id="04549-115">Resource group</span></span>
- <span data-ttu-id="04549-116">Используемая виртуальная сеть</span><span class="sxs-lookup"><span data-stu-id="04549-116">VNet used</span></span>
- <span data-ttu-id="04549-117">Используемая подсеть</span><span class="sxs-lookup"><span data-stu-id="04549-117">Subnet used</span></span>
- <span data-ttu-id="04549-118">Размер подсети</span><span class="sxs-lookup"><span data-stu-id="04549-118">Subnet size</span></span>

> [!NOTE]
> <span data-ttu-id="04549-119">При выборе виртуальной сети и указании подсети их размер должен быть достаточно большим для дальнейшего роста.</span><span class="sxs-lookup"><span data-stu-id="04549-119">When you choose a VNet and specify a subnet, make sure that it's large enough to accommodate future growth.</span></span> <span data-ttu-id="04549-120">Рекомендуемый размер — `/25` с 128 адресами.</span><span class="sxs-lookup"><span data-stu-id="04549-120">We recommend a size of `/25` with 128 addresses.</span></span>
>

## <a name="three-ways-to-create-an-ase"></a><span data-ttu-id="04549-121">Три способа создания ASE</span><span class="sxs-lookup"><span data-stu-id="04549-121">Three ways to create an ASE</span></span> ##

<span data-ttu-id="04549-122">Существует три способа создания ASE:</span><span class="sxs-lookup"><span data-stu-id="04549-122">There are three ways to create an ASE:</span></span>

- <span data-ttu-id="04549-123">**При создании плана службы приложений.**</span><span class="sxs-lookup"><span data-stu-id="04549-123">**While creating an App Service plan**.</span></span> <span data-ttu-id="04549-124">При этом ASE и план службы приложений создаются одновременно.</span><span class="sxs-lookup"><span data-stu-id="04549-124">This method creates the ASE and the App Service plan in one step.</span></span>
- <span data-ttu-id="04549-125">**Отдельно.**</span><span class="sxs-lookup"><span data-stu-id="04549-125">**As a standalone action**.</span></span> <span data-ttu-id="04549-126">При этом создается пустая среда ASE.</span><span class="sxs-lookup"><span data-stu-id="04549-126">This method creates a standalone ASE, which is an ASE with nothing in it.</span></span> <span data-ttu-id="04549-127">Этот более продвинутый способ создания ASE.</span><span class="sxs-lookup"><span data-stu-id="04549-127">This method is a more advanced process to create an ASE.</span></span> <span data-ttu-id="04549-128">Так вы можете создать ASE с ILB.</span><span class="sxs-lookup"><span data-stu-id="04549-128">You use it to create an ASE with an ILB.</span></span>
- <span data-ttu-id="04549-129">**Из шаблона Azure Resource Manager.**</span><span class="sxs-lookup"><span data-stu-id="04549-129">**From an Azure Resource Manager template**.</span></span> <span data-ttu-id="04549-130">Этот метод предназначен для опытных пользователей.</span><span class="sxs-lookup"><span data-stu-id="04549-130">This method is for advanced users.</span></span> <span data-ttu-id="04549-131">Дополнительные сведения см. в статье [Создание среды службы приложений с внутренней подсистемой балансировки нагрузки с помощью шаблонов Azure Resource Manager][MakeASEfromTemplate].</span><span class="sxs-lookup"><span data-stu-id="04549-131">For more information, see [Create an ASE from a template][MakeASEfromTemplate].</span></span>

<span data-ttu-id="04549-132">Внешняя среда ASE имеет общедоступный виртуальный IP-адрес. Это означает, что весь трафик HTTP и HTTPS, передающийся в приложения в ASE, достигает доступного из Интернета IP-адреса.</span><span class="sxs-lookup"><span data-stu-id="04549-132">An External ASE has a public VIP, which means that all HTTP/HTTPS traffic to the apps in the ASE hits an internet-accessible IP address.</span></span> <span data-ttu-id="04549-133">ASE с ILB имеет IP-адрес из подсети, используемой ASE.</span><span class="sxs-lookup"><span data-stu-id="04549-133">An ASE with an ILB has an IP address from the subnet used by the ASE.</span></span> <span data-ttu-id="04549-134">Приложения, размещенные в ASE с ILB, не подключены непосредственно к Интернету.</span><span class="sxs-lookup"><span data-stu-id="04549-134">The apps hosted in an ILB ASE aren't exposed directly to the internet.</span></span>

## <a name="create-an-ase-and-an-app-service-plan-together"></a><span data-ttu-id="04549-135">Одновременное создание среды ASE и плана службы приложений</span><span class="sxs-lookup"><span data-stu-id="04549-135">Create an ASE and an App Service plan together</span></span> ##

<span data-ttu-id="04549-136">План службы приложений представляет собой контейнер приложений.</span><span class="sxs-lookup"><span data-stu-id="04549-136">The App Service plan is a container of apps.</span></span> <span data-ttu-id="04549-137">При создании приложения в службе приложений можно выбрать или создать план службы приложений.</span><span class="sxs-lookup"><span data-stu-id="04549-137">When you create an app in App Service, you choose or create an App Service plan.</span></span> <span data-ttu-id="04549-138">Модель контейнера имеет такой вид: среды содержат планы служб приложений, а планы служб приложений содержат приложения.</span><span class="sxs-lookup"><span data-stu-id="04549-138">The container model environments hold App Service plans, and App Service plans hold apps.</span></span>

<span data-ttu-id="04549-139">Чтобы создать ASE при создании плана службы приложений, сделайте следующее:</span><span class="sxs-lookup"><span data-stu-id="04549-139">To create an ASE while you create an App Service plan:</span></span>

1. <span data-ttu-id="04549-140">На [портале Azure](https://portal.azure.com/) выберите **Создать** > **Интернет+мобильные устройства** > **Веб-приложение**.</span><span class="sxs-lookup"><span data-stu-id="04549-140">In the [Azure portal](https://portal.azure.com/), select **New** > **Web + Mobile** > **Web App**.</span></span>

    ![Создание веб-приложения][1]

2. <span data-ttu-id="04549-142">Выберите свою подписку.</span><span class="sxs-lookup"><span data-stu-id="04549-142">Select your subscription.</span></span> <span data-ttu-id="04549-143">ASE и приложение создаются в одной подписке.</span><span class="sxs-lookup"><span data-stu-id="04549-143">The app and the ASE are created in the same subscriptions.</span></span>

3. <span data-ttu-id="04549-144">Выберите или создайте группу ресурсов.</span><span class="sxs-lookup"><span data-stu-id="04549-144">Select or create a resource group.</span></span> <span data-ttu-id="04549-145">С помощью групп ресурсов можно управлять связанными ресурсами Azure как единым целым.</span><span class="sxs-lookup"><span data-stu-id="04549-145">With resource groups, you can manage related Azure resources as a unit.</span></span> <span data-ttu-id="04549-146">Группы ресурсов также полезны при установке правил управления доступом на основе ролей для приложений.</span><span class="sxs-lookup"><span data-stu-id="04549-146">Resource groups also are useful when you establish Role-Based Access Control rules for your apps.</span></span> <span data-ttu-id="04549-147">Дополнительные сведения см. в [обзоре Azure Resource Manager][ARMOverview].</span><span class="sxs-lookup"><span data-stu-id="04549-147">For more information, see the [Azure Resource Manager overview][ARMOverview].</span></span>

4. <span data-ttu-id="04549-148">Выберите план службы приложений и щелкните **Создать**.</span><span class="sxs-lookup"><span data-stu-id="04549-148">Select the App Service plan, and then select **Create New**.</span></span>

    ![Новый план службы приложений][2]

5. <span data-ttu-id="04549-150">В раскрывающемся списке **Расположение** выберите регион, где нужно создать ASE.</span><span class="sxs-lookup"><span data-stu-id="04549-150">In the **Location** drop-down list, select the region where you want to create the ASE.</span></span> <span data-ttu-id="04549-151">При выборе имеющейся среды ASE новая не создается.</span><span class="sxs-lookup"><span data-stu-id="04549-151">If you select an existing ASE, a new ASE isn't created.</span></span> <span data-ttu-id="04549-152">План службы приложений создается в выбранной среде ASE.</span><span class="sxs-lookup"><span data-stu-id="04549-152">The App Service plan is created in the ASE that you selected.</span></span> 

6. <span data-ttu-id="04549-153">Выберите **Ценовая категория** и одну из ценовых категорий (номер SKU) уровня **Isolated**.</span><span class="sxs-lookup"><span data-stu-id="04549-153">Select **Pricing tier**, and choose one of the **Isolated** pricing SKUs.</span></span> <span data-ttu-id="04549-154">Выбор расположения и номера SKU уровня **Isolated**, недоступного в имеющейся среде ASE, создается еще одна среда в этом расположении.</span><span class="sxs-lookup"><span data-stu-id="04549-154">If you choose an **Isolated** SKU card and a location that's not an ASE, a new ASE is created in that location.</span></span> <span data-ttu-id="04549-155">Чтобы запустить процесс создания ASE, нажмите кнопку **Выбрать**.</span><span class="sxs-lookup"><span data-stu-id="04549-155">To start the process to create an ASE, select **Select**.</span></span> <span data-ttu-id="04549-156">Номер SKU уровня **Isolated** доступен только в среде ASE.</span><span class="sxs-lookup"><span data-stu-id="04549-156">The **Isolated** SKU is available only in conjunction with an ASE.</span></span> <span data-ttu-id="04549-157">Это также означает, что в среде ASE можно использовать только номер SKU уровня **Isolated**.</span><span class="sxs-lookup"><span data-stu-id="04549-157">You also can't use any other pricing SKU in an ASE other than **Isolated**.</span></span>

    ![Выбор ценовой категории][3]

7. <span data-ttu-id="04549-159">Введите имя среды ASE.</span><span class="sxs-lookup"><span data-stu-id="04549-159">Enter the name for your ASE.</span></span> <span data-ttu-id="04549-160">Это имя используется в имени для обращения к приложению.</span><span class="sxs-lookup"><span data-stu-id="04549-160">This name is used in the addressable name for your apps.</span></span> <span data-ttu-id="04549-161">Если для ASE указано имя _appsvcenvdemo_, то доменным именем будет *.appsvcenvdemo.p.azurewebsites.net*.</span><span class="sxs-lookup"><span data-stu-id="04549-161">If the name of the ASE is _appsvcenvdemo_, the domain name is *.appsvcenvdemo.p.azurewebsites.net*.</span></span> <span data-ttu-id="04549-162">Если затем создать веб-приложение с именем *mytestapp*, то к нему можно будет обращаться по адресу mytestapp.appsvcenvdemo.p.azurewebsites.net.</span><span class="sxs-lookup"><span data-stu-id="04549-162">If you create an app named *mytestapp*, it's addressable at mytestapp.appsvcenvdemo.p.azurewebsites.net.</span></span> <span data-ttu-id="04549-163">В имени нельзя использовать пробелы.</span><span class="sxs-lookup"><span data-stu-id="04549-163">You can't use white space in the name.</span></span> <span data-ttu-id="04549-164">Если вы используете символы верхнего регистра, в доменном имени будут использоваться такие же символы нижнего регистра.</span><span class="sxs-lookup"><span data-stu-id="04549-164">If you use uppercase characters, the domain name is the total lowercase version of that name.</span></span>

    ![Имя нового плана службы приложений][4]

8. <span data-ttu-id="04549-166">Укажите сведения о виртуальной сети Azure.</span><span class="sxs-lookup"><span data-stu-id="04549-166">Specify your Azure virtual networking details.</span></span> <span data-ttu-id="04549-167">Выберите **Создать** или **Выбрать существующую**.</span><span class="sxs-lookup"><span data-stu-id="04549-167">Select either **Create New** or **Select Existing**.</span></span> <span data-ttu-id="04549-168">Параметр для выбора имеющейся виртуальной сети доступен только при наличии виртуальной сети в выбранном регионе.</span><span class="sxs-lookup"><span data-stu-id="04549-168">The option to select an existing VNet is available only if you have a VNet in the selected region.</span></span> <span data-ttu-id="04549-169">Выбрав **Создать**, введите имя виртуальной сети.</span><span class="sxs-lookup"><span data-stu-id="04549-169">If you select **Create New**, enter a name for the VNet.</span></span> <span data-ttu-id="04549-170">При этом будет создана виртуальная сеть диспетчера ресурсов с таким именем.</span><span class="sxs-lookup"><span data-stu-id="04549-170">A new Resource Manager VNet with that name is created.</span></span> <span data-ttu-id="04549-171">Она использует адресное пространство `192.168.250.0/23` в выбранном регионе.</span><span class="sxs-lookup"><span data-stu-id="04549-171">It uses the address space `192.168.250.0/23` in the selected region.</span></span> <span data-ttu-id="04549-172">Если вы выбрали параметр **Выбрать существующую**, вам потребуется:</span><span class="sxs-lookup"><span data-stu-id="04549-172">If you select **Select Existing**, you need to:</span></span>

    <span data-ttu-id="04549-173">а.</span><span class="sxs-lookup"><span data-stu-id="04549-173">a.</span></span> <span data-ttu-id="04549-174">Выбрать блок адресов виртуальной сети (при наличии нескольких).</span><span class="sxs-lookup"><span data-stu-id="04549-174">Select the VNet address block, if you have more than one.</span></span>

    <span data-ttu-id="04549-175">b.</span><span class="sxs-lookup"><span data-stu-id="04549-175">b.</span></span> <span data-ttu-id="04549-176">Введите новое имя подсети.</span><span class="sxs-lookup"><span data-stu-id="04549-176">Enter a new subnet name.</span></span>

    <span data-ttu-id="04549-177">c.</span><span class="sxs-lookup"><span data-stu-id="04549-177">c.</span></span> <span data-ttu-id="04549-178">Выбрать размер подсети.</span><span class="sxs-lookup"><span data-stu-id="04549-178">Select the size of the subnet.</span></span> <span data-ttu-id="04549-179">*Выберите размер, достаточный для дальнейшего роста среды ASE.*</span><span class="sxs-lookup"><span data-stu-id="04549-179">*Remember to select a size large enough to accommodate future growth of your ASE.*</span></span> <span data-ttu-id="04549-180">Рекомендуемый размер — `/25`. Такая подсеть содержит 128 адресов и может обслуживать среду службы приложений максимального размера.</span><span class="sxs-lookup"><span data-stu-id="04549-180">We recommend `/25`, which has 128 addresses and can handle a maximum-sized ASE.</span></span> <span data-ttu-id="04549-181">Мы не советуем задавать, например, размер `/28`, так как доступно только 16 адресов.</span><span class="sxs-lookup"><span data-stu-id="04549-181">We don't recommend `/28`, for example, because only 16 addresses are available.</span></span> <span data-ttu-id="04549-182">Инфраструктура использует по крайней мере пять адресов.</span><span class="sxs-lookup"><span data-stu-id="04549-182">Infrastructure uses at least five addresses.</span></span> <span data-ttu-id="04549-183">При размере подсети `/28` вы сможете выполнять масштабирование до 11 экземпляров.</span><span class="sxs-lookup"><span data-stu-id="04549-183">In a `/28` subnet, you're left with a maximum scaling of 11 instances.</span></span>

    <span data-ttu-id="04549-184">d.</span><span class="sxs-lookup"><span data-stu-id="04549-184">d.</span></span> <span data-ttu-id="04549-185">Выбрать диапазон IP-адресов подсети.</span><span class="sxs-lookup"><span data-stu-id="04549-185">Select the subnet IP range.</span></span>

9. <span data-ttu-id="04549-186">Выберите **Создать**, чтобы создать ASE.</span><span class="sxs-lookup"><span data-stu-id="04549-186">Select **Create** to create the ASE.</span></span> <span data-ttu-id="04549-187">При этом также создается план службы приложений и приложение.</span><span class="sxs-lookup"><span data-stu-id="04549-187">This process also creates the App Service plan and the app.</span></span> <span data-ttu-id="04549-188">Среда ASE, план службы приложений и приложение создаются в рамках одной подписки и в той же группе ресурсов.</span><span class="sxs-lookup"><span data-stu-id="04549-188">The ASE, App Service plan, and app are all under the same subscription and also in the same resource group.</span></span> <span data-ttu-id="04549-189">Если среде нужна отдельная группа ресурсов или если нужно создать среду ASE с внутренней подсистемой балансировки нагрузки, тогда воспользуйтесь инструкциями по созданию автономной среды ASE.</span><span class="sxs-lookup"><span data-stu-id="04549-189">If your ASE needs a separate resource group or if you need an ILB ASE, follow the steps to create an ASE by itself.</span></span>

## <a name="create-an-ase-by-itself"></a><span data-ttu-id="04549-190">Автономное создание среды ASE</span><span class="sxs-lookup"><span data-stu-id="04549-190">Create an ASE by itself</span></span> ##

<span data-ttu-id="04549-191">Автономная среда ASE создается пустой.</span><span class="sxs-lookup"><span data-stu-id="04549-191">If you create an ASE standalone, it has nothing in it.</span></span> <span data-ttu-id="04549-192">В этом случае взимается ежемесячная плата за пустую инфраструктуру.</span><span class="sxs-lookup"><span data-stu-id="04549-192">An empty ASE still incurs a monthly charge for the infrastructure.</span></span> <span data-ttu-id="04549-193">Выполните следующие действия, чтобы создать ASE с внутренним балансировщиком нагрузки или ASE в собственной группе ресурсов.</span><span class="sxs-lookup"><span data-stu-id="04549-193">Follow these steps to create an ASE with an ILB or to create an ASE in its own resource group.</span></span> <span data-ttu-id="04549-194">После создания ASE можно создать приложения по стандартной процедуре.</span><span class="sxs-lookup"><span data-stu-id="04549-194">After you create your ASE, you can create apps in it by using the normal process.</span></span> <span data-ttu-id="04549-195">Выберите новую среду ASE в качестве расположения.</span><span class="sxs-lookup"><span data-stu-id="04549-195">Select your new ASE as the location.</span></span>

1. <span data-ttu-id="04549-196">В Azure Marketplace найдите **среду службы приложений** или выберите **Создать** > **Web Mobile** (Интернет и мобильные устройства) > **Среда службы приложений**.</span><span class="sxs-lookup"><span data-stu-id="04549-196">Search the Azure Marketplace for **App Service Environment**, or select **New** > **Web Mobile** > **App Service Environment**.</span></span> 

2. <span data-ttu-id="04549-197">Введите имя ASE.</span><span class="sxs-lookup"><span data-stu-id="04549-197">Enter the name of your ASE.</span></span> <span data-ttu-id="04549-198">Оно используется для приложений, созданных в среде ASE.</span><span class="sxs-lookup"><span data-stu-id="04549-198">This name is used for the apps created in the ASE.</span></span> <span data-ttu-id="04549-199">Если указано имя *mynewdemoase*, то именем поддомена будет *.mynewdemoase.p.azurewebsites.net*.</span><span class="sxs-lookup"><span data-stu-id="04549-199">If the name is *mynewdemoase*, the subdomain name is *.mynewdemoase.p.azurewebsites.net*.</span></span> <span data-ttu-id="04549-200">Если затем создать веб-приложение с именем *mytestapp*, то к нему можно будет обращаться по адресу mytestapp.mynewdemoase.p.azurewebsites.net.</span><span class="sxs-lookup"><span data-stu-id="04549-200">If you create an app named *mytestapp*, it's addressable at mytestapp.mynewdemoase.p.azurewebsites.net.</span></span> <span data-ttu-id="04549-201">В имени нельзя использовать пробелы.</span><span class="sxs-lookup"><span data-stu-id="04549-201">You can't use white space in the name.</span></span> <span data-ttu-id="04549-202">Если вы используете символы верхнего регистра, в доменном имени будут использоваться такие же символы нижнего регистра.</span><span class="sxs-lookup"><span data-stu-id="04549-202">If you use uppercase characters, the domain name is the total lowercase version of the name.</span></span> <span data-ttu-id="04549-203">Если используется внутренний балансировщик нагрузки, то имя среды ASE не используется в поддомене, а указывается явно во время создания среды ASE.</span><span class="sxs-lookup"><span data-stu-id="04549-203">If you use an ILB, your ASE name isn't used in your subdomain but is instead explicitly stated during ASE creation.</span></span>

    ![Именование ASE][5]

3. <span data-ttu-id="04549-205">Выберите свою подписку.</span><span class="sxs-lookup"><span data-stu-id="04549-205">Select your subscription.</span></span> <span data-ttu-id="04549-206">Эту подписка также используют все приложения в ASE.</span><span class="sxs-lookup"><span data-stu-id="04549-206">This subscription is also the one that all apps in the ASE use.</span></span> <span data-ttu-id="04549-207">Невозможно поместить ASE в виртуальную сеть, находящуюся в другой подписке.</span><span class="sxs-lookup"><span data-stu-id="04549-207">You can't put your ASE in a VNet that's in another subscription.</span></span>

4. <span data-ttu-id="04549-208">Выберите или укажите новую группу ресурсов.</span><span class="sxs-lookup"><span data-stu-id="04549-208">Select or specify a new resource group.</span></span> <span data-ttu-id="04549-209">Для среды ASE нужно использовать ту же группу ресурсов, что и для виртуальной сети.</span><span class="sxs-lookup"><span data-stu-id="04549-209">The resource group used for your ASE must be the same one that's used for your VNet.</span></span> <span data-ttu-id="04549-210">Если выбрать существующую виртуальную сеть, то это соответствующим образом изменит выбор группы ресурсов для среды ASE.</span><span class="sxs-lookup"><span data-stu-id="04549-210">If you select an existing VNet, the resource group selection for your ASE is updated to reflect that of your VNet.</span></span> <span data-ttu-id="04549-211">*При использовании шаблона Resource Manager можно создать ASE с группой ресурсов, которая отличается от группы ресурсов виртуальной сети.*</span><span class="sxs-lookup"><span data-stu-id="04549-211">*You can create an ASE with a resource group that is different from the VNet resource group if you use a Resource Manager template.*</span></span> <span data-ttu-id="04549-212">Сведения о создании среды ASE из шаблона см. в статье [Создание среды службы приложений с внутренней подсистемой балансировки нагрузки с помощью шаблонов Azure Resource Manager][MakeASEfromTemplate].</span><span class="sxs-lookup"><span data-stu-id="04549-212">To create an ASE from a template, see [Create an App Service environment from a template][MakeASEfromTemplate].</span></span>

    ![Выбор группы ресурсов][6]

5. <span data-ttu-id="04549-214">Выберите виртуальную сеть и расположение.</span><span class="sxs-lookup"><span data-stu-id="04549-214">Select your VNet and location.</span></span> <span data-ttu-id="04549-215">Вы можете создать виртуальную сеть или выбрать имеющуюся:</span><span class="sxs-lookup"><span data-stu-id="04549-215">You can create a new VNet or select an existing VNet:</span></span> 

    * <span data-ttu-id="04549-216">В случае выбора создания виртуальной сети можно указать ее имя и расположение.</span><span class="sxs-lookup"><span data-stu-id="04549-216">If you select a new VNet, you can specify a name and location.</span></span> <span data-ttu-id="04549-217">Новая виртуальная сеть имеет диапазон адресов 192.168.250.0/23 и подсеть с именем default,</span><span class="sxs-lookup"><span data-stu-id="04549-217">The new VNet has the address range 192.168.250.0/23 and a subnet named default.</span></span> <span data-ttu-id="04549-218">определенная как 192.168.250.0/24.</span><span class="sxs-lookup"><span data-stu-id="04549-218">The subnet is defined as 192.168.250.0/24.</span></span> <span data-ttu-id="04549-219">Вы можете выбрать только виртуальную сеть диспетчера ресурсов.</span><span class="sxs-lookup"><span data-stu-id="04549-219">You can only select a Resource Manager VNet.</span></span> <span data-ttu-id="04549-220">Параметр **Тип VIP** определяет, возможен ли доступ к среде ASE непосредственно из Интернета (внешний) или через внутреннюю подсистему балансировки нагрузки.</span><span class="sxs-lookup"><span data-stu-id="04549-220">The **VIP Type** selection determines if your ASE can be directly accessed from the internet (External) or if it uses an ILB.</span></span> <span data-ttu-id="04549-221">Дополнительные сведения об этих параметрах см. в статье [Создание и использование внутренней подсистемы балансировки нагрузки со средой службы приложений][MakeILBASE].</span><span class="sxs-lookup"><span data-stu-id="04549-221">To learn more about these options, see [Create and use an internal load balancer with an App Service environment][MakeILBASE].</span></span> 

      * <span data-ttu-id="04549-222">Если для параметра **Тип VIP** выбрать значение **Внешний**, то можно будет выбрать количество внешних IP-адресов, с которыми создается система предназначенных для подключений SSL на основе IP-адреса.</span><span class="sxs-lookup"><span data-stu-id="04549-222">If you select **External** for the **VIP Type**, you can select how many external IP addresses the system is created with for IP-based SSL purposes.</span></span> 
    
      * <span data-ttu-id="04549-223">Если для параметра **VIP Type** выбрать значение **внутренний**, необходимо указать домен, который использует среда ASE.</span><span class="sxs-lookup"><span data-stu-id="04549-223">If you select **Internal** for the **VIP Type**, you must specify the domain that your ASE uses.</span></span> <span data-ttu-id="04549-224">ASE можно развернуть в виртуальную сеть, использующую диапазоны общедоступных или частных адресов.</span><span class="sxs-lookup"><span data-stu-id="04549-224">You can deploy an ASE into a VNet that uses public or private address ranges.</span></span> <span data-ttu-id="04549-225">Чтобы использовать виртуальную сеть с диапазоном общедоступных адресов, необходимо создать виртуальную сеть заранее.</span><span class="sxs-lookup"><span data-stu-id="04549-225">To use a VNet with a public address range, you need to create the VNet ahead of time.</span></span> 
    
    * <span data-ttu-id="04549-226">Если выбрать имеющуюся виртуальную сеть, при создании ASE создается подсеть.</span><span class="sxs-lookup"><span data-stu-id="04549-226">If you select an existing VNet, a new subnet is created when the ASE is created.</span></span> <span data-ttu-id="04549-227">*На портале невозможно использовать предварительно созданную подсеть. Создать среду ASE с имеющейся подсетью можно с помощью шаблона Resource Manager.*</span><span class="sxs-lookup"><span data-stu-id="04549-227">*You can't use a pre-created subnet in the portal. You can create an ASE with an existing subnet if you use a Resource Manager template.*</span></span> <span data-ttu-id="04549-228">Сведения о создании среды ASE из шаблона см. в статье [Создание среды службы приложений с внутренней подсистемой балансировки нагрузки с помощью шаблонов Azure Resource Manager][MakeASEfromTemplate].</span><span class="sxs-lookup"><span data-stu-id="04549-228">To create an ASE from a template, see [Create an App Service Environment from a template][MakeASEfromTemplate].</span></span>

## <a name="app-service-environment-v1"></a><span data-ttu-id="04549-229">Среда службы приложений версии 1</span><span class="sxs-lookup"><span data-stu-id="04549-229">App Service Environment v1</span></span> ##

<span data-ttu-id="04549-230">Вы можете создавать экземпляры среды службы приложений первой версии (ASEv1).</span><span class="sxs-lookup"><span data-stu-id="04549-230">You can still create instances of the first version of App Service Environment (ASEv1).</span></span> <span data-ttu-id="04549-231">Чтобы приступить к процессу, в Marketplace найдите **среду службы приложений версии 1**.</span><span class="sxs-lookup"><span data-stu-id="04549-231">To start that process, search the Marketplace for **App Service Environment v1**.</span></span> <span data-ttu-id="04549-232">Создайте среду ASE так же, как и отдельную среду ASE.</span><span class="sxs-lookup"><span data-stu-id="04549-232">You create the ASE in the same way that you create the standalone ASE.</span></span> <span data-ttu-id="04549-233">После создания ASEv1 вы получите два интерфейса и две рабочих роли.</span><span class="sxs-lookup"><span data-stu-id="04549-233">When it's finished, your ASEv1 has two front ends and two workers.</span></span> <span data-ttu-id="04549-234">При использовании среды ASEv1 вам потребуется управлять этими интерфейсами и рабочими ролями.</span><span class="sxs-lookup"><span data-stu-id="04549-234">With ASEv1, you must manage the front ends and workers.</span></span> <span data-ttu-id="04549-235">Они не добавляются автоматически при создании планов служб приложений.</span><span class="sxs-lookup"><span data-stu-id="04549-235">They're not automatically added when you create your App Service plans.</span></span> <span data-ttu-id="04549-236">Внешний интерфейс выступает в качестве конечных точек HTTP или HTTPS и отправляет трафик в рабочие роли.</span><span class="sxs-lookup"><span data-stu-id="04549-236">The front ends act as the HTTP/HTTPS endpoints and send traffic to the workers.</span></span> <span data-ttu-id="04549-237">Это роли, в которых размещены ваши приложения.</span><span class="sxs-lookup"><span data-stu-id="04549-237">The workers are the roles that host your apps.</span></span> <span data-ttu-id="04549-238">После создания ASE можно настроить количество интерфейсов и рабочих ролей.</span><span class="sxs-lookup"><span data-stu-id="04549-238">You can adjust the quantity of front ends and workers after you create your ASE.</span></span> 

<span data-ttu-id="04549-239">Сведения об ASEv1 см. в статье [Введение в среду службы приложения][ASEv1Intro].</span><span class="sxs-lookup"><span data-stu-id="04549-239">To learn more about ASEv1, see [Introduction to the App Service Environment v1][ASEv1Intro].</span></span> <span data-ttu-id="04549-240">Дополнительные сведения о масштабировании и мониторинге среды ASEv1, а также об управлении ею см. в статье [Настройка среды службы приложений][ConfigureASEv1].</span><span class="sxs-lookup"><span data-stu-id="04549-240">For more information on scaling, managing, and monitoring ASEv1, see [How to configure an App Service Environment][ConfigureASEv1].</span></span>

<!--Image references-->
[1]: ./media/how_to_create_an_external_app_service_environment/createexternalase-create.png
[2]: ./media/how_to_create_an_external_app_service_environment/createexternalase-aspcreate.png
[3]: ./media/how_to_create_an_external_app_service_environment/createexternalase-pricing.png
[4]: ./media/how_to_create_an_external_app_service_environment/createexternalase-embeddedcreate.png
[5]: ./media/how_to_create_an_external_app_service_environment/createexternalase-standalonecreate.png
[6]: ./media/how_to_create_an_external_app_service_environment/createexternalase-network.png



<!--Links-->
[Intro]: ./intro.md
[MakeExternalASE]: ./create-external-ase.md
[MakeASEfromTemplate]: ./create-from-template.md
[MakeILBASE]: ./create-ilb-ase.md
[ASENetwork]: ./network-info.md
[ASEReadme]: ./readme.md
[UsingASE]: ./using-an-ase.md
[UDRs]: ../../virtual-network/virtual-networks-udr-overview.md
[NSGs]: ../../virtual-network/virtual-networks-nsg.md
[ConfigureASEv1]: ../../app-service-web/app-service-web-configure-an-app-service-environment.md
[ASEv1Intro]: ../../app-service-web/app-service-app-service-environment-intro.md
[webapps]: ../../app-service-web/app-service-web-overview.md
[mobileapps]: ../../app-service-mobile/app-service-mobile-value-prop.md
[APIapps]: ../../app-service-api/app-service-api-apps-why-best-platform.md
[Functions]: ../../azure-functions/index.yml
[Pricing]: http://azure.microsoft.com/pricing/details/app-service/
[ARMOverview]: ../../azure-resource-manager/resource-group-overview.md
