---
title: "Веб-приложение Azure для развертывания на платформе Linux: пользовательский или встроенный образ платформы?  | Документация Майкрософт"
description: "Как выбрать между пользовательским развертыванием контейнера Docker и встроенной исполняющей средой"
keywords: "служба приложений azure, веб-приложение, linux, oss"
services: app-service
documentationCenter: 
authors: nickwalk
manager: cfowler
editor: 
ms.assetid: 
ms.service: app-service
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 07/14/2017
ms.author: nickwalk
ms.openlocfilehash: 322533a9dce54222943f8b2a3d653780a674c8a4
ms.sourcegitcommit: 6699c77dcbd5f8a1a2f21fba3d0a0005ac9ed6b7
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/11/2017
---
# <a name="custom-image-or-built-in-platform-image"></a>Пользовательский образ или встроенное развертывание?

[Веб-приложение на платформе Linux](app-service-linux-intro.md) предусматривает два разных способа публикации приложения в Интернете:

- **Развертывание пользовательского образа.** Поместите свое приложение в образ Docker, который содержит все файлы и зависимости в готовом пакете.
- **Развертывание приложения со встроенным образом платформы.** Наши встроенные в платформу образы содержат распространенные среды выполнения веб-приложений и зависимости, такие как Node и PHP. Используйте один из [методов развертывания службы приложений Azure](../app-service-deploy-local-git.md?toc=%2fazure%2fapp-service%2fcontainers%2ftoc.json) для развертывания приложения в хранилище веб-приложений, а затем используйте встроенный образ платформы для его запуска.

Какой метод подходит для приложения? Ниже приведены основные факторы, которые следует учитывать:

- **Доступность Docker в рабочем процессе разработки.** Развертывание пользовательского образа требует базового набора знаний о рабочем процессе разработки Docker. Для развертывания пользовательского образа для веб-приложения нужно опубликовать пользовательский образ на узле репозитория, таком как концентратор Docker. Если вы знакомы с Docker и можете добавлять задачи Docker в рабочий процесс сборки или уже опубликовали приложение в качестве образа Docker, пользовательский образ почти наверняка является лучшим вариантом.
- **Уникальные требования к среде выполнения.** Встроенные образы платформы соответствуют требованиям большинства веб-приложений, но ограничены в возможностях настройки. Приложение может иметь уникальные зависимости или другие требования среды выполнения, превышающие возможности встроенных образов.
- **Требования к сборке.** При [непрерывном развертывании](../app-service-continuous-deployment.md?toc=%2fazure%2fapp-service%2fcontainers%2ftoc.json) можно запустить приложение на платформе Azure непосредственно из исходного кода. Никакого внешнего процесса сборки или публикации не требуется. Однако имеется ограничение на возможность настройки и доступность средств сборки внутри обработчика развертывания [Kudu](https://github.com/projectkudu/kudu/wiki). Приложение может перерасти возможности Kudu, так как оно растет в своих зависимостях или требованиях для пользовательской логики сборки.
- **Требования к чтению и записи на диск.** Для всех веб-приложений выделяется том хранилища для веб-содержимого. Этот том, поддерживаемый службой хранилища Azure, подключается к `/home` в файловой системе приложения. В отличие от файлов в файловой системе контейнера, файлы в томе содержимого доступны для всех экземпляров масштабирования приложения, а модификации будут сохраняться между перезагрузками приложения. Однако задержка диска для тома содержимого выше и более изменчива, чем задержка локальной файловой системы контейнера. На доступ могут влиять обновления платформы, незапланированные простои и проблемы с сетевым подключением. Приложения, для которых требуется частый доступ только для чтения к файлам содержимого, могут получить преимущества от развертывания пользовательского образа, при котором файлы помещаются в файловую систему образа, а не на том содержимого.
- **Использование ресурсов сборки.** При развертывании приложения из исходного кода скрипты развертывания, выполняемые Kudu, используют те же вычислительные ресурсы и ресурсы хранения плана службы приложений, что и выполняемое приложение. Крупные развертывания приложений могут потреблять больше ресурсов или времени, чем необходимо. В частности, многие рабочие процессы развертывания создают большую активность на диске в томе содержимого приложения, который не оптимизирован для такой активности. Пользовательский образ доставляет все файлы и зависимости приложения в Azure в одном пакете без дополнительных передач файлов или действий по развертыванию.
- **Необходимость быстрой итерации.** Для создания приложения в образе Docker требуются дополнительные шаги сборки. Чтобы изменения вступили в силу, необходимо отправлять новый образ в репозиторий при каждом обновлении. Затем эти обновления извлекаются в среду Azure. Если один из встроенных контейнеров соответствует потребностям вашего приложения, развертывание из источника может обеспечить ускоренный рабочий процесс разработки.