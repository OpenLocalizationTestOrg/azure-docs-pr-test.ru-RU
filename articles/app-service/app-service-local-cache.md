---
title: "Общие сведения о локальном кэше службы приложений Azure | Документация Майкрософт"
description: "В этой статье описывается, как включить функцию локального кэша службы приложений Azure, а также как изменить его размер и запросить его состояние."
services: app-service
documentationcenter: app-service
author: SyntaxC4
manager: yochayk
editor: 
tags: optional
keywords: 
ms.assetid: e34d405e-c5d4-46ad-9b26-2a1eda86ce80
ms.service: app-service
ms.devlang: multiple
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 03/04/2016
ms.author: cfowler
ms.openlocfilehash: e00d453e9ae34cafb5ce753f63c253e954d6b09a
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/11/2017
---
# <a name="azure-app-service-local-cache-overview"></a><span data-ttu-id="d412a-103">Общие сведения о локальном кэше службы приложений Azure</span><span class="sxs-lookup"><span data-stu-id="d412a-103">Azure App Service Local Cache overview</span></span>
<span data-ttu-id="d412a-104">Содержимое веб-приложения Azure хранится в службе хранилища Azure; оно доступно в долгосрочном режиме в общей папке содержимого.</span><span class="sxs-lookup"><span data-stu-id="d412a-104">Azure web app content is stored on Azure Storage and is surfaced up in a durable manner as a content share.</span></span> <span data-ttu-id="d412a-105">Эта схема рассчитана на работу с различными приложениями и имеет следующие атрибуты:</span><span class="sxs-lookup"><span data-stu-id="d412a-105">This design is intended to work with a variety of apps and has the following attributes:</span></span>  

* <span data-ttu-id="d412a-106">Содержимое разделяется между несколькими экземплярами виртуальных машин в веб-приложении.</span><span class="sxs-lookup"><span data-stu-id="d412a-106">The content is shared across multiple virtual machine (VM) instances of the web app.</span></span>
* <span data-ttu-id="d412a-107">Содержимое хранится в долгосрочном режиме и может быть изменено путем запуска веб-приложений.</span><span class="sxs-lookup"><span data-stu-id="d412a-107">The content is durable and can be modified by running web apps.</span></span>
* <span data-ttu-id="d412a-108">Файлы журналов и диагностических данных доступны в той же общей папке содержимого.</span><span class="sxs-lookup"><span data-stu-id="d412a-108">Log files and diagnostic data files are available under the same shared content folder.</span></span>
* <span data-ttu-id="d412a-109">При публикации нового содержимого происходит явное обновление содержимого общей папки.</span><span class="sxs-lookup"><span data-stu-id="d412a-109">Publishing new content directly updates the content folder.</span></span> <span data-ttu-id="d412a-110">То же содержимое можно моментально просмотреть с помощью веб-сайта диспетчера служб, запустив веб-приложение (обычно некоторые технологии, такие как ASP.NET, перезапускают веб-приложение при каких-либо изменениях файлов, чтобы получить обновленное содержимое).</span><span class="sxs-lookup"><span data-stu-id="d412a-110">You can immediately view the same content through the SCM website and the running web app (typically some technologies such as ASP.NET do initiate a web app restart on some file changes to get the latest content).</span></span>

<span data-ttu-id="d412a-111">Многие веб-приложения используют все перечисленные возможности или одну из них, но некоторым веб-приложениям требуется лишь высокопроизводительное хранилище с содержимым только для чтения, из которого они могут запускаться с высоким уровнем доступности.</span><span class="sxs-lookup"><span data-stu-id="d412a-111">While many web apps use one or all of these features, some web apps just need a high-performance, read-only content store that they can run from with high availability.</span></span> <span data-ttu-id="d412a-112">Эти приложения могут использовать экземпляр виртуальной машины определенного локального кэша.</span><span class="sxs-lookup"><span data-stu-id="d412a-112">These apps can benefit from a VM instance of a specific local cache.</span></span>

<span data-ttu-id="d412a-113">Функция локального кэша службы приложений Azure позволяет получить представление содержимого от лица веб-роли.</span><span class="sxs-lookup"><span data-stu-id="d412a-113">The Azure App Service Local Cache feature provides a web role view of your content.</span></span> <span data-ttu-id="d412a-114">Это содержимое представляет собой кэш содержимого хранилища с записью и отменой, который асинхронно создается во время запуска сайта.</span><span class="sxs-lookup"><span data-stu-id="d412a-114">This content is a write-but-discard cache of your storage content that is created asynchronously on site startup.</span></span> <span data-ttu-id="d412a-115">Когда кэш готов, сайт переключается на работу с кэшированным содержимым.</span><span class="sxs-lookup"><span data-stu-id="d412a-115">When the cache is ready, the site is switched to run against the cached content.</span></span> <span data-ttu-id="d412a-116">Веб-приложения, работающие в локальном кэше, отличаются следующими преимуществами:</span><span class="sxs-lookup"><span data-stu-id="d412a-116">Web apps that run on Local Cache have the following benefits:</span></span>

* <span data-ttu-id="d412a-117">На них не влияют задержки, возникающие во время доступа к содержимому службы хранилища Azure.</span><span class="sxs-lookup"><span data-stu-id="d412a-117">They are immune to latencies that occur when they access content on Azure Storage.</span></span>
* <span data-ttu-id="d412a-118">На них не влияют запланированные обновления или незапланированные простои серверов, на которых размещена общая папка содержимого, а также любые другие перебои в работе службы хранилища Azure.</span><span class="sxs-lookup"><span data-stu-id="d412a-118">They are immune to the planned upgrades or unplanned downtimes and any other disruptions with Azure Storage that occur on servers that serve the content share.</span></span>
* <span data-ttu-id="d412a-119">Эти приложения реже перезапускаются после изменений, выполненных в общей папке хранилища.</span><span class="sxs-lookup"><span data-stu-id="d412a-119">They have fewer app restarts due to storage share changes.</span></span>

## <a name="how-local-cache-changes-the-behavior-of-app-service"></a><span data-ttu-id="d412a-120">Как локальный кэш изменяет поведение службы приложений</span><span class="sxs-lookup"><span data-stu-id="d412a-120">How Local Cache changes the behavior of App Service</span></span>
* <span data-ttu-id="d412a-121">Локальный кэш — это копия папок /site и /siteextensions веб-приложения.</span><span class="sxs-lookup"><span data-stu-id="d412a-121">The local cache is a copy of the /site and /siteextensions folders of the web app.</span></span> <span data-ttu-id="d412a-122">Он создается на локальном экземпляре виртуальной машины во время запуска веб-приложения.</span><span class="sxs-lookup"><span data-stu-id="d412a-122">It is created on the local VM instance on web app startup.</span></span> <span data-ttu-id="d412a-123">Размер локального кэша каждого веб-приложения по умолчанию ограничен 300 МБ, но может быть увеличен до 2 ГБ.</span><span class="sxs-lookup"><span data-stu-id="d412a-123">The size of the local cache per web app is limited to 300 MB by default, but you can increase it up to 2 GB.</span></span>
* <span data-ttu-id="d412a-124">Локальный кэш доступен для чтения и записи.</span><span class="sxs-lookup"><span data-stu-id="d412a-124">The local cache is read-write.</span></span> <span data-ttu-id="d412a-125">Но при перемещении виртуальных машин или перезапуске веб-приложения все изменения в кэше отменяются.</span><span class="sxs-lookup"><span data-stu-id="d412a-125">However, any modifications will be discarded when the web app moves virtual machines or gets restarted.</span></span> <span data-ttu-id="d412a-126">Не следует использовать локальный кэш для приложений, которые хранят критически важные данные в хранилище содержимого.</span><span class="sxs-lookup"><span data-stu-id="d412a-126">You should not use Local Cache for apps that store mission-critical data in the content store.</span></span>
* <span data-ttu-id="d412a-127">Веб-приложения могут продолжать записывать файлы журналов и диагностические данные, как они делают это в настоящее время.</span><span class="sxs-lookup"><span data-stu-id="d412a-127">Web apps can continue to write log files and diagnostic data as they do currently.</span></span> <span data-ttu-id="d412a-128">Однако файлы и данные журналов хранятся локально на виртуальной машине.</span><span class="sxs-lookup"><span data-stu-id="d412a-128">Log files and data, however, are stored locally on the VM.</span></span> <span data-ttu-id="d412a-129">Затем они периодически копируются в общее хранилище содержимого.</span><span class="sxs-lookup"><span data-stu-id="d412a-129">Then they are copied over periodically to the shared content store.</span></span> <span data-ttu-id="d412a-130">Наилучшим вариантом является копирование в общее хранилище содержимого. Результаты обратной записи могут быть потеряны из-за внезапного сбоя экземпляра виртуальной машины.</span><span class="sxs-lookup"><span data-stu-id="d412a-130">The copy to the shared content store is a best-case effort--write backs could be lost due to a sudden crash of a VM instance.</span></span>
* <span data-ttu-id="d412a-131">В структуре папок для файлов журналов и данных для веб-приложений, использующих локальный кэш, есть некоторые изменения.</span><span class="sxs-lookup"><span data-stu-id="d412a-131">There is a change in the folder structure of the LogFiles and Data folders for web apps that use Local Cache.</span></span> <span data-ttu-id="d412a-132">Теперь в папках хранилища LogFiles и Data есть вложенные папки, в которых используется следующий шаблон именования: "уникальный идентификатор + метка времени".</span><span class="sxs-lookup"><span data-stu-id="d412a-132">There are now subfolders in the storage LogFiles and Data folders that follow the naming pattern of "unique identifier" + time stamp.</span></span> <span data-ttu-id="d412a-133">Каждая вложенная папка соответствует экземпляру виртуальной машины, на котором запущено веб-приложение.</span><span class="sxs-lookup"><span data-stu-id="d412a-133">Each of the subfolders corresponds to a VM instance where the web app is running or has run.</span></span>  
* <span data-ttu-id="d412a-134">Во время публикации изменений в веб-приложении с помощью любого механизма эти же изменения публикуются в общем хранилище содержимого.</span><span class="sxs-lookup"><span data-stu-id="d412a-134">Publishing changes to the web app through any of the publishing mechanisms will publish to the shared content store.</span></span> <span data-ttu-id="d412a-135">Это поведение предусмотрено системой, так как публикуемое содержимое должно храниться долго.</span><span class="sxs-lookup"><span data-stu-id="d412a-135">This is by design because we want the published content to be durable.</span></span> <span data-ttu-id="d412a-136">Чтобы обновить локальный кэш веб-приложения, его необходимо перезапустить.</span><span class="sxs-lookup"><span data-stu-id="d412a-136">To refresh the local cache of the web app, it needs to be restarted.</span></span> <span data-ttu-id="d412a-137">Этот шаг кажется вам избыточным?</span><span class="sxs-lookup"><span data-stu-id="d412a-137">Does this seem like an excessive step?</span></span> <span data-ttu-id="d412a-138">Чтобы организовать эффективный жизненный цикл, см. инструкции далее в этой статье.</span><span class="sxs-lookup"><span data-stu-id="d412a-138">To make the lifecycle seamless, see the information later in this article.</span></span>
* <span data-ttu-id="d412a-139">В папке D:\Home будет размещаться локальный кэш.</span><span class="sxs-lookup"><span data-stu-id="d412a-139">D:\Home will point to the local cache.</span></span> <span data-ttu-id="d412a-140">В папке D:\local будет по-прежнему размещаться временное хранилище конкретной виртуальной машины.</span><span class="sxs-lookup"><span data-stu-id="d412a-140">D:\local will continue pointing to the temporary VM specific storage.</span></span>
* <span data-ttu-id="d412a-141">На веб-сайте диспетчера управления службами в качестве представления содержимого по умолчанию по-прежнему будет отображаться общая папка хранилища.</span><span class="sxs-lookup"><span data-stu-id="d412a-141">The default content view of the SCM site will continue to be that of the shared content store.</span></span>

## <a name="enable-local-cache-in-app-service"></a><span data-ttu-id="d412a-142">Включение локального кэша в службе приложений</span><span class="sxs-lookup"><span data-stu-id="d412a-142">Enable Local Cache in App Service</span></span>
<span data-ttu-id="d412a-143">Локальный кэш настраивается с помощью нескольких зарезервированных параметров приложения.</span><span class="sxs-lookup"><span data-stu-id="d412a-143">You configure Local Cache by using a combination of reserved app settings.</span></span> <span data-ttu-id="d412a-144">Эти параметры приложения можно настроить следующими способами.</span><span class="sxs-lookup"><span data-stu-id="d412a-144">You can configure these app settings by using the following methods:</span></span>

* [<span data-ttu-id="d412a-145">Портал Azure</span><span class="sxs-lookup"><span data-stu-id="d412a-145">Azure portal</span></span>](#Configure-Local-Cache-Portal)
* [<span data-ttu-id="d412a-146">Диспетчер ресурсов Azure</span><span class="sxs-lookup"><span data-stu-id="d412a-146">Azure Resource Manager</span></span>](#Configure-Local-Cache-ARM)

### <a name="configure-local-cache-by-using-the-azure-portal"></a><span data-ttu-id="d412a-147">Настройка локального кэша на портале Azure</span><span class="sxs-lookup"><span data-stu-id="d412a-147">Configure Local Cache by using the Azure portal</span></span>
<a name="Configure-Local-Cache-Portal"></a>

<span data-ttu-id="d412a-148">Включите локальный кэш для каждого веб-приложения с помощью этого параметра приложения: `WEBSITE_LOCAL_CACHE_OPTION` = `Always`</span><span class="sxs-lookup"><span data-stu-id="d412a-148">You enable Local Cache on a per-web-app basis by using this app setting: `WEBSITE_LOCAL_CACHE_OPTION` = `Always`</span></span>  

![Параметры приложения на портале Azure: локальный кэш](media/app-service-local-cache/app-service-local-cache-configure-portal.png)

### <a name="configure-local-cache-by-using-azure-resource-manager"></a><span data-ttu-id="d412a-150">Настройка локального кэша с помощью Azure Resource Manager</span><span class="sxs-lookup"><span data-stu-id="d412a-150">Configure Local Cache by using Azure Resource Manager</span></span>
<a name="Configure-Local-Cache-ARM"></a>

```

...

{
    "apiVersion": "2015-08-01",
    "type": "config",
    "name": "appsettings",
    "dependsOn": [
        "[resourceId('Microsoft.Web/sites/', variables('siteName'))]"
    ],

"properties": {
        "WEBSITE_LOCAL_CACHE_OPTION": "Always",
        "WEBSITE_LOCAL_CACHE_SIZEINMB": "300"
    }
}

...
```

## <a name="change-the-size-setting-in-local-cache"></a><span data-ttu-id="d412a-151">Изменение размера локального кэша</span><span class="sxs-lookup"><span data-stu-id="d412a-151">Change the size setting in Local Cache</span></span>
<span data-ttu-id="d412a-152">По умолчанию размер локального кэша равен **300 МБ**.</span><span class="sxs-lookup"><span data-stu-id="d412a-152">By default, the local cache size is **300 MB**.</span></span> <span data-ttu-id="d412a-153">Он включает папки /site и /siteextensions, которые копируются из хранилища содержимого, а также любые другие локально созданные журналы и папки данных.</span><span class="sxs-lookup"><span data-stu-id="d412a-153">This includes the /site and /siteextensions folders that are copied from the content store, as well as any locally created logs and data folders.</span></span> <span data-ttu-id="d412a-154">Чтобы увеличить это ограничение, используйте параметр приложения `WEBSITE_LOCAL_CACHE_SIZEINMB`.</span><span class="sxs-lookup"><span data-stu-id="d412a-154">To increase this limit, use the app setting `WEBSITE_LOCAL_CACHE_SIZEINMB`.</span></span> <span data-ttu-id="d412a-155">Размер кэша для каждого веб-приложения можно увеличить до **2 ГБ** (2000 МБ).</span><span class="sxs-lookup"><span data-stu-id="d412a-155">You can increase the size up to **2 GB** (2000 MB) per web app.</span></span>

## <a name="best-practices-for-using-app-service-local-cache"></a><span data-ttu-id="d412a-156">Рекомендации по использованию локального кэша службы приложений</span><span class="sxs-lookup"><span data-stu-id="d412a-156">Best practices for using App Service Local Cache</span></span>
<span data-ttu-id="d412a-157">Мы рекомендуем использовать локальный кэш в сочетании с функцией [промежуточных сред](../app-service-web/web-sites-staged-publishing.md) .</span><span class="sxs-lookup"><span data-stu-id="d412a-157">We recommend that you use Local Cache in conjunction with the [Staging Environments](../app-service-web/web-sites-staged-publishing.md) feature.</span></span>

* <span data-ttu-id="d412a-158">Добавьте *прикрепленный* параметр приложения `WEBSITE_LOCAL_CACHE_OPTION` со значением `Always` в **рабочий** слот.</span><span class="sxs-lookup"><span data-stu-id="d412a-158">Add the *sticky* app setting `WEBSITE_LOCAL_CACHE_OPTION` with the value `Always` to your **Production** slot.</span></span> <span data-ttu-id="d412a-159">Если вы используете параметр `WEBSITE_LOCAL_CACHE_SIZEINMB`, также добавьте его в рабочий слот в качестве прикрепленного параметра.</span><span class="sxs-lookup"><span data-stu-id="d412a-159">If you're using `WEBSITE_LOCAL_CACHE_SIZEINMB`, also add it as a sticky setting to your Production slot.</span></span>
* <span data-ttu-id="d412a-160">Создайте **промежуточный** слот и выполните в нем публикацию.</span><span class="sxs-lookup"><span data-stu-id="d412a-160">Create a **Staging** slot and publish to your Staging slot.</span></span> <span data-ttu-id="d412a-161">Если вы используете локальный кэш для рабочего слота, настройте промежуточный слот так, чтобы он не использовал локальный кэш. Таким образом упрощается жизненный цикл построения, развертывания и тестирования для промежуточного слота.</span><span class="sxs-lookup"><span data-stu-id="d412a-161">You typically don't set the staging slot to use Local Cache to enable a seamless build-deploy-test lifecycle for staging if you get the benefits of Local Cache for the production slot.</span></span>
* <span data-ttu-id="d412a-162">Протестируйте свой веб-сайт относительно промежуточной области.</span><span class="sxs-lookup"><span data-stu-id="d412a-162">Test your site against your Staging slot.</span></span>  
* <span data-ttu-id="d412a-163">По завершении выполните [операцию переключения](../app-service-web/web-sites-staged-publishing.md#Swap) между промежуточным и рабочим слотами.</span><span class="sxs-lookup"><span data-stu-id="d412a-163">When you are ready, issue a [swap operation](../app-service-web/web-sites-staged-publishing.md#Swap) between your Staging and Production slots.</span></span>  
* <span data-ttu-id="d412a-164">Прикрепленные параметры имеют имена и привязаны к слоту.</span><span class="sxs-lookup"><span data-stu-id="d412a-164">Sticky settings include name and sticky to a slot.</span></span> <span data-ttu-id="d412a-165">Поэтому при переключении между промежуточным и рабочим слотами промежуточный слот наследует параметры локального кэша приложения.</span><span class="sxs-lookup"><span data-stu-id="d412a-165">So when the Staging slot gets swapped into Production, it will inherit the Local Cache app settings.</span></span> <span data-ttu-id="d412a-166">Через несколько минут новый рабочий слот будет запущен с локальным кэшем и будет разогрет после переключения.</span><span class="sxs-lookup"><span data-stu-id="d412a-166">The newly swapped Production slot will run against the local cache after a few minutes and will be warmed up as part of slot warmup after swap.</span></span> <span data-ttu-id="d412a-167">После завершения переключения слотов рабочий слот будет работать с локальным кэшем.</span><span class="sxs-lookup"><span data-stu-id="d412a-167">So when the slot swap is complete, your Production slot will be running against the local cache.</span></span>

## <a name="frequently-asked-questions-faq"></a><span data-ttu-id="d412a-168">Часто задаваемые вопросы</span><span class="sxs-lookup"><span data-stu-id="d412a-168">Frequently asked questions (FAQ)</span></span>
### <a name="how-can-i-tell-if-local-cache-applies-to-my-web-app"></a><span data-ttu-id="d412a-169">Как узнать, можно ли использовать локальный кэш с моим веб-приложением?</span><span class="sxs-lookup"><span data-stu-id="d412a-169">How can I tell if Local Cache applies to my web app?</span></span>
<span data-ttu-id="d412a-170">Да, если веб-приложению требуется высокопроизводительное надежное хранилище содержимого, а также если это веб-приложение не сохраняет в хранилище важные данные во время работы, а его общий размер не превышает 2 ГБ.</span><span class="sxs-lookup"><span data-stu-id="d412a-170">If your web app needs a high-performance, reliable content store, does not use the content store to write critical data at runtime, and is less than 2 GB in total size, then the answer is "yes"!</span></span> <span data-ttu-id="d412a-171">Чтобы узнать общий размер папок /site и /siteextensions, используйте расширение сайта "Использование диска веб-приложениями Azure".</span><span class="sxs-lookup"><span data-stu-id="d412a-171">To get the total size of your /site and /siteextensions folders, you can use the site extension "Azure Web Apps Disk Usage".</span></span>  

### <a name="how-can-i-tell-if-my-site-has-switched-to-using-local-cache"></a><span data-ttu-id="d412a-172">Как узнать, переключился ли мой веб-сайт на использование локального кэша?</span><span class="sxs-lookup"><span data-stu-id="d412a-172">How can I tell if my site has switched to using Local Cache?</span></span>
<span data-ttu-id="d412a-173">При использовании функции локального кэша с функцией промежуточных сред операция переключения не завершится, пока не разогреется локальный кэш.</span><span class="sxs-lookup"><span data-stu-id="d412a-173">If you're using the Local Cache feature with Staging Environments, the swap operation will not complete until Local Cache is warmed up.</span></span> <span data-ttu-id="d412a-174">Чтобы определить, работает ли веб-сайт с локальным кэшем, можно проверить переменную среды `WEBSITE_LOCALCACHE_READY`для рабочего процесса.</span><span class="sxs-lookup"><span data-stu-id="d412a-174">To check if your site is running against Local Cache, you can check the worker process environment variable `WEBSITE_LOCALCACHE_READY`.</span></span> <span data-ttu-id="d412a-175">Следуйте инструкциям на странице [переменных среды рабочего процесса](https://github.com/projectkudu/kudu/wiki/Process-Threads-list-and-minidump-gcdump-diagsession#process-environment-variable) , чтобы получить доступ к переменной среды рабочего процесса для нескольких экземпляров.</span><span class="sxs-lookup"><span data-stu-id="d412a-175">Use the instructions on the [worker process environment variable](https://github.com/projectkudu/kudu/wiki/Process-Threads-list-and-minidump-gcdump-diagsession#process-environment-variable) page to access the worker process environment variable on multiple instances.</span></span>  

### <a name="i-just-published-new-changes-but-my-web-app-does-not-seem-to-have-them-why"></a><span data-ttu-id="d412a-176">Новые изменения только что опубликованы, но они еще не отразились в моем веб-приложении.</span><span class="sxs-lookup"><span data-stu-id="d412a-176">I just published new changes, but my web app does not seem to have them.</span></span> <span data-ttu-id="d412a-177">Почему?</span><span class="sxs-lookup"><span data-stu-id="d412a-177">Why?</span></span>
<span data-ttu-id="d412a-178">Если веб-приложение использует локальный кэш, перезапустите сайт, чтобы применить последние изменения.</span><span class="sxs-lookup"><span data-stu-id="d412a-178">If your web app uses Local Cache, then you need to restart your site to get the latest changes.</span></span> <span data-ttu-id="d412a-179">Не хотите публиковать изменения на рабочем сайте?</span><span class="sxs-lookup"><span data-stu-id="d412a-179">Don’t want to publish changes to a production site?</span></span> <span data-ttu-id="d412a-180">См. информацию о вариантах слотов в предыдущем разделе рекомендаций.</span><span class="sxs-lookup"><span data-stu-id="d412a-180">See the slot options in the previous best practices section.</span></span>

### <a name="where-are-my-logs"></a><span data-ttu-id="d412a-181">Где находятся мои журналы?</span><span class="sxs-lookup"><span data-stu-id="d412a-181">Where are my logs?</span></span>
<span data-ttu-id="d412a-182">Если вы используете локальный кэш, журналы и папки данных выглядят немного иначе.</span><span class="sxs-lookup"><span data-stu-id="d412a-182">With Local Cache, your logs and data folders do look a little different.</span></span> <span data-ttu-id="d412a-183">Однако структура вложенных папок остается прежней, за исключением того, что они размещаются во вложенной папке с именем в формате "уникальный идентификатор виртуальной машины + метка времени".</span><span class="sxs-lookup"><span data-stu-id="d412a-183">However, the structure of your subfolders remains the same, except that the subfolders are nestled under a subfolder with the format "unique VM identifier" + time stamp.</span></span>

### <a name="i-have-local-cache-enabled-but-my-web-app-still-gets-restarted-why-is-that-i-thought-local-cache-helped-with-frequent-app-restarts"></a><span data-ttu-id="d412a-184">Локальный кэш включен, но мое веб-приложение все равно перезапускается.</span><span class="sxs-lookup"><span data-stu-id="d412a-184">I have Local Cache enabled, but my web app still gets restarted.</span></span> <span data-ttu-id="d412a-185">Почему?</span><span class="sxs-lookup"><span data-stu-id="d412a-185">Why is that?</span></span> <span data-ttu-id="d412a-186">Я подумал, что локальный кэш поможет снизить частоту перезапуска приложения.</span><span class="sxs-lookup"><span data-stu-id="d412a-186">I thought Local Cache helped with frequent app restarts.</span></span>
<span data-ttu-id="d412a-187">Локальный кэш помогает предотвратить перезапуск веб-приложений, которые используют хранилище.</span><span class="sxs-lookup"><span data-stu-id="d412a-187">Local Cache does help prevent storage-related web app restarts.</span></span> <span data-ttu-id="d412a-188">Но ваше веб-приложение все равно может быть перезапущено во время планируемых обновлений инфраструктуры виртуальной машины.</span><span class="sxs-lookup"><span data-stu-id="d412a-188">However, your web app could still undergo restarts during planned infrastructure upgrades of the VM.</span></span> <span data-ttu-id="d412a-189">В целом при использовании локального кэша приложение перезапускается реже.</span><span class="sxs-lookup"><span data-stu-id="d412a-189">The overall app restarts that you experience with Local Cache enabled should be fewer.</span></span>

### <a name="does-local-cache-exclude-any-directories-from-being-copied-to-the-faster-local-drive"></a><span data-ttu-id="d412a-190">Исключается ли при использовании локального кэша копирование каких-либо каталогов на более быстрый локальный диск?</span><span class="sxs-lookup"><span data-stu-id="d412a-190">Does Local Cache exclude any directories from being copied to the faster local drive?</span></span>
<span data-ttu-id="d412a-191">В рамках операции копирования содержимого хранилища будут исключены любые папки с именем repository.</span><span class="sxs-lookup"><span data-stu-id="d412a-191">As part of the step that copies the storage content any folder that is named repository will be excluded.</span></span> <span data-ttu-id="d412a-192">Это помогает в ситуациях, когда содержимое узла может содержать репозиторий системы управления версиями, который может быть не нужен для ежедневных операций веб-приложения.</span><span class="sxs-lookup"><span data-stu-id="d412a-192">This helps with scenarios where your site content may contain a source control repository that may not be needed in day to day operation of the web app.</span></span> 
