---
title: "Создание веб-приложения в среде служб приложений версии 1"
description: "Узнайте, как создавать веб-приложения и планы службы приложений в среде службы приложений версии 1."
services: app-service
documentationcenter: 
author: ccompy
manager: stefsch
editor: 
ms.assetid: 983ba055-e9e4-495a-9342-fd3708dcc9ac
ms.service: app-service
ms.workload: web
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 7/11/2017
ms.author: ccompy
ms.openlocfilehash: b031807073313e9e093dbc7576ecfd3d2a970abe
ms.sourcegitcommit: 6699c77dcbd5f8a1a2f21fba3d0a0005ac9ed6b7
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/11/2017
---
# <a name="create-a-web-app-in-an-app-service-environment-v1"></a>Создание веб-приложения в среде служб приложений версии 1

> [!NOTE]
> Эта статья посвящена среде службы приложений версии 1.  Имеется более новая версия среды службы приложений, которая проще в использовании и которая работает на более мощной инфраструктуре. Чтобы узнать больше о новой версии, начните с изучения статьи [Введение в среду службы приложения](intro.md).
> 

## <a name="overview"></a>Обзор
В этом руководстве показано, как создавать веб-приложения и планы обслуживания службы приложений в [среде службы приложений версии 1](app-service-app-service-environment-intro.md) (ASE). 

> [!NOTE]
> Если вы хотите научиться создавать веб-приложения, но не хотите делать это в среде службы приложений, ознакомьтесь со статьей [Создание веб-приложения .NET](../app-service-web-get-started-dotnet.md) или одним из связанных учебников, описывающих другие языки и платформы.
> 
> 

## <a name="prerequisites"></a>Предварительные требования
Для прохождения этого учебного курса необходимо, чтобы вы создали среду службы приложений. Если вы еще не сделали это, ознакомьтесь со статьей [Создание среды службы приложений](app-service-web-how-to-create-an-app-service-environment.md). 

## <a name="create-a-web-app"></a>Создание веб-приложения
1. На [портале Azure](https://portal.azure.com/) щелкните **Создать > Интернет + мобильные устройства > Веб-приложение**. 
   
    ![][1]
2. Выберите свою подписку.  
   
    Если у вас есть несколько подписок, имейте в виду, что для создания приложения в среде ASE необходимо использовать ту же подписку, которая использовалась при создании самой среды. 
3. Выберите или создайте группу ресурсов.
   
    *Группы ресурсов* позволяют управлять ресурсами Azure как единым целым. Кроме того, они могут быть полезны при настройке правил *контроля доступа на основе ролей* (RBAC) для приложений. Дополнительные сведения см. в [обзоре Azure Resource Manager][ResourceGroups]. 
4. Выбор или создание плана службы приложений
   
    *Планы службы приложений* — это управляемые наборы веб-приложений.  Обычно когда вы выбираете ценовую категорию, плата взимается за использование плана службы приложений, а не отдельных приложений. При работе с ASE вы платите за вычислительные операции, выделяемые для ASE, а не за элементы, перечисленные в плане службы приложений.  Чтобы увеличить количество экземпляров веб-приложения, вам следует масштабировать экземпляры вашего плана ASP, что повлияет на все веб-приложения в этом плане.  Некоторые функции, например слоты сайтов или интеграция VNET, также обладают ограничениями в пределах плана.  Дополнительные сведения см. в статье [Обзор планов службы приложений Azure](../azure-web-sites-web-hosting-plans-in-depth-overview.md).
   
    Планы ASP в среде ASE можно определить, просмотрев расположение, указанное под именем соответствующего плана.  
   
    ![][5]
   
    Если вы хотите использовать план ASP, который уже существует в среде ASE, выберите этот план. Если вы хотите создать новый план службы приложений, ознакомьтесь с разделом [Создание плана службы приложений в среде службы приложений](#createplan) этого учебника.
5. Присвойте веб-приложению имя и нажмите кнопку **Создать**. 
   
    Если ваша среда ASE использует внешний виртуальный IP-адрес, то URL-адресом приложения в ASE является [*имя_сайта*].[*имя_среды_службы_приложений*].p.azurewebsites.net, а не [*имя_сайта*].azurewebsites.net.
   
    Если среда ASE использует внутренний виртуальный IP-адрес, то URL-адресом приложения в этой ASE будет [*имя_сайта*].[*поддомен_указанный_при_создании_ASE*].   
    После выбора плана службы приложений во время создания ASE вы увидите, что поддомен под элементом **Имя** изменился.

## <a name="createplan"></a> Создание плана службы приложений
При создании в среде ASE плана ASP выбранные рабочие роли будут отличаться, так как в среде ASE нет общих рабочих ролей.  Необходимо использовать те рабочие роли, которые выделены среде ASE администратором.  Иными словами, чтобы создать новый план ASP, вам нужно выделить рабочему пулу среды ASE такое количество рабочих ролей, которое будет превышать общее количество экземпляров во всех ваших планах ASP, содержащихся в этом рабочем пуле.  Если в рабочем пуле среды ASE недостаточно рабочих ролей для создания плана ASP, обратитесь к администратору среды ASE, чтобы их добавить.

Еще одно отличие от планов ASP, размещаемых в среде ASE, заключается в отсутствии выбора ценовой категории.  При наличии среды ASE вы оплачиваете вычислительные ресурсы, используемые системой, и не платите дополнительно за использование планов ASP в этой среде.  Обычно при создании плана ASP выбирается план ценообразования, который определяет политику выставления счетов.  Среда службы приложений является по сути закрытым расположением, где можно создавать содержимое.  Вы платите за среду, а не за размещение содержимого.

Ниже показано, как создать план ASP в ходе создания веб-приложения в соответствии с инструкциями, приведенными в предыдущем разделе учебника.

1. Щелкните **Создать** в пользовательском интерфейсе выбора плана и введите имя для плана, в соответствии с обычной процедурой (не в среде ASE).
2. В средстве выбора расположения выберите среду ASE, которая будет использоваться.
   
    Поскольку среда службы приложений по сути находится в закрытом расположении развертывания, она отображается в области «Расположение». 
   
    ![][2]
   
    После выбора среды ASE с помощью средства выбора расположения пользовательский интерфейс создания плана ASP будет обновлен.  В расположении теперь будет отображаться имя системы ASE и регион, в котором она находится; средство выбора ценового плана будет заменено средством выбора рабочего пула.  
   
    ![][3]

### <a name="selecting-a-worker-pool"></a>Выбор рабочего пула
Обычно в службе приложений Azure и за пределами среды ASE для выбора выделенного ценового плана доступны 3 размера вычислительных ресурсов.  Аналогичным образом вы можете определить до 3 рабочих пулов с указанием объема вычислений, используемого для каждого рабочего пула, и для среды ASE.  Для клиентов ASE это означает, что вместо ценового плана с объемом вычислений для вашего плана ASP вы будете использовать так называемый *рабочий пул*.  

В пользовательском интерфейсе рабочего пула под именем отображается объем вычислений, используемый для этого пула.  Доступное количество означает, сколько вычислительных операций доступно для использования в данном пуле.  Фактически общий пул может содержать больше операций, чем указано, а данное значение просто указывает на количество неиспользуемых операций.  Дополнительные сведения о настройке среды ASE для добавления дополнительных вычислительных ресурсов см. в статье [Настройка среды службы приложений](app-service-web-configure-an-app-service-environment.md).

![][4]

В этом примере доступны только два рабочих пула. Причина в том, что администратор ASE выделил узлы только этим двум рабочим пулам.  Третий будет отображаться, когда ему будут выделены виртуальные машины.  

## <a name="after-web-app-creation"></a>После создания веб-приложения
При запуске веб-приложений и управлении планами ASP в среде ASЕ необходимо учитывать следующее.  

Как отмечалось ранее, владелец ASE отвечает за определение размера системы и, как следствие, обеспечение достаточной емкости для размещения требуемых планов ASP. При отсутствии доступных рабочих ролей вы не сможете создать план ASP.  Это также касается возможности масштабирования веб-приложения.  Если требуется больше экземпляров, необходимо, чтобы администратор среды службы приложений добавил дополнительных исполнителей.

После создания веб-приложения и плана ASP рекомендуется выполнить масштабирование.  Желательно, чтобы в среде ASE всегда было минимум два экземпляра ASP. Это повысит отказоустойчивость ваших приложений.  Масштабирование плана ASP в среде ASE выполняется как обычно с помощью пользовательского интерфейса ASP.  Дополнительные сведения о масштабировании см. в статье [Масштабирование веб-приложения в среде службы приложений](app-service-web-scale-a-web-app-in-an-app-service-environment.md).

<!--Image references-->
[1]: ./media/app-service-web-how-to-create-a-web-app-in-an-ase/createaspnewwebapp.png
[2]: ./media/app-service-web-how-to-create-a-web-app-in-an-ase/createasplocation.png
[3]: ./media/app-service-web-how-to-create-a-web-app-in-an-ase/createaspselected.png
[4]: ./media/app-service-web-how-to-create-a-web-app-in-an-ase/createaspworkerpool.png
[5]: ./media/app-service-web-how-to-create-a-web-app-in-an-ase/selectaspinase.png

<!--Links-->
[WhatisASE]: app-service-app-service-environment-intro.md
[Appserviceplans]: ../azure-web-sites-web-hosting-plans-in-depth-overview.md
[HowtoCreateASE]: app-service-web-how-to-create-an-app-service-environment.md
[HowtoScale]: app-service-web-scale-a-web-app-in-an-app-service-environment.md
[HowtoConfigureASE]: app-service-web-configure-an-app-service-environment.md
[ResourceGroups]: ../../azure-resource-manager/resource-group-overview.md
[AzurePowershell]: http://azure.microsoft.com/documentation/articles/powershell-install-configure/
