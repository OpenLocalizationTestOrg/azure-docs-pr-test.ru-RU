## <a name="meaning-of-migration-of-iaas-resources-from-hello-classic-deployment-model-tooresource-manager"></a><span data-ttu-id="a6c17-101">Смысл миграции IaaS ресурсов из hello классическое развертывание модели tooResource Manager</span><span class="sxs-lookup"><span data-stu-id="a6c17-101">Meaning of migration of IaaS resources from hello classic deployment model tooResource Manager</span></span>
<span data-ttu-id="a6c17-102">Прежде чем мы углубляться в подробности hello, давайте взглянем на hello различие между операциями информационной панели и плоскости управления ресурсами IaaS hello.</span><span class="sxs-lookup"><span data-stu-id="a6c17-102">Before we drill down into hello details, let's look at hello difference between data-plane and management-plane operations on hello IaaS resources.</span></span>

* <span data-ttu-id="a6c17-103">*Плоскости управления и управление* описывает hello вызовов, приходящие в плоскости управления и управление hello или hello API для изменения ресурсов.</span><span class="sxs-lookup"><span data-stu-id="a6c17-103">*Management/Control plane* describes hello calls that come into hello management/control plane or hello API for modifying resources.</span></span> <span data-ttu-id="a6c17-104">Например операции, такие как создание виртуальной Машины, перезагрузка виртуальной Машины и обновление виртуальной сети с помощью новой подсети управлять hello ресурсов под управлением.</span><span class="sxs-lookup"><span data-stu-id="a6c17-104">For example, operations like creating a VM, restarting a VM, and updating a virtual network with a new subnet manage hello running resources.</span></span> <span data-ttu-id="a6c17-105">Они непосредственно не влияют на подключения toohello экземпляров.</span><span class="sxs-lookup"><span data-stu-id="a6c17-105">They don't directly affect connecting toohello instances.</span></span>
* <span data-ttu-id="a6c17-106">*Информационной панели* (приложение) описывает hello среда выполнения самого приложения hello и включает взаимодействие с экземплярами, которые не проходят hello Azure API.</span><span class="sxs-lookup"><span data-stu-id="a6c17-106">*Data plane* (application) describes hello runtime of hello application itself and involves interaction with instances that don’t go through hello Azure API.</span></span> <span data-ttu-id="a6c17-107">Доступ к веб-сайту или извлечение данных из работающего экземпляра SQL Server или сервера MongoDB будут считаться операциями в плоскости данных или взаимодействием с приложением.</span><span class="sxs-lookup"><span data-stu-id="a6c17-107">Accessing your website or pulling data from a running SQL Server instance or a MongoDB server would be considered data plane or application interaction.</span></span> <span data-ttu-id="a6c17-108">Копирование большого двоичного объекта из учетной записи хранения и доступа к ним открытый IP адрес tooRDP или SSH в виртуальной машине hello также являются информационной панели.</span><span class="sxs-lookup"><span data-stu-id="a6c17-108">Copying a blob from a storage account and accessing a public IP address tooRDP or SSH into hello virtual machine also are data plane.</span></span> <span data-ttu-id="a6c17-109">Эти операции обеспечить приложения hello через вычисления, сети и хранилища.</span><span class="sxs-lookup"><span data-stu-id="a6c17-109">These operations keep hello application running across compute, networking, and storage.</span></span>

<span data-ttu-id="a6c17-110">В фоновом hello hello информационной панели hello же между hello классической модели развертывания и стеке диспетчера ресурсов.</span><span class="sxs-lookup"><span data-stu-id="a6c17-110">Behind hello scenes, hello data plane is hello same between both hello Classic deployment model and Resource Manager stack.</span></span> <span data-ttu-id="a6c17-111">Во время процесса миграции мы перевод hello представление ресурсов hello из toothat hello классического развертывания модели в стеке Resource Manager hello.</span><span class="sxs-lookup"><span data-stu-id="a6c17-111">During migration process, we translate hello representation of hello resources from hello Classic deployment model toothat in hello Resource Manager stack.</span></span> <span data-ttu-id="a6c17-112">В результате потребуется toouse новые средства, API-интерфейсы, пакеты SDK toomanage ресурсы в стеке Resource Manager hello.</span><span class="sxs-lookup"><span data-stu-id="a6c17-112">As a result, you will need toouse new tools, APIs, SDKs toomanage your resources in hello Resource Manager stack.</span></span>

![Снимок экрана, иллюстрирующий различие между плоскостью управления и плоскостью данных.](../articles/virtual-machines/media/virtual-machines-windows-migration-classic-resource-manager/data-control-plane.png)


> [!NOTE]
> <span data-ttu-id="a6c17-114">В некоторых сценариях миграции останавливает hello платформы Azure, освобождает и перезапуска виртуальных машин.</span><span class="sxs-lookup"><span data-stu-id="a6c17-114">In some migration scenarios, hello Azure platform stops, deallocates, and restarts your virtual machines.</span></span> <span data-ttu-id="a6c17-115">Это приводит к кратковременному простою плоскости данных.</span><span class="sxs-lookup"><span data-stu-id="a6c17-115">This incurs a short data-plane downtime.</span></span>
>

## <a name="hello-migration-experience"></a><span data-ttu-id="a6c17-116">возможности миграции Hello</span><span class="sxs-lookup"><span data-stu-id="a6c17-116">hello migration experience</span></span>
<span data-ttu-id="a6c17-117">Перед началом миграции компания hello hello следующие рекомендации:</span><span class="sxs-lookup"><span data-stu-id="a6c17-117">Before you start hello migration experience, hello following is recommended:</span></span>

* <span data-ttu-id="a6c17-118">Убедитесь, что hello ресурсов, что toomigrate не используют все неподдерживаемые функции или конфигурации.</span><span class="sxs-lookup"><span data-stu-id="a6c17-118">Ensure that hello resources that you want toomigrate don't use any unsupported features or configurations.</span></span> <span data-ttu-id="a6c17-119">Обычно платформа hello обнаружит их и создает ошибку.</span><span class="sxs-lookup"><span data-stu-id="a6c17-119">Usually hello platform detects these issues and generates an error.</span></span>
* <span data-ttu-id="a6c17-120">Если имеются виртуальные машины, которые не находятся в виртуальной сети, они будет остановлен и освобожденных в рамках hello подготовки операции.</span><span class="sxs-lookup"><span data-stu-id="a6c17-120">If you have VMs that are not in a virtual network, they will be stopped and deallocated as part of hello prepare operation.</span></span> <span data-ttu-id="a6c17-121">Если вы не хотите toolose hello общедоступный IP-адрес, сведения о резервировании hello IP-адрес перед тем как запускать hello подготовить операции.</span><span class="sxs-lookup"><span data-stu-id="a6c17-121">If you don't want toolose hello public IP address, look into reserving hello IP address before triggering hello prepare operation.</span></span> <span data-ttu-id="a6c17-122">Однако если hello виртуальных машин в виртуальной сети, они не останавливаются и освобождается.</span><span class="sxs-lookup"><span data-stu-id="a6c17-122">However, if hello VMs are in a virtual network, they are not stopped and deallocated.</span></span>
* <span data-ttu-id="a6c17-123">Планирование миграции во время tooaccommodate нерабочего времени для любого непредвиденных сбоев, которые могут происходить во время миграции.</span><span class="sxs-lookup"><span data-stu-id="a6c17-123">Plan your migration during non-business hours tooaccommodate for any unexpected failures that might happen during migration.</span></span>
* <span data-ttu-id="a6c17-124">Загрузите hello текущей конфигурации виртуальных машин с помощью PowerShell, команды командной строки (CLI) или toomake API-интерфейс REST, это облегчает проверку после hello шаг подготовки будет выполнено.</span><span class="sxs-lookup"><span data-stu-id="a6c17-124">Download hello current configuration of your VMs by using PowerShell, command-line interface (CLI) commands, or REST APIs toomake it easier for validation after hello prepare step is complete.</span></span>
* <span data-ttu-id="a6c17-125">Обновите модель развертывания диспетчера ресурсов автоматизации и ввода в эксплуатацию сценарии toohandle hello, перед началом миграции hello.</span><span class="sxs-lookup"><span data-stu-id="a6c17-125">Update your automation/operationalization scripts toohandle hello Resource Manager deployment model before you start hello migration.</span></span> <span data-ttu-id="a6c17-126">При необходимости выполнить операции GET в состояние подготовки hello периоды hello ресурсов.</span><span class="sxs-lookup"><span data-stu-id="a6c17-126">You can optionally do GET operations when hello resources are in hello prepared state.</span></span>
* <span data-ttu-id="a6c17-127">Оцените политики RBAC hello, которые настраиваются для классических ресурсов IaaS hello и планирование после завершения миграции hello.</span><span class="sxs-lookup"><span data-stu-id="a6c17-127">Evaluate hello RBAC policies that are configured on hello classic IaaS resources, and plan for after hello migration is complete.</span></span>

<span data-ttu-id="a6c17-128">Далее представлен рабочий процесс миграции Hello</span><span class="sxs-lookup"><span data-stu-id="a6c17-128">hello migration workflow is as follows</span></span>

![Снимок экрана, показывающий рабочий процесс миграции hello](../articles/virtual-machines/windows/media/migration-classic-resource-manager/migration-workflow.png)

> [!NOTE]
> <span data-ttu-id="a6c17-130">Все операции hello, описанные в следующих разделах hello являются идемпотентными.</span><span class="sxs-lookup"><span data-stu-id="a6c17-130">All hello operations described in hello following sections are idempotent.</span></span> <span data-ttu-id="a6c17-131">Если имеются неполадки, отличные от неподдерживаемое свойство или ошибка конфигурации, рекомендуется повторить попытку hello подготовки, отмены или фиксации операции.</span><span class="sxs-lookup"><span data-stu-id="a6c17-131">If you have a problem other than an unsupported feature or a configuration error, it is recommended that you retry hello prepare, abort, or commit operation.</span></span> <span data-ttu-id="a6c17-132">Hello платформы Azure предпринимает попытку hello.</span><span class="sxs-lookup"><span data-stu-id="a6c17-132">hello Azure platform tries hello action again.</span></span>
>
>

### <a name="validate"></a><span data-ttu-id="a6c17-133">Проверка</span><span class="sxs-lookup"><span data-stu-id="a6c17-133">Validate</span></span>
<span data-ttu-id="a6c17-134">операции проверки Hello hello первого шага в процессе миграции hello.</span><span class="sxs-lookup"><span data-stu-id="a6c17-134">hello validate operation is hello first step in hello migration process.</span></span> <span data-ttu-id="a6c17-135">Цель этого этапа Hello — состояние hello tooanalyze ресурсов hello правильно toomigrate в hello классической модели развертывания и вернуть успешных завершений и сбоев, если hello ресурсы можно использовать для миграции.</span><span class="sxs-lookup"><span data-stu-id="a6c17-135">hello goal of this step is tooanalyze hello state of hello resources you wish toomigrate in hello classic deployment model and return success/failure if hello resources are capable of migration.</span></span>

<span data-ttu-id="a6c17-136">При выборе hello виртуальной сети или облачной службы (не в виртуальной сети) должны toovalidate для переноса.</span><span class="sxs-lookup"><span data-stu-id="a6c17-136">You select hello virtual network or a cloud service (if it’s not in a virtual network) that you want toovalidate for migration.</span></span>

* <span data-ttu-id="a6c17-137">Если hello ресурсов не может выполнять миграцию, hello платформы Azure перечислены причины hello почему он не поддерживается для миграции.</span><span class="sxs-lookup"><span data-stu-id="a6c17-137">If hello resource is not capable of migration, hello Azure platform lists all hello reasons for why it’s not supported for migration.</span></span>

#### <a name="checks-not-done-in-validate"></a><span data-ttu-id="a6c17-138">Проверки, которые не выполняются на этом этапе</span><span class="sxs-lookup"><span data-stu-id="a6c17-138">Checks not done in Validate</span></span>

<span data-ttu-id="a6c17-139">Проверка операции только анализирует hello состояния ресурсов hello в hello классической модели развертывания.</span><span class="sxs-lookup"><span data-stu-id="a6c17-139">Validate operation only analyzes hello state of hello resources in hello classic deployment model.</span></span> <span data-ttu-id="a6c17-140">Его можно проверять все сбои и неподдерживаемые сценарии из-за настроек toovarious hello классической модели развертывания.</span><span class="sxs-lookup"><span data-stu-id="a6c17-140">It can check for all failures and unsupported scenarios due toovarious configurations in hello classic deployment model.</span></span> <span data-ttu-id="a6c17-141">Это не возможные toocheck о всех проблемах, которые hello диспетчера ресурсов Azure, стек может установить hello ресурсов во время миграции.</span><span class="sxs-lookup"><span data-stu-id="a6c17-141">It is not possible toocheck for all issues that hello Azure Resource Manager stack might impose on hello resources during migration.</span></span> <span data-ttu-id="a6c17-142">Эти проблемы проверяются только в том случае, когда ресурсы hello подвергаются преобразования в следующем шаге hello миграции, то есть подготовки.</span><span class="sxs-lookup"><span data-stu-id="a6c17-142">These issues are only checked when hello resources undergo transformation in hello next step of migration, that is, Prepare.</span></span> <span data-ttu-id="a6c17-143">в следующей таблице Hello перечисляет все проблемы hello, не были возвращены проверки.</span><span class="sxs-lookup"><span data-stu-id="a6c17-143">hello table below lists all hello issues not checked in Validate.</span></span>


|<span data-ttu-id="a6c17-144">Проверки сети, не выполняемые на этапе проверки</span><span class="sxs-lookup"><span data-stu-id="a6c17-144">Networking checks not in Validate</span></span>|
|-|
|<span data-ttu-id="a6c17-145">Наличие шлюза ER и VPN-шлюза в виртуальной сети.</span><span class="sxs-lookup"><span data-stu-id="a6c17-145">A Virtual Network having both ER and VPN gateways</span></span>|
|<span data-ttu-id="a6c17-146">Отсутствие подключения к шлюзу виртуальной сети.</span><span class="sxs-lookup"><span data-stu-id="a6c17-146">Virtual Network gateway connection in disconnect state</span></span>|
|<span data-ttu-id="a6c17-147">Все каналы аварийного восстановления, предварительно перенесенных tooAzure диспетчера ресурсов стека</span><span class="sxs-lookup"><span data-stu-id="a6c17-147">All ER circuits are pre-migrated tooAzure Resource Manager stack</span></span>|
|<span data-ttu-id="a6c17-148">Проверка на наличие квот Azure Resource Manager для сетевых ресурсов, таких как статический общедоступный IP-адрес, динамические общедоступные IP-адреса, подсистема балансировки нагрузки, группы безопасности сети, таблицы маршрутов и сетевые интерфейсы.</span><span class="sxs-lookup"><span data-stu-id="a6c17-148">Azure Resource Manager quota checks for Networking resources, that is, Static Public IP, Dynamic Public IPs, Load Balancer, Network Security Groups, Route Tables, Network Interfaces</span></span> |
| <span data-ttu-id="a6c17-149">Проверка на допустимость всех правил подсистемы балансировки нагрузки в среде развертывания или в виртуальной сети.</span><span class="sxs-lookup"><span data-stu-id="a6c17-149">Check that all load balancer rules are valid across deployment/VNET</span></span> |
| <span data-ttu-id="a6c17-150">Проверьте конфликтующие частных IP-адресов между виртуальными машинами на останавливается освобождается в hello же виртуальной сети</span><span class="sxs-lookup"><span data-stu-id="a6c17-150">Check for conflicting private IPs between stop-deallocated VMs in hello same VNET</span></span> |

### <a name="prepare"></a><span data-ttu-id="a6c17-151">Подготовка.</span><span class="sxs-lookup"><span data-stu-id="a6c17-151">Prepare</span></span>
<span data-ttu-id="a6c17-152">Операция подготовки Hello является вторым шагом процесса миграции hello hello.</span><span class="sxs-lookup"><span data-stu-id="a6c17-152">hello prepare operation is hello second step in hello migration process.</span></span> <span data-ttu-id="a6c17-153">Hello цель данного этапа является преобразование hello toosimulate hello IaaS ресурсы из классической модели tooResource диспетчера ресурсов развертывания и присутствия рядом друг с другом для вас toovisualize.</span><span class="sxs-lookup"><span data-stu-id="a6c17-153">hello goal of this step is toosimulate hello transformation of hello IaaS resources from classic deployment model tooResource Manager resources and present this side by side for you toovisualize.</span></span>

> [!NOTE] 
> <span data-ttu-id="a6c17-154">На этом этапе ресурсы из классической модели не будут изменены.</span><span class="sxs-lookup"><span data-stu-id="a6c17-154">Your Classic resources are not modified during this step.</span></span> <span data-ttu-id="a6c17-155">В этом случае toorun безопасном шаг, если вы пытаетесь ожидания миграции.</span><span class="sxs-lookup"><span data-stu-id="a6c17-155">So it's a safe step toorun if you're trying out migration.</span></span> 

<span data-ttu-id="a6c17-156">При выборе hello виртуальной сети или hello облачной службы (он не является виртуальной сети) должны tooprepare для переноса.</span><span class="sxs-lookup"><span data-stu-id="a6c17-156">You select hello virtual network or hello cloud service (if it’s not a virtual network) that you want tooprepare for migration.</span></span>

* <span data-ttu-id="a6c17-157">Если hello ресурсов не может выполнять миграцию, hello платформы Azure останавливает процесс миграции hello и перечислены hello причины, почему hello подготовка не удалось выполнить операцию.</span><span class="sxs-lookup"><span data-stu-id="a6c17-157">If hello resource is not capable of migration, hello Azure platform stops hello migration process and lists hello reason why hello prepare operation failed.</span></span>
* <span data-ttu-id="a6c17-158">Если ресурс hello способен миграции, hello платформы Azure сначала блокирует hello плоскости управления операции для hello ресурсы при миграции.</span><span class="sxs-lookup"><span data-stu-id="a6c17-158">If hello resource is capable of migration, hello Azure platform first locks down hello management-plane operations for hello resources under migration.</span></span> <span data-ttu-id="a6c17-159">Например вы не могли tooadd tooa диска данных виртуальной Машины, подвергнутой миграции.</span><span class="sxs-lookup"><span data-stu-id="a6c17-159">For example, you are not able tooadd a data disk tooa VM under migration.</span></span>

<span data-ttu-id="a6c17-160">Hello платформы Azure затем запускает hello миграцию метаданных из классического развертывания модели tooResource диспетчера для миграции ресурсов hello.</span><span class="sxs-lookup"><span data-stu-id="a6c17-160">hello Azure platform then starts hello migration of metadata from classic deployment model tooResource Manager for hello migrating resources.</span></span>

<span data-ttu-id="a6c17-161">После подготовки hello операция завершена, предусмотрена возможность hello визуализация hello ресурсы в классической модели развертывания и диспетчер ресурсов.</span><span class="sxs-lookup"><span data-stu-id="a6c17-161">After hello prepare operation is complete, you have hello option of visualizing hello resources in both classic deployment model and Resource Manager.</span></span> <span data-ttu-id="a6c17-162">Для каждой облачной службы в hello классической модели развертывания hello платформы Azure создает имя группы ресурсов, имеющий hello шаблон `cloud-service-name>-Migrated`.</span><span class="sxs-lookup"><span data-stu-id="a6c17-162">For every cloud service in hello classic deployment model, hello Azure platform creates a resource group name that has hello pattern `cloud-service-name>-Migrated`.</span></span>

> [!NOTE]
> <span data-ttu-id="a6c17-163">Не возможные tooselect hello имя группы ресурсов, созданных для перенесенных ресурсов (т. е. «-миграция»), но после завершения миграции можно использовать диспетчер ресурсов Azure перемещения функция toomove ресурсы tooany группы ресурсов, необходимо.</span><span class="sxs-lookup"><span data-stu-id="a6c17-163">It is not possible tooselect hello name of Resource Group created for migrated resources (i.e. "-Migrated") but after migration is complete, you can use Azure Resource Manager move feature toomove resources tooany Resource Group you want.</span></span> <span data-ttu-id="a6c17-164">Дополнительные сведения об этом см. в разделе tooread [переместить группу ресурсов toonew ресурсов или подписку](../articles/resource-group-move-resources.md)</span><span class="sxs-lookup"><span data-stu-id="a6c17-164">tooread more about this see [Move resources toonew resource group or subscription](../articles/resource-group-move-resources.md)</span></span>

<span data-ttu-id="a6c17-165">Ниже приведены два экрана, показывать hello результат после удачном операции подготовки.</span><span class="sxs-lookup"><span data-stu-id="a6c17-165">Here are two screens that show hello result after a succesful Prepare operation.</span></span> <span data-ttu-id="a6c17-166">На экране показывает группы ресурсов, содержащий hello исходного облачной службы.</span><span class="sxs-lookup"><span data-stu-id="a6c17-166">First screen shows a Resource Group that contains hello original cloud service.</span></span> <span data-ttu-id="a6c17-167">Второй экран показывает новый hello «-перенесены» группы ресурсов, содержащей hello эквивалентные ресурсы диспетчера ресурсов Azure.</span><span class="sxs-lookup"><span data-stu-id="a6c17-167">Second screen shows hello new "-Migrated" resource group that contains hello equivalent Azure Resource Manager resources.</span></span>

![Снимок экрана классический облачной службы на портале](../articles/virtual-machines/windows/media/migration-classic-resource-manager/portal-classic.png)

![Снимок экрана подготовки ресурсов Azure Resource Manager на портале.](../articles/virtual-machines/windows/media/migration-classic-resource-manager/portal-arm.png)

<span data-ttu-id="a6c17-170">Здесь рассматривается фоновыми ресурсов после завершения фазы подготовки hello.</span><span class="sxs-lookup"><span data-stu-id="a6c17-170">Here is a behind-the-scenes look at your resources after hello completion of Prepare phase.</span></span> <span data-ttu-id="a6c17-171">Обратите внимание, что ресурс hello hello информационной панели hello же.</span><span class="sxs-lookup"><span data-stu-id="a6c17-171">Note that hello resource is hello data plane is hello same.</span></span> <span data-ttu-id="a6c17-172">Он представлен в плоскости управления hello (классической модели развертывания) и плоскости управления hello (диспетчера ресурсов).</span><span class="sxs-lookup"><span data-stu-id="a6c17-172">It's represented in both hello management plane (classic deployment model) and hello control plane (Resource Manager).</span></span>

![Фоновом hello на этапе подготовки](../articles/virtual-machines/windows/media/migration-classic-resource-manager/behind-the-scenes-prepare.png)

> [!NOTE]
> <span data-ttu-id="a6c17-174">Виртуальные машины, не входящие в классическую виртуальную сеть, на этом этапе переноса останавливаются и освобождаются.</span><span class="sxs-lookup"><span data-stu-id="a6c17-174">Virtual Machines that are not in a classic Virtual Network are stopped-deallocated in this phase of migration.</span></span>
>

### <a name="check-manual-or-scripted"></a><span data-ttu-id="a6c17-175">Проверка (вручную или с помощью сценария)</span><span class="sxs-lookup"><span data-stu-id="a6c17-175">Check (manual or scripted)</span></span>
<span data-ttu-id="a6c17-176">На этапе проверки hello при необходимости можно использовать конфигурации hello, загруженный ранее toovalidate, что hello миграции указано правильно.</span><span class="sxs-lookup"><span data-stu-id="a6c17-176">In hello check step, you can optionally use hello configuration that you downloaded earlier toovalidate that hello migration looks correct.</span></span> <span data-ttu-id="a6c17-177">Кроме того вы можете войти в toohello портала и проверьте место hello свойств и ресурсов toovalidate выглядит неплохо, миграция метаданных.</span><span class="sxs-lookup"><span data-stu-id="a6c17-177">Alternatively, you can sign in toohello portal and spot check hello properties and resources toovalidate that metadata migration looks good.</span></span>

<span data-ttu-id="a6c17-178">В случае переноса виртуальной сети большинство конфигураций виртуальных машин не будут перезапущены.</span><span class="sxs-lookup"><span data-stu-id="a6c17-178">If you are migrating a virtual network, most configuration of virtual machines is not restarted.</span></span> <span data-ttu-id="a6c17-179">Для приложений на этих виртуальных машин можно проверить, приложение hello находится по-прежнему запущен и работает.</span><span class="sxs-lookup"><span data-stu-id="a6c17-179">For applications on those VMs, you can validate that hello application is still up and running.</span></span>

<span data-ttu-id="a6c17-180">Если hello виртуальные машины работают должным образом, и если правильно работают обновленные скрипты можно тестирования мониторинга автоматизации и toosee рабочих скриптов.</span><span class="sxs-lookup"><span data-stu-id="a6c17-180">You can test your monitoring/automation and operational scripts toosee if hello VMs are working as expected and if your updated scripts work correctly.</span></span> <span data-ttu-id="a6c17-181">При hello ресурсы находятся в состояние подготовки hello поддерживаются только операции GET.</span><span class="sxs-lookup"><span data-stu-id="a6c17-181">Only GET operations are supported when hello resources are in hello prepared state.</span></span>

<span data-ttu-id="a6c17-182">Нет не задать период времени, перед которым требуется миграция toocommit hello.</span><span class="sxs-lookup"><span data-stu-id="a6c17-182">There is no set time window before which you need toocommit hello migration.</span></span> <span data-ttu-id="a6c17-183">В этом состоянии время не ограничено.</span><span class="sxs-lookup"><span data-stu-id="a6c17-183">You can take as much time as you want in this state.</span></span> <span data-ttu-id="a6c17-184">Однако плоскости управления hello заблокирован для этих ресурсов только в случае прерывания или фиксации.</span><span class="sxs-lookup"><span data-stu-id="a6c17-184">However, hello management plane is locked for these resources until you either abort or commit.</span></span>

<span data-ttu-id="a6c17-185">При появлении проблем, всегда прерывание миграции hello и вернитесь к предыдущему окну toohello классической модели развертывания.</span><span class="sxs-lookup"><span data-stu-id="a6c17-185">If you see any issues, you can always abort hello migration and go back toohello classic deployment model.</span></span> <span data-ttu-id="a6c17-186">После перехода назад hello платформы Azure будет открыть операции hello плоскости управления ресурсами hello, можно возобновить нормальную работу на этих виртуальных машин в hello классической модели развертывания.</span><span class="sxs-lookup"><span data-stu-id="a6c17-186">After you go back, hello Azure platform will open hello management-plane operations on hello resources so that you can resume normal operations on those VMs in hello classic deployment model.</span></span>

### <a name="abort"></a><span data-ttu-id="a6c17-187">Прерывание</span><span class="sxs-lookup"><span data-stu-id="a6c17-187">Abort</span></span>
<span data-ttu-id="a6c17-188">Прерывание — это необязательный шаг, можно использовать toorevert вашей изменения toohello классической модели развертывания и остановить миграцию hello.</span><span class="sxs-lookup"><span data-stu-id="a6c17-188">Abort is an optional step that you can use toorevert your changes toohello classic deployment model and stop hello migration.</span></span> <span data-ttu-id="a6c17-189">Эта операция удаляет hello метаданных диспетчера ресурсов для ресурсов, созданного в предыдущем шаге hello.</span><span class="sxs-lookup"><span data-stu-id="a6c17-189">This operation deletes hello Resource Manager metadata for your resources that was created in hello previous Prepare step.</span></span> 

![Фоновом hello на этапе прерывания процесса](../articles/virtual-machines/windows/media/migration-classic-resource-manager/behind-the-scenes-abort.png)


> [!NOTE]
> <span data-ttu-id="a6c17-191">Эта операция не может выполняться после запуска операции фиксации hello.</span><span class="sxs-lookup"><span data-stu-id="a6c17-191">This operation cannot be executed after you have triggered hello commit operation.</span></span>     
>

### <a name="commit"></a><span data-ttu-id="a6c17-192">Фиксация</span><span class="sxs-lookup"><span data-stu-id="a6c17-192">Commit</span></span>
<span data-ttu-id="a6c17-193">После завершения проверки hello можно зафиксировать hello миграции.</span><span class="sxs-lookup"><span data-stu-id="a6c17-193">After you finish hello validation, you can commit hello migration.</span></span> <span data-ttu-id="a6c17-194">Ресурсы больше не отображаются в классической модели развертывания и доступны только в модели развертывания диспетчера ресурсов hello.</span><span class="sxs-lookup"><span data-stu-id="a6c17-194">Resources do not appear anymore in classic deployment model and are available only in hello Resource Manager deployment model.</span></span> <span data-ttu-id="a6c17-195">Hello перенесенных ресурсов можно управлять только на новом портале hello.</span><span class="sxs-lookup"><span data-stu-id="a6c17-195">hello migrated resources can be managed only in hello new portal.</span></span>

> [!NOTE]
> <span data-ttu-id="a6c17-196">Эта идемпотентная операция.</span><span class="sxs-lookup"><span data-stu-id="a6c17-196">This is an idempotent operation.</span></span> <span data-ttu-id="a6c17-197">В случае неудачи рекомендуется повторить попытку операции hello.</span><span class="sxs-lookup"><span data-stu-id="a6c17-197">If it fails, it is recommended that you retry hello operation.</span></span> <span data-ttu-id="a6c17-198">При продолжении toofail, создайте запрос в службу поддержки или создать форум post с тегом ClassicIaaSMigration на нашем [ВМ форум](https://social.msdn.microsoft.com/Forums/azure/home?forum=WAVirtualMachinesforWindows).</span><span class="sxs-lookup"><span data-stu-id="a6c17-198">If it continues toofail, create a support ticket or create a forum post with a ClassicIaaSMigration tag on our [VM forum](https://social.msdn.microsoft.com/Forums/azure/home?forum=WAVirtualMachinesforWindows).</span></span>
>
>

![Фаза фиксации фоновом hello](../articles/virtual-machines/windows/media/migration-classic-resource-manager/behind-the-scenes-commit.png)

## <a name="where-toobegin-migration"></a><span data-ttu-id="a6c17-200">Где toobegin миграции?</span><span class="sxs-lookup"><span data-stu-id="a6c17-200">Where toobegin migration?</span></span>

<span data-ttu-id="a6c17-201">Ниже приведен блок-схема показывает, каким образом tooproceed с миграцией</span><span class="sxs-lookup"><span data-stu-id="a6c17-201">Here is a flowchart that shows how tooproceed with migration</span></span>

![Снимок экрана, показывающий шагов миграции hello](../articles/virtual-machines/windows/media/migration-classic-resource-manager/migration-flow.png)

## <a name="translation-of-classic-deployment-model-tooazure-resource-manager-resources"></a><span data-ttu-id="a6c17-203">Перевод ресурсов диспетчера ресурсов tooAzure модели классическом развертывании</span><span class="sxs-lookup"><span data-stu-id="a6c17-203">Translation of classic deployment model tooAzure Resource Manager resources</span></span>
<span data-ttu-id="a6c17-204">В следующей таблице hello можно найти hello классической модели развертывания и представления ресурсов hello диспетчера ресурсов.</span><span class="sxs-lookup"><span data-stu-id="a6c17-204">You can find hello classic deployment model and Resource Manager representations of hello resources in hello following table.</span></span> <span data-ttu-id="a6c17-205">Остальные функции и ресурсы в настоящий момент не поддерживаются.</span><span class="sxs-lookup"><span data-stu-id="a6c17-205">Other features and resources are not currently supported.</span></span>

| <span data-ttu-id="a6c17-206">Представление классической модели</span><span class="sxs-lookup"><span data-stu-id="a6c17-206">Classic representation</span></span> | <span data-ttu-id="a6c17-207">Представление Resource Manager</span><span class="sxs-lookup"><span data-stu-id="a6c17-207">Resource Manager representation</span></span> | <span data-ttu-id="a6c17-208">Подробные примечания</span><span class="sxs-lookup"><span data-stu-id="a6c17-208">Detailed notes</span></span> |
| --- | --- | --- |
| <span data-ttu-id="a6c17-209">Имя облачной службы</span><span class="sxs-lookup"><span data-stu-id="a6c17-209">Cloud service name</span></span> |<span data-ttu-id="a6c17-210">DNS-имя</span><span class="sxs-lookup"><span data-stu-id="a6c17-210">DNS name</span></span> |<span data-ttu-id="a6c17-211">Во время миграции, новая группа ресурсов создается для каждой облачной службы с шаблону именования hello `<cloudservicename>-migrated`.</span><span class="sxs-lookup"><span data-stu-id="a6c17-211">During migration, a new resource group is created for every cloud service with hello naming pattern `<cloudservicename>-migrated`.</span></span> <span data-ttu-id="a6c17-212">Эта группа ресурсов содержит все ваши ресурсы.</span><span class="sxs-lookup"><span data-stu-id="a6c17-212">This resource group contains all your resources.</span></span> <span data-ttu-id="a6c17-213">Имя облачной службы Hello становится DNS-имени, связанный с hello общедоступный IP-адрес.</span><span class="sxs-lookup"><span data-stu-id="a6c17-213">hello cloud service name becomes a DNS name that is associated with hello public IP address.</span></span> |
| <span data-ttu-id="a6c17-214">Виртуальная машина.</span><span class="sxs-lookup"><span data-stu-id="a6c17-214">Virtual machine</span></span> |<span data-ttu-id="a6c17-215">Виртуальная машина.</span><span class="sxs-lookup"><span data-stu-id="a6c17-215">Virtual machine</span></span> |<span data-ttu-id="a6c17-216">Свойства, относящиеся к виртуальной машине, переносятся без изменений.</span><span class="sxs-lookup"><span data-stu-id="a6c17-216">VM-specific properties are migrated unchanged.</span></span> <span data-ttu-id="a6c17-217">Некоторые osProfile данные, такие как имя компьютера, не хранятся в hello классической модели развертывания и остается пустым, после миграции.</span><span class="sxs-lookup"><span data-stu-id="a6c17-217">Certain osProfile information, like computer name, is not stored in hello classic deployment model and remains empty after migration.</span></span> |
| <span data-ttu-id="a6c17-218">Дисковые ресурсы присоединенного tooVM</span><span class="sxs-lookup"><span data-stu-id="a6c17-218">Disk resources attached tooVM</span></span> |<span data-ttu-id="a6c17-219">TooVM неявное подключенных дисков</span><span class="sxs-lookup"><span data-stu-id="a6c17-219">Implicit disks attached tooVM</span></span> |<span data-ttu-id="a6c17-220">Диски не моделируются в виде ресурсов верхнего уровня в модели развертывания диспетчера ресурсов hello.</span><span class="sxs-lookup"><span data-stu-id="a6c17-220">Disks are not modeled as top-level resources in hello Resource Manager deployment model.</span></span> <span data-ttu-id="a6c17-221">Они переносятся как неявные диски под hello виртуальной Машины.</span><span class="sxs-lookup"><span data-stu-id="a6c17-221">They are migrated as implicit disks under hello VM.</span></span> <span data-ttu-id="a6c17-222">Только для дисков, которые будут присоединены tooa ВМ в настоящее время поддерживаются.</span><span class="sxs-lookup"><span data-stu-id="a6c17-222">Only disks that are attached tooa VM are currently supported.</span></span> <span data-ttu-id="a6c17-223">Виртуальные машины диспетчера ресурсов теперь можно использовать классические учетные записи хранения, который позволяет легко перенести toobe hello диски без обновлений.</span><span class="sxs-lookup"><span data-stu-id="a6c17-223">Resource Manager VMs can now use classic storage accounts, which allows hello disks toobe easily migrated without any updates.</span></span> |
| <span data-ttu-id="a6c17-224">Расширения виртуальных машин</span><span class="sxs-lookup"><span data-stu-id="a6c17-224">VM extensions</span></span> |<span data-ttu-id="a6c17-225">Расширения виртуальных машин</span><span class="sxs-lookup"><span data-stu-id="a6c17-225">VM extensions</span></span> |<span data-ttu-id="a6c17-226">Все расширения ресурсов hello, за исключением расширения XML переносятся из hello классической модели развертывания.</span><span class="sxs-lookup"><span data-stu-id="a6c17-226">All hello resource extensions, except XML extensions, are migrated from hello classic deployment model.</span></span> |
| <span data-ttu-id="a6c17-227">Сертификаты виртуальных машин</span><span class="sxs-lookup"><span data-stu-id="a6c17-227">Virtual machine certificates</span></span> |<span data-ttu-id="a6c17-228">Сертификаты в хранилище ключей Azure</span><span class="sxs-lookup"><span data-stu-id="a6c17-228">Certificates in Azure Key Vault</span></span> |<span data-ttu-id="a6c17-229">Если облачная служба содержит сертификаты службы, в новое хранилище Azure ключа каждой облачной службы и перемещает hello сертификаты в хранилище ключей hello.</span><span class="sxs-lookup"><span data-stu-id="a6c17-229">If a cloud service contains service certificates, a new Azure key vault per cloud service and moves hello certificates into hello key vault.</span></span> <span data-ttu-id="a6c17-230">виртуальные машины Hello — обновленных tooreference hello сертификаты из хранилища ключей hello.</span><span class="sxs-lookup"><span data-stu-id="a6c17-230">hello VMs are updated tooreference hello certificates from hello key vault.</span></span> <br><br> <span data-ttu-id="a6c17-231">**Примечание:** не удаляйте hello keyvault как это может привести к toogo hello виртуальную Машину в неисправном состоянии.</span><span class="sxs-lookup"><span data-stu-id="a6c17-231">**NOTE:** Please do not delete hello keyvault as it can cause hello VM toogo into a failed state.</span></span> <span data-ttu-id="a6c17-232">Мы работаем над повышение действия в серверном hello, хранилищами ключей можно удалены или перемещены вместе с hello ВМ tooa новую подписку.</span><span class="sxs-lookup"><span data-stu-id="a6c17-232">We're working on improving things in hello backend so that Key Vaults can be deleted safely or moved along with hello VM tooa new subscription.</span></span> |
| <span data-ttu-id="a6c17-233">Конфигурация WinRM</span><span class="sxs-lookup"><span data-stu-id="a6c17-233">WinRM configuration</span></span> |<span data-ttu-id="a6c17-234">Конфигурация WinRM в osProfile</span><span class="sxs-lookup"><span data-stu-id="a6c17-234">WinRM configuration under osProfile</span></span> |<span data-ttu-id="a6c17-235">Перемещенные конфигурация удаленного управления Windows без изменений в ходе миграции hello.</span><span class="sxs-lookup"><span data-stu-id="a6c17-235">Windows Remote Management configuration is moved unchanged, as part of hello migration.</span></span> |
| <span data-ttu-id="a6c17-236">Свойство группы доступности</span><span class="sxs-lookup"><span data-stu-id="a6c17-236">Availability-set property</span></span> |<span data-ttu-id="a6c17-237">Ресурс группы доступности</span><span class="sxs-lookup"><span data-stu-id="a6c17-237">Availability-set resource</span></span> | <span data-ttu-id="a6c17-238">Спецификация набора доступности была свойство hello виртуальной Машины в hello классической модели развертывания.</span><span class="sxs-lookup"><span data-stu-id="a6c17-238">Availability-set specification was a property on hello VM in hello classic deployment model.</span></span> <span data-ttu-id="a6c17-239">Наборы доступности стать верхнего уровня ресурсов в ходе миграции hello.</span><span class="sxs-lookup"><span data-stu-id="a6c17-239">Availability sets become a top-level resource as part of hello migration.</span></span> <span data-ttu-id="a6c17-240">Hello следующие конфигурации не поддерживаются: несколько доступности каждой облачной службы, или один или несколько доступности наборами вместе с виртуальных машин, которые не находятся в любой доступности в облачной службе.</span><span class="sxs-lookup"><span data-stu-id="a6c17-240">hello following configurations are not supported: multiple availability sets per cloud service, or one or more availability sets along with VMs that are not in any availability set in a cloud service.</span></span> |
| <span data-ttu-id="a6c17-241">Конфигурация сети в виртуальной машине</span><span class="sxs-lookup"><span data-stu-id="a6c17-241">Network configuration on a VM</span></span> |<span data-ttu-id="a6c17-242">Основной сетевой интерфейс</span><span class="sxs-lookup"><span data-stu-id="a6c17-242">Primary network interface</span></span> |<span data-ttu-id="a6c17-243">Конфигурация сети на виртуальной Машине, представляется как hello первичный сетевой интерфейс ресурсов после миграции.</span><span class="sxs-lookup"><span data-stu-id="a6c17-243">Network configuration on a VM is represented as hello primary network interface resource after migration.</span></span> <span data-ttu-id="a6c17-244">Для виртуальных машин, которые не находятся в виртуальной сети hello внутренний IP-адрес изменяется во время миграции.</span><span class="sxs-lookup"><span data-stu-id="a6c17-244">For VMs that are not in a virtual network, hello internal IP address changes during migration.</span></span> |
| <span data-ttu-id="a6c17-245">Несколько сетевых интерфейсов в виртуальной машине</span><span class="sxs-lookup"><span data-stu-id="a6c17-245">Multiple network interfaces on a VM</span></span> |<span data-ttu-id="a6c17-246">Сетевые интерфейсы</span><span class="sxs-lookup"><span data-stu-id="a6c17-246">Network interfaces</span></span> |<span data-ttu-id="a6c17-247">Если виртуальная машина имеет несколько сетевых интерфейсов, связанных с ним, каждому сетевому интерфейсу становится верхнего уровня ресурсов в ходе миграции hello в модели развертывания диспетчера ресурсов hello наряду со всеми свойствами hello.</span><span class="sxs-lookup"><span data-stu-id="a6c17-247">If a VM has multiple network interfaces associated with it, each network interface becomes a top-level resource as part of hello migration in hello Resource Manager deployment model, along with all hello properties.</span></span> |
| <span data-ttu-id="a6c17-248">Набор конечных точек с балансировкой нагрузки</span><span class="sxs-lookup"><span data-stu-id="a6c17-248">Load-balanced endpoint set</span></span> |<span data-ttu-id="a6c17-249">Подсистема балансировки нагрузки</span><span class="sxs-lookup"><span data-stu-id="a6c17-249">Load balancer</span></span> |<span data-ttu-id="a6c17-250">Hello классической модели развертывания платформа hello назначена неявное Балансировка нагрузки для каждой облачной службы.</span><span class="sxs-lookup"><span data-stu-id="a6c17-250">In hello classic deployment model, hello platform assigned an implicit load balancer for every cloud service.</span></span> <span data-ttu-id="a6c17-251">Во время миграции создается новый ресурс балансировки нагрузки, а набор конечных точек с балансировкой нагрузки hello становится правила балансировки нагрузки.</span><span class="sxs-lookup"><span data-stu-id="a6c17-251">During migration, a new load-balancer resource is created, and hello load-balancing endpoint set becomes load-balancer rules.</span></span> |
| <span data-ttu-id="a6c17-252">Правила преобразования сетевых адресов для входящих подключений</span><span class="sxs-lookup"><span data-stu-id="a6c17-252">Inbound NAT rules</span></span> |<span data-ttu-id="a6c17-253">Правила преобразования сетевых адресов для входящих подключений</span><span class="sxs-lookup"><span data-stu-id="a6c17-253">Inbound NAT rules</span></span> |<span data-ttu-id="a6c17-254">Входные конечные точки, определенные для hello виртуальной Машины, преобразованный tooinbound правила преобразования сетевых адресов в рамках подсистемы балансировки нагрузки hello во время миграции hello.</span><span class="sxs-lookup"><span data-stu-id="a6c17-254">Input endpoints defined on hello VM are converted tooinbound network address translation rules under hello load balancer during hello migration.</span></span> |
| <span data-ttu-id="a6c17-255">Виртуальный IP-адрес</span><span class="sxs-lookup"><span data-stu-id="a6c17-255">VIP address</span></span> |<span data-ttu-id="a6c17-256">Общедоступный IP-адрес с DNS-именем</span><span class="sxs-lookup"><span data-stu-id="a6c17-256">Public IP address with DNS name</span></span> |<span data-ttu-id="a6c17-257">Hello виртуальный IP-адрес становится общедоступный IP-адрес и связан с подсистемой балансировки нагрузки hello.</span><span class="sxs-lookup"><span data-stu-id="a6c17-257">hello virtual IP address becomes a public IP address and is associated with hello load balancer.</span></span> <span data-ttu-id="a6c17-258">Виртуальный IP-адрес можно перенести только в том случае, если назначенный tooit входную конечную точку.</span><span class="sxs-lookup"><span data-stu-id="a6c17-258">A virtual IP can only be migrated if there is an input endpoint assigned tooit.</span></span> |
| <span data-ttu-id="a6c17-259">Виртуальная сеть</span><span class="sxs-lookup"><span data-stu-id="a6c17-259">Virtual network</span></span> |<span data-ttu-id="a6c17-260">Виртуальная сеть</span><span class="sxs-lookup"><span data-stu-id="a6c17-260">Virtual network</span></span> |<span data-ttu-id="a6c17-261">выполняется миграция Hello виртуальной сети, все свойства, toohello модели развертывания диспетчера ресурсов.</span><span class="sxs-lookup"><span data-stu-id="a6c17-261">hello virtual network is migrated, with all its properties, toohello Resource Manager deployment model.</span></span> <span data-ttu-id="a6c17-262">Новая группа ресурсов создается с именем hello `-migrated`.</span><span class="sxs-lookup"><span data-stu-id="a6c17-262">A new resource group is created with hello name `-migrated`.</span></span> |
| <span data-ttu-id="a6c17-263">Зарезервированные IP-адреса</span><span class="sxs-lookup"><span data-stu-id="a6c17-263">Reserved IPs</span></span> |<span data-ttu-id="a6c17-264">Общедоступный IP-адрес с методом статического выделения</span><span class="sxs-lookup"><span data-stu-id="a6c17-264">Public IP address with static allocation method</span></span> |<span data-ttu-id="a6c17-265">Зарезервированные IP-адреса, связанные с подсистемой балансировки нагрузки hello переносятся вместе с миграции hello hello облачной службы или виртуальной машины hello.</span><span class="sxs-lookup"><span data-stu-id="a6c17-265">Reserved IPs associated with hello load balancer are migrated, along with hello migration of hello cloud service or hello virtual machine.</span></span> <span data-ttu-id="a6c17-266">Перенос несвязанных зарезервированных IP-адресов в настоящее время не поддерживается.</span><span class="sxs-lookup"><span data-stu-id="a6c17-266">Unassociated reserved IP migration is not currently supported.</span></span> |
| <span data-ttu-id="a6c17-267">Общедоступный IP-адрес для каждой виртуальной машины</span><span class="sxs-lookup"><span data-stu-id="a6c17-267">Public IP address per VM</span></span> |<span data-ttu-id="a6c17-268">Общедоступный IP-адрес с методом динамического выделения</span><span class="sxs-lookup"><span data-stu-id="a6c17-268">Public IP address with dynamic allocation method</span></span> |<span data-ttu-id="a6c17-269">Здравствуйте, общедоступный IP-адрес, связанный с виртуальной Машины, преобразуется в открытый ресурс IP-адреса, с помощью метода set hello выделения toostatic приветствия.</span><span class="sxs-lookup"><span data-stu-id="a6c17-269">hello public IP address associated with hello VM is converted as a public IP address resource, with hello allocation method set toostatic.</span></span> |
| <span data-ttu-id="a6c17-270">Группы NSG</span><span class="sxs-lookup"><span data-stu-id="a6c17-270">NSGs</span></span> |<span data-ttu-id="a6c17-271">Группы NSG</span><span class="sxs-lookup"><span data-stu-id="a6c17-271">NSGs</span></span> |<span data-ttu-id="a6c17-272">Группы безопасности сети, связанной с подсетью, будут скопированы в рамках модели развертывания диспетчера ресурсов toohello миграции hello.</span><span class="sxs-lookup"><span data-stu-id="a6c17-272">Network security groups associated with a subnet are cloned as part of hello migration toohello Resource Manager deployment model.</span></span> <span data-ttu-id="a6c17-273">во время миграции hello Hello NSG в hello классической модели развертывания не удаляется.</span><span class="sxs-lookup"><span data-stu-id="a6c17-273">hello NSG in hello classic deployment model is not removed during hello migration.</span></span> <span data-ttu-id="a6c17-274">Однако hello плоскости управления операций для hello NSG блокируется во время миграции hello.</span><span class="sxs-lookup"><span data-stu-id="a6c17-274">However, hello management-plane operations for hello NSG are blocked when hello migration is in progress.</span></span> |
| <span data-ttu-id="a6c17-275">"Серверы DNS"</span><span class="sxs-lookup"><span data-stu-id="a6c17-275">DNS servers</span></span> |<span data-ttu-id="a6c17-276">"Серверы DNS"</span><span class="sxs-lookup"><span data-stu-id="a6c17-276">DNS servers</span></span> |<span data-ttu-id="a6c17-277">DNS-серверы, связанные с виртуальной сети или hello виртуальной Машины переносятся в ходе миграции соответствующего ресурса hello, наряду со всеми свойствами hello.</span><span class="sxs-lookup"><span data-stu-id="a6c17-277">DNS servers associated with a virtual network or hello VM are migrated as part of hello corresponding resource migration, along with all hello properties.</span></span> |
| <span data-ttu-id="a6c17-278">Определяемые пользователем маршруты</span><span class="sxs-lookup"><span data-stu-id="a6c17-278">UDRs</span></span> |<span data-ttu-id="a6c17-279">Определяемые пользователем маршруты</span><span class="sxs-lookup"><span data-stu-id="a6c17-279">UDRs</span></span> |<span data-ttu-id="a6c17-280">Определяемых пользователем маршрутов, связанной с подсетью, будут скопированы в рамках модели развертывания диспетчера ресурсов toohello миграции hello.</span><span class="sxs-lookup"><span data-stu-id="a6c17-280">User-defined routes associated with a subnet are cloned as part of hello migration toohello Resource Manager deployment model.</span></span> <span data-ttu-id="a6c17-281">во время миграции hello Hello UDR в hello классической модели развертывания не удаляется.</span><span class="sxs-lookup"><span data-stu-id="a6c17-281">hello UDR in hello classic deployment model is not removed during hello migration.</span></span> <span data-ttu-id="a6c17-282">операции управления плоскости Hello для hello UDR блокируются во время миграции hello.</span><span class="sxs-lookup"><span data-stu-id="a6c17-282">hello management-plane operations for hello UDR are blocked when hello migration is in progress.</span></span> |
| <span data-ttu-id="a6c17-283">Свойство IP-пересылки в конфигурации сети виртуальной машины</span><span class="sxs-lookup"><span data-stu-id="a6c17-283">IP forwarding property on a VM's network configuration</span></span> |<span data-ttu-id="a6c17-284">IP-пересылки свойство hello сетевого Адаптера</span><span class="sxs-lookup"><span data-stu-id="a6c17-284">IP forwarding property on hello NIC</span></span> |<span data-ttu-id="a6c17-285">Hello IP-пересылки на виртуальной Машине задано свойство tooa преобразованное в сетевом интерфейсе hello во время миграции hello.</span><span class="sxs-lookup"><span data-stu-id="a6c17-285">hello IP forwarding property on a VM is converted tooa property on hello network interface during hello migration.</span></span> |
| <span data-ttu-id="a6c17-286">Балансировщик нагрузки с несколькими IP-адресами</span><span class="sxs-lookup"><span data-stu-id="a6c17-286">Load balancer with multiple IPs</span></span> |<span data-ttu-id="a6c17-287">Балансировщик нагрузки с несколькими ресурсами IP-адресов</span><span class="sxs-lookup"><span data-stu-id="a6c17-287">Load balancer with multiple public IP resources</span></span> |<span data-ttu-id="a6c17-288">Каждый общедоступный IP-адрес, связанный с подсистемой балансировки нагрузки hello является преобразованный tooa открытый IP-ресурс и связанные с подсистемой балансировки нагрузки hello после миграции.</span><span class="sxs-lookup"><span data-stu-id="a6c17-288">Every public IP associated with hello load balancer is converted tooa public IP resource and associated with hello load balancer after migration.</span></span> |
| <span data-ttu-id="a6c17-289">Внутренние имена DNS на hello виртуальной Машины</span><span class="sxs-lookup"><span data-stu-id="a6c17-289">Internal DNS names on hello VM</span></span> |<span data-ttu-id="a6c17-290">Внутренние имена DNS на hello сетевого Адаптера</span><span class="sxs-lookup"><span data-stu-id="a6c17-290">Internal DNS names on hello NIC</span></span> |<span data-ttu-id="a6c17-291">Во время миграции hello внутренние DNS-суффиксов для hello виртуальных машин, перенесенных tooa свойство только для чтения с именем «InternalDomainNameSuffix» на hello сетевого адаптера.</span><span class="sxs-lookup"><span data-stu-id="a6c17-291">During migration, hello internal DNS suffixes for hello VMs are migrated tooa read-only property named “InternalDomainNameSuffix” on hello NIC.</span></span> <span data-ttu-id="a6c17-292">суффикс Hello остается неизменным после миграции и разрешение виртуальной Машины следует продолжить toowork как раньше.</span><span class="sxs-lookup"><span data-stu-id="a6c17-292">hello suffix remains unchanged after migration and VM resolution should continue toowork as previously.</span></span> |
| <span data-ttu-id="a6c17-293">Шлюз виртуальной сети</span><span class="sxs-lookup"><span data-stu-id="a6c17-293">Virtual Network Gateway</span></span> |<span data-ttu-id="a6c17-294">Шлюз виртуальной сети</span><span class="sxs-lookup"><span data-stu-id="a6c17-294">Virtual Network Gateway</span></span> |<span data-ttu-id="a6c17-295">Свойства шлюза виртуальной сети переносятся без изменений.</span><span class="sxs-lookup"><span data-stu-id="a6c17-295">Virtual Network Gateway properties are migrated unchanged.</span></span> <span data-ttu-id="a6c17-296">Hello виртуальных IP-адресов, связанной со шлюзом hello либо не изменяется.</span><span class="sxs-lookup"><span data-stu-id="a6c17-296">hello VIP associated with hello gateway does not change either.</span></span> |
| <span data-ttu-id="a6c17-297">Сайт локальной сети</span><span class="sxs-lookup"><span data-stu-id="a6c17-297">Local network site</span></span> |<span data-ttu-id="a6c17-298">Шлюз локальной сети</span><span class="sxs-lookup"><span data-stu-id="a6c17-298">Local Network Gateway</span></span> |<span data-ttu-id="a6c17-299">Свойства сайта локальной сети, новый ресурс перенесенных tooa без изменений, вызывается шлюза локальной сети.</span><span class="sxs-lookup"><span data-stu-id="a6c17-299">Local network site properties are migrated unchanged tooa new resource called Local Network Gateway.</span></span> <span data-ttu-id="a6c17-300">Это касается префиксов локальных адресов и IP-адреса удаленного шлюза.</span><span class="sxs-lookup"><span data-stu-id="a6c17-300">This represent on premises address prefixes and remote gateway IP.</span></span> |
| <span data-ttu-id="a6c17-301">Ссылки на подключения</span><span class="sxs-lookup"><span data-stu-id="a6c17-301">Connections references</span></span> |<span data-ttu-id="a6c17-302">Подключение</span><span class="sxs-lookup"><span data-stu-id="a6c17-302">Connection</span></span> |<span data-ttu-id="a6c17-303">Ссылки на подключения между шлюзом и сайтом локальной сети в конфигурации сети представлены новым ресурсом Connection в Resource Manager после переноса.</span><span class="sxs-lookup"><span data-stu-id="a6c17-303">Connectivity references between gateway and local network site in network configuration is represented by a newly created resource called Connection in resource manager after migration.</span></span> <span data-ttu-id="a6c17-304">Все свойства подключения ссылки в файлах конфигурации сети являются копируются без изменений toohello только что созданный ресурс подключения.</span><span class="sxs-lookup"><span data-stu-id="a6c17-304">All properties of connectivity reference in network configuration files are copied unchanged toohello newly created Connection resource.</span></span> <span data-ttu-id="a6c17-305">Подключение виртуальной сети tooVNet в классическом достигается путем создания двух туннелей IPsec toolocal сетевые сайты, представляющий hello виртуальных сетей.</span><span class="sxs-lookup"><span data-stu-id="a6c17-305">VNet tooVNet connectivity in classic is achieved by creating two IPsec tunnels toolocal network sites representing hello VNets.</span></span> <span data-ttu-id="a6c17-306">Это подключение tooVnet2Vnet преобразованный тип в модели диспетчер ресурсов без необходимости шлюзы локальной сети.</span><span class="sxs-lookup"><span data-stu-id="a6c17-306">This is transformed tooVnet2Vnet connection type in resource manager model without requiring local network gateways.</span></span> |

## <a name="changes-tooyour-automation-and-tooling-after-migration"></a><span data-ttu-id="a6c17-307">Изменения tooyour автоматизации и инструментарий после миграции</span><span class="sxs-lookup"><span data-stu-id="a6c17-307">Changes tooyour automation and tooling after migration</span></span>
<span data-ttu-id="a6c17-308">В процессе миграции ресурсы из hello классической модели развертывания toohello диспетчера ресурсов развертывания модели у вас есть tooupdate в существующую среду автоматизации или tooensure средства, что toowork продолжается после миграции hello.</span><span class="sxs-lookup"><span data-stu-id="a6c17-308">As part of migrating your resources from hello Classic deployment model toohello Resource Manager deployment model, you have tooupdate your existing automation or tooling tooensure that it continues toowork after hello migration.</span></span>
