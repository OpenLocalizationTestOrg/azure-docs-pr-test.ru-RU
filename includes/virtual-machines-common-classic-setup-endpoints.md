
<span data-ttu-id="1f4f3-101">У каждой конечной точки есть *общий* и *частный* порты:</span><span class="sxs-lookup"><span data-stu-id="1f4f3-101">Each endpoint has a *public port* and a *private port*:</span></span>

* <span data-ttu-id="1f4f3-102">открытый порт Hello используется toolisten подсистемы балансировки нагрузки Azure hello для входящего трафика toohello виртуальной машины из Интернета hello.</span><span class="sxs-lookup"><span data-stu-id="1f4f3-102">hello public port is used by hello Azure load balancer toolisten for incoming traffic toohello virtual machine from hello Internet.</span></span>
* <span data-ttu-id="1f4f3-103">частный порт Hello используется toolisten hello виртуальной машины для входящего трафика, обычно назначения tooan приложения или службы, выполняемой на виртуальной машине hello.</span><span class="sxs-lookup"><span data-stu-id="1f4f3-103">hello private port is used by hello virtual machine toolisten for incoming traffic, typically destined tooan application or service running on hello virtual machine.</span></span>

<span data-ttu-id="1f4f3-104">Значения по умолчанию для hello IP-протокол и порты TCP или UDP для хорошо известных сетевых протоколов предоставляются при создании конечных точек с hello портал Azure.</span><span class="sxs-lookup"><span data-stu-id="1f4f3-104">Default values for hello IP protocol and TCP or UDP ports for well-known network protocols are provided when you create endpoints with hello Azure portal.</span></span> <span data-ttu-id="1f4f3-105">Для пользовательских конечных точек вам потребуется toospecify hello правильный IP-протокол (TCP или UDP) и общие и частные порты hello.</span><span class="sxs-lookup"><span data-stu-id="1f4f3-105">For custom endpoints, you'll need toospecify hello correct IP protocol (TCP or UDP) and hello public and private ports.</span></span> <span data-ttu-id="1f4f3-106">входящий трафик toodistribute случайным образом по нескольким виртуальным машинам, вам потребуется toocreate набор балансировки нагрузки, состоящий из нескольких конечных точек.</span><span class="sxs-lookup"><span data-stu-id="1f4f3-106">toodistribute incoming traffic randomly across multiple virtual machines, you'll need toocreate a load-balanced set consisting of multiple endpoints.</span></span>

<span data-ttu-id="1f4f3-107">После создания конечной точки, можно использовать правила управления доступом (ACL) список toodefine, разрешать или запрещать входящий трафик hello toohello общий порт конечной точки hello на основе IP-адреса источника.</span><span class="sxs-lookup"><span data-stu-id="1f4f3-107">After you create an endpoint, you can use an access control list (ACL) toodefine rules that permit or deny hello incoming traffic toohello public port of hello endpoint based on its source IP address.</span></span> <span data-ttu-id="1f4f3-108">Если виртуальная машина hello в виртуальной сети Azure, группы безопасности сети следует использовать вместо этого.</span><span class="sxs-lookup"><span data-stu-id="1f4f3-108">However, if hello virtual machine is in an Azure virtual network, you should use network security groups instead.</span></span> <span data-ttu-id="1f4f3-109">Дополнительные сведения см. в статье [О группах безопасности сети](../articles/virtual-network/virtual-networks-nsg.md).</span><span class="sxs-lookup"><span data-stu-id="1f4f3-109">For details, see [About network security groups](../articles/virtual-network/virtual-networks-nsg.md).</span></span>

> [!NOTE]
> <span data-ttu-id="1f4f3-110">Брандмауэр для виртуальных машин Azure настраивается автоматически для портов, связанных с удаленными конечными точками подключения, которые Azure создает автоматически.</span><span class="sxs-lookup"><span data-stu-id="1f4f3-110">Firewall configuration for Azure virtual machines is done automatically for ports associated with remote connectivity endpoints that Azure sets up automatically.</span></span> <span data-ttu-id="1f4f3-111">Для портов, указанных для всех остальных конечных точек Настройка не выполняется автоматически toohello брандмауэра hello виртуальной машины.</span><span class="sxs-lookup"><span data-stu-id="1f4f3-111">For ports specified for all other endpoints, no configuration is done automatically toohello firewall of hello virtual machine.</span></span> <span data-ttu-id="1f4f3-112">При создании конечной точки для виртуальной машины hello, вам потребуется tooensure, hello брандмауэра hello виртуальной машины также разрешает трафик hello протокола hello и конфигурацию конечной точки toohello соответствующего частный порт.</span><span class="sxs-lookup"><span data-stu-id="1f4f3-112">When you create an endpoint for hello virtual machine, you'll need tooensure that hello firewall of hello virtual machine also allows hello traffic for hello protocol and private port corresponding toohello endpoint configuration.</span></span> <span data-ttu-id="1f4f3-113">tooconfigure hello брандмауэра, см. в документации hello или интерактивной справки для hello операционной системы на виртуальной машине hello.</span><span class="sxs-lookup"><span data-stu-id="1f4f3-113">tooconfigure hello firewall, see hello documentation or on-line help for hello operating system running on hello virtual machine.</span></span>
>
>

## <a name="create-an-endpoint"></a><span data-ttu-id="1f4f3-114">Создание конечной точки</span><span class="sxs-lookup"><span data-stu-id="1f4f3-114">Create an endpoint</span></span>
1. <span data-ttu-id="1f4f3-115">Если это еще не сделано, войдите в toohello [портал Azure](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="1f4f3-115">If you haven't already done so, sign in toohello [Azure portal](https://portal.azure.com).</span></span>
2. <span data-ttu-id="1f4f3-116">Нажмите кнопку **виртуальные машины**, а затем щелкните имя hello hello виртуальной машины, которые должны tooconfigure.</span><span class="sxs-lookup"><span data-stu-id="1f4f3-116">Click **Virtual Machines**, and then click hello name of hello virtual machine that you want tooconfigure.</span></span>
3. <span data-ttu-id="1f4f3-117">Нажмите кнопку **конечные точки** в hello **параметры** группы.</span><span class="sxs-lookup"><span data-stu-id="1f4f3-117">Click **Endpoints** in hello **Settings** group.</span></span> <span data-ttu-id="1f4f3-118">Hello **конечные точки** странице перечислены все hello текущего конечные точки hello виртуальной машины.</span><span class="sxs-lookup"><span data-stu-id="1f4f3-118">hello **Endpoints** page lists all hello current endpoints for hello virtual machine.</span></span> <span data-ttu-id="1f4f3-119">(В этом примере используется виртуальная машина Windows.</span><span class="sxs-lookup"><span data-stu-id="1f4f3-119">(This example is a Windows VM.</span></span> <span data-ttu-id="1f4f3-120">На виртуальных машинах Linux по умолчанию отображается конечная точка для SSH.)</span><span class="sxs-lookup"><span data-stu-id="1f4f3-120">A Linux VM will by default show an endpoint for SSH.)</span></span>

   <!-- ![Endpoints](./media/virtual-machines-common-classic-setup-endpoints/endpointswindows.png) -->
   ![Endpoints](./media/virtual-machines-common-classic-setup-endpoints/endpointsblade.png)

4. <span data-ttu-id="1f4f3-122">В панели команд hello выше hello конечной точки записей, щелкните **добавить**.</span><span class="sxs-lookup"><span data-stu-id="1f4f3-122">In hello command bar above hello endpoint entries, click **Add**.</span></span>
5. <span data-ttu-id="1f4f3-123">На hello **добавить конечную точку** введите имя для конечной точки hello в **имя**.</span><span class="sxs-lookup"><span data-stu-id="1f4f3-123">On hello **Add endpoint** page, type a name for hello endpoint in **Name**.</span></span>
6. <span data-ttu-id="1f4f3-124">В качестве **протокола**, укажите **TCP** или **UDP**.</span><span class="sxs-lookup"><span data-stu-id="1f4f3-124">In **Protocol**, choose either **TCP** or **UDP**.</span></span>
7. <span data-ttu-id="1f4f3-125">В **общий порт**, введите номер порта hello hello входящего трафика из Интернета hello.</span><span class="sxs-lookup"><span data-stu-id="1f4f3-125">In **Public Port**, type hello port number for hello incoming traffic from hello Internet.</span></span> <span data-ttu-id="1f4f3-126">В **частный порт**, введите номер порта hello, на какие hello виртуальная машина прослушивает.</span><span class="sxs-lookup"><span data-stu-id="1f4f3-126">In **Private Port**, type hello port number on which hello virtual machine is listening.</span></span> <span data-ttu-id="1f4f3-127">Эти номера портов могут отличаться.</span><span class="sxs-lookup"><span data-stu-id="1f4f3-127">These port numbers can be different.</span></span> <span data-ttu-id="1f4f3-128">Убедитесь, что hello брандмауэр на виртуальной машине hello было настроенных tooallow hello трафика соответствующий toohello протокол (шаг 6) и частный порт.</span><span class="sxs-lookup"><span data-stu-id="1f4f3-128">Ensure that hello firewall on hello virtual machine has been configured tooallow hello traffic corresponding toohello protocol (in step 6) and private port.</span></span>
10. <span data-ttu-id="1f4f3-129">Нажмите кнопку **ОК**.</span><span class="sxs-lookup"><span data-stu-id="1f4f3-129">Click **Ok**.</span></span>

<span data-ttu-id="1f4f3-130">Новая конечная точка Hello будут перечислены на hello **конечные точки** страницы.</span><span class="sxs-lookup"><span data-stu-id="1f4f3-130">hello new endpoint will be listed on hello **Endpoints** page.</span></span>

![Конечная точка успешно создана](./media/virtual-machines-common-classic-setup-endpoints/endpointcreated.png)

## <a name="manage-hello-acl-on-an-endpoint"></a><span data-ttu-id="1f4f3-132">Управление hello ACL для конечной точки</span><span class="sxs-lookup"><span data-stu-id="1f4f3-132">Manage hello ACL on an endpoint</span></span>
<span data-ttu-id="1f4f3-133">toodefine hello набор компьютеров, которые могут отправлять трафик, hello ACL для конечной точки можно ограничить трафик, основанный на IP-адрес источника.</span><span class="sxs-lookup"><span data-stu-id="1f4f3-133">toodefine hello set of computers that can send traffic, hello ACL on an endpoint can restrict traffic based upon source IP address.</span></span> <span data-ttu-id="1f4f3-134">Выполните эти шаги tooadd, изменять или удалять ACL для конечной точки.</span><span class="sxs-lookup"><span data-stu-id="1f4f3-134">Follow these steps tooadd, modify, or remove an ACL on an endpoint.</span></span>

> [!NOTE]
> <span data-ttu-id="1f4f3-135">Если конечная точка hello входит в набор балансировки нагрузки, можно производить любые изменения toohello ACL для конечной точки, примененных tooall конечных точек в наборе hello.</span><span class="sxs-lookup"><span data-stu-id="1f4f3-135">If hello endpoint is part of a load-balanced set, any changes you make toohello ACL on an endpoint are applied tooall endpoints in hello set.</span></span>
>
>

<span data-ttu-id="1f4f3-136">Если виртуальная машина hello в виртуальной сети Azure, мы рекомендуем Сетевые группы безопасности вместо списков управления доступом.</span><span class="sxs-lookup"><span data-stu-id="1f4f3-136">If hello virtual machine is in an Azure virtual network, we recommend network security groups instead of ACLs.</span></span> <span data-ttu-id="1f4f3-137">Дополнительные сведения см. в статье [О группах безопасности сети](../articles/virtual-network/virtual-networks-nsg.md).</span><span class="sxs-lookup"><span data-stu-id="1f4f3-137">For details, see [About network security groups](../articles/virtual-network/virtual-networks-nsg.md).</span></span>

1. <span data-ttu-id="1f4f3-138">Если это еще не сделано, войдите в портал Azure toohello.</span><span class="sxs-lookup"><span data-stu-id="1f4f3-138">If you haven't already done so, sign in toohello Azure portal.</span></span>
2. <span data-ttu-id="1f4f3-139">Нажмите кнопку **виртуальные машины**, а затем щелкните имя hello hello виртуальной машины, которые должны tooconfigure.</span><span class="sxs-lookup"><span data-stu-id="1f4f3-139">Click **Virtual Machines**, and then click hello name of hello virtual machine that you want tooconfigure.</span></span>
3. <span data-ttu-id="1f4f3-140">Нажмите кнопку **Конечные точки**.</span><span class="sxs-lookup"><span data-stu-id="1f4f3-140">Click **Endpoints**.</span></span> <span data-ttu-id="1f4f3-141">Выберите из списка hello hello соответствующей конечной точке.</span><span class="sxs-lookup"><span data-stu-id="1f4f3-141">From hello list, select hello appropriate endpoint.</span></span> <span data-ttu-id="1f4f3-142">список ACL Hello — hello нижней части страницы приветствия.</span><span class="sxs-lookup"><span data-stu-id="1f4f3-142">hello ACL list is at hello bottom of hello page.</span></span>

   ![Укажите сведения об ACL](./media/virtual-machines-common-classic-setup-endpoints/aclpreentry.png)

4. <span data-ttu-id="1f4f3-144">Строки в список tooadd hello, удалить или изменить правила используются для ACL и изменить их порядок.</span><span class="sxs-lookup"><span data-stu-id="1f4f3-144">Use rows in hello list tooadd, delete, or edit rules for an ACL and change their order.</span></span> <span data-ttu-id="1f4f3-145">Hello **удаленной подсети** значение — диапазон IP-адресов для входящего трафика из hello Интернета, которое hello toopermit использует подсистемы балансировки нагрузки Azure или запрещать hello трафика в зависимости от его IP-адрес источника.</span><span class="sxs-lookup"><span data-stu-id="1f4f3-145">hello **Remote Subnet** value is an IP address range for incoming traffic from hello Internet that hello Azure load balancer uses toopermit or deny hello traffic based on its source IP address.</span></span> <span data-ttu-id="1f4f3-146">Диапазон IP-адресов, что toospecify hello быть в формате CIDR, также известные как формат префикс адреса.</span><span class="sxs-lookup"><span data-stu-id="1f4f3-146">Be sure toospecify hello IP address range in CIDR format, also known as address prefix format.</span></span> <span data-ttu-id="1f4f3-147">Например, `10.1.0.0/8`.</span><span class="sxs-lookup"><span data-stu-id="1f4f3-147">An example is `10.1.0.0/8`.</span></span>

 ![Новая запись ACL](./media/virtual-machines-common-classic-setup-endpoints/newaclentry.png)


<span data-ttu-id="1f4f3-149">Можно использовать правила tooallow трафик только с определенных компьютеров соответствующих компьютеров tooyour hello Интернета или toodeny трафик от конкретных известных адресов.</span><span class="sxs-lookup"><span data-stu-id="1f4f3-149">You can use rules tooallow only traffic from specific computers corresponding tooyour computers on hello Internet or toodeny traffic from specific, known address ranges.</span></span>

<span data-ttu-id="1f4f3-150">правила Hello оцениваются в порядке, начиная с первого правила hello и заканчивая hello последнего правила.</span><span class="sxs-lookup"><span data-stu-id="1f4f3-150">hello rules are evaluated in order starting with hello first rule and ending with hello last rule.</span></span> <span data-ttu-id="1f4f3-151">Это означает, что сортируется, от наименее ограничительного toomost строгие правила.</span><span class="sxs-lookup"><span data-stu-id="1f4f3-151">This means that rules should be ordered from least restrictive toomost restrictive.</span></span> <span data-ttu-id="1f4f3-152">См. дополнительные сведения о [сетевом списке управления доступом](../articles/virtual-network/virtual-networks-acl.md) и примеры его использования.</span><span class="sxs-lookup"><span data-stu-id="1f4f3-152">For examples and more information, see [What is a Network Access Control List](../articles/virtual-network/virtual-networks-acl.md).</span></span>
