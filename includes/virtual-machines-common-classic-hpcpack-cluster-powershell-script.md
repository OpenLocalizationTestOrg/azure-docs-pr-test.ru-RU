



В зависимости от среды и заданных параметров hello скрипт может создать всю инфраструктуру кластера hello, включая hello виртуальной сети Azure, учетных записей хранилища, облачные службы, контроллер домена, удаленным или локальным базам данных SQL, головной узел и дополнительных кластеров узлы. Кроме того hello скрипт можно использовать существующую инфраструктуру Azure и создавать только hello узлы кластера HPC.

Дополнительные сведения о планировании кластере HPC Pack см. в разделе hello [оценка и планирование продукта](https://technet.microsoft.com/library/jj899596.aspx) и [Приступая к работе](https://technet.microsoft.com/library/jj899590.aspx) содержимого в hello библиотека HPC Pack 2012 R2 TechNet.

## <a name="prerequisites"></a>Предварительные требования
* **Подписка Azure**: подписки можно использовать в любом hello Azure Global или Azure China. Предельно возможными для подписки влияет на количество hello и тип узлов кластера, которые можно развернуть. Дополнительные сведения см. в статье [Подписка Azure, границы, квоты и ограничения службы](../articles/azure-subscription-service-limits.md).
* **Клиентский компьютер Windows с помощью Azure PowerShell 0.8.10 или более поздней версии установлен и настроен**: в разделе [Приступая к работе с Azure PowerShell](/powershell/azureps-cmdlets-docs) для установки инструкции и действия tooconnect tooyour подписки Azure.
* **Скрипт развертывания IaaS пакета HPC**: Загрузите и распакуйте hello последнюю версию скрипта hello из hello [центра загрузки Майкрософт](https://www.microsoft.com/download/details.aspx?id=44949). Проверьте версию hello hello сценария, выполнив команду `New-HPCIaaSCluster.ps1 –Version`. Эта статья основана на версии 4.5.2 hello скрипта.
* **Файл конфигурации сценария**: создать XML-файл, что скрипт hello использует кластера HPC tooconfigure hello. Сведения и примеры см. разделы этой статьи и hello файле Manual.rtf, сопровождающее hello скрипт развертывания.

## <a name="syntax"></a>Синтаксис
```PowerShell
New-HPCIaaSCluster.ps1 [-ConfigFile] <String> [-AdminUserName]<String> [[-AdminPassword] <String>] [[-HPCImageName] <String>] [[-LogFile] <String>] [-Force] [-NoCleanOnFailure] [-PSSessionSkipCACheck] [<CommonParameters>]
```
> [!NOTE]
> Запустите сценарий hello с правами администратора.
> 
> 

### <a name="parameters"></a>Параметры
* **ConfigFile**: Указывает путь к файлу hello hello hello конфигурации файла toodescribe кластера HPC. См. Дополнительные сведения о hello файл конфигурации в этом разделе или в файле hello Manual.rtf в папке hello, содержащий скрипт, hello.
* **AdminUserName**: Указывает имя пользователя hello. Если hello доменный лес создается сценарием hello, оно становится hello именем пользователя локального администратора для всех виртуальных машин и имя администратора домена hello. Если hello доменный лес уже существует, пользователь домена hello указывает как hello tooinstall имя пользователя локального администратора пакета HPC.
* **AdminPassword**: Указывает пароль администратора hello. Если не указан в командной строке hello, hello сценарий предложит tooinput hello пароль.
* **HPCImageName** (необязательно): Указывает имя образа виртуальной Машины HPC Pack hello использовать кластер HPC toodeploy hello. Он должен быть предоставленный корпорацией Майкрософт пакета HPC образом из hello Azure Marketplace. Если не указан (рекомендуется обычно), hello скрипт выбирает hello последней публикации [HPC Pack 2012 R2 изображения](https://azure.microsoft.com/marketplace/partners/microsoft/hpcpack2012r2onwindowsserver2012r2/). последний образ Hello основан на Windows Server 2012 R2 Datacenter с HPC Pack 2012 R2 с обновлением 3 установлены.
  
  > [!NOTE]
  > Если не указать действительный образ пакета HPC, развертывание завершится ошибкой.
  > 
  > 
* **Файл журнала** (необязательно): Указывает путь к файлу журнала развертывания hello. Если не указан, сценарий hello создает файл журнала во временном каталоге hello hello компьютере запускается скрипт hello.
* **Force** (необязательно): подавляет все запросы подтверждения hello.
* **NoCleanOnFailure** (необязательно): Указывает, что hello виртуальных машинах Azure, который не развернут, не удаляются. Вручную удалить эти виртуальные машины перед повторным выполнением toocontinue hello hello скрипт развертывания или hello развертывание может завершиться ошибкой.
* **PSSessionSkipCACheck** (необязательно): для каждой облачной службы с виртуальными машинами, развернутыми этим скриптом самозаверяющий сертификат автоматически формируется Azure и hello все виртуальные машины в облачной службе hello использования этого сертификата, как Windows по умолчанию hello Сертификат удаленного управления (WinRM). toodeploy компонентов HPC в этих виртуальных машинах Azure, скрипт hello по умолчанию временно устанавливает эти сертификаты в локальном компьютере hello\\хранилище доверенных корневых центров сертификации hello клиентского компьютера toosuppress Здравствуйте «не доверенным ЦС» безопасности Ошибка во время выполнения скрипта. Hello сертификаты будут удалены после завершения скрипта hello. Если этот параметр указан, hello сертификаты не установлены в клиентском компьютере hello и подавляется hello предупреждение системы безопасности.
  
  > [!IMPORTANT]
  > Не рекомендуется использовать этот параметр для развертывания в рабочей среде.
  > 
  > 

### <a name="example"></a>Пример
Hello следующий пример создает кластере HPC Pack с помощью файла конфигурации *MyConfigFile.xml*и указывает учетные данные администратора для установки кластера hello.

```PowerShell
.\New-HPCIaaSCluster.ps1 –ConfigFile MyConfigFile.xml -AdminUserName <username> –AdminPassword <password>
```

### <a name="additional-considerations"></a>Дополнительные замечания
* Hello сценария можно дополнительно включить отправки заданий через веб-портал HPC Pack hello или HPC Pack REST API hello.
* Hello скрипта можно при необходимости выполнить пользовательские скрипты, выполняемые до и после конфигурации на головном узле hello, если требуется дополнительное программное обеспечение tooinstall или настроить другие параметры.

## <a name="configuration-file"></a>Файл конфигурации
файл конфигурации Hello для скрипта развертывания hello является XML-файл. Hello файл схемы HPCIaaSClusterConfig.xsd находится в папке скрипта развертывания IaaS пакета HPC hello. **IaaSClusterConfig** является корневым элементом файла конфигурации hello, содержит дочерние элементы hello, подробно описаны в файле hello Manual.rtf в папке скрипта развертывания hello hello.

