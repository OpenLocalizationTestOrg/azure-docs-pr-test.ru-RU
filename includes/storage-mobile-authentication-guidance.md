## <a name="configure-your-application-tooaccess-azure-storage"></a><span data-ttu-id="50ff4-101">Настройка вашего приложения tooaccess хранилища Azure</span><span class="sxs-lookup"><span data-stu-id="50ff4-101">Configure your application tooaccess Azure Storage</span></span>
<span data-ttu-id="50ff4-102">Существует два способа tooauthenticate tooaccess вашего приложения службы хранилища:</span><span class="sxs-lookup"><span data-stu-id="50ff4-102">There are two ways tooauthenticate your application tooaccess Storage services:</span></span>

* <span data-ttu-id="50ff4-103">Общий ключ — следует использовать только для тестирования.</span><span class="sxs-lookup"><span data-stu-id="50ff4-103">Shared Key: Use Shared Key for testing purposes only</span></span>
* <span data-ttu-id="50ff4-104">Подписанный URL-адрес (SAS) — используется для рабочих приложений.</span><span class="sxs-lookup"><span data-stu-id="50ff4-104">Shared Access Signature (SAS): Use SAS for production applications</span></span>

### <a name="shared-key"></a><span data-ttu-id="50ff4-105">Общий ключ</span><span class="sxs-lookup"><span data-stu-id="50ff4-105">Shared Key</span></span>
<span data-ttu-id="50ff4-106">Проверка подлинности с общим ключом означает, что приложение будет использовать имя учетной записи и службы хранилища ключей tooaccess учетных записей.</span><span class="sxs-lookup"><span data-stu-id="50ff4-106">Shared Key authentication means that your application will use your account name and account key tooaccess Storage services.</span></span> <span data-ttu-id="50ff4-107">Для целей hello быстро отображения как toouse этой библиотеки, мы будем использовать проверку подлинности Shared Key в Приступая к работе.</span><span class="sxs-lookup"><span data-stu-id="50ff4-107">For hello purposes of quickly showing how toouse this library, we will be using Shared Key authentication in this getting started.</span></span>

> [!WARNING] 
> <span data-ttu-id="50ff4-108">**Аутентификацию с общим ключом следует использовать только для тестирования!**</span><span class="sxs-lookup"><span data-stu-id="50ff4-108">**Only use Shared Key authentication for testing purposes!**</span></span> <span data-ttu-id="50ff4-109">Имя и ключ учетной записи, предоставляющие toohello доступ на чтение и запись учетной записи хранилища, будет распределенных tooevery лица, которое загружает приложение.</span><span class="sxs-lookup"><span data-stu-id="50ff4-109">Your account name and account key, which give full read/write access toohello associated Storage account, will be distributed tooevery person that downloads your app.</span></span> <span data-ttu-id="50ff4-110">Такой подход **не** рекомендуется ввиду возможности компрометации ключа ненадежными клиентами.</span><span class="sxs-lookup"><span data-stu-id="50ff4-110">This is **not** a good practice as you risk having your key compromised by untrusted clients.</span></span>
> 
> 

<span data-ttu-id="50ff4-111">При использовании аутентификации с общим ключом вам нужно создать [строку подключения](../articles/storage/common/storage-configure-connection-string.md).</span><span class="sxs-lookup"><span data-stu-id="50ff4-111">When using Shared Key authentication, you will create a [connection string](../articles/storage/common/storage-configure-connection-string.md).</span></span> <span data-ttu-id="50ff4-112">Строка подключения Hello состоит из:</span><span class="sxs-lookup"><span data-stu-id="50ff4-112">hello connection string is comprised of:</span></span>  

* <span data-ttu-id="50ff4-113">Hello **DefaultEndpointsProtocol** — вы можете HTTP или HTTPS.</span><span class="sxs-lookup"><span data-stu-id="50ff4-113">hello **DefaultEndpointsProtocol** - you can choose HTTP or HTTPS.</span></span> <span data-ttu-id="50ff4-114">Настоятельно рекомендуется использовать протокол HTTPS.</span><span class="sxs-lookup"><span data-stu-id="50ff4-114">However, using HTTPS is highly recommended.</span></span>
* <span data-ttu-id="50ff4-115">Hello **имя учетной записи** - hello имя учетной записи</span><span class="sxs-lookup"><span data-stu-id="50ff4-115">hello **Account Name** - hello name of your storage account</span></span>
* <span data-ttu-id="50ff4-116">Hello **ключ учетной записи** — в hello [портала Azure](https://portal.azure.com)перейдите tooyour учетной записи хранилища и нажмите кнопку hello **ключей** toofind значок эти сведения.</span><span class="sxs-lookup"><span data-stu-id="50ff4-116">hello **Account Key** - On hello [Azure Portal](https://portal.azure.com), navigate tooyour storage account and click hello **Keys** icon toofind this information.</span></span>
* <span data-ttu-id="50ff4-117">(Необязательно) **EndpointSuffix** — это значение используется для служб хранилища в регионах с разными суффиксами конечных точек, например Azure China или Azure Governance.</span><span class="sxs-lookup"><span data-stu-id="50ff4-117">(Optional) **EndpointSuffix** - This is used for storage services in regions with different endpoint suffixes, such as Azure China or Azure Governance.</span></span>

<span data-ttu-id="50ff4-118">Ниже приведен пример строки подключения, использующей аутентификацию с общим ключом.</span><span class="sxs-lookup"><span data-stu-id="50ff4-118">Here is an example of connection string using Shared Key authentication:</span></span>

`"DefaultEndpointsProtocol=https;AccountName=your_account_name_here;AccountKey=your_account_key_here"`

### <a name="shared-access-signatures-sas"></a><span data-ttu-id="50ff4-119">Подписанный URL-адрес (SAS)</span><span class="sxs-lookup"><span data-stu-id="50ff4-119">Shared Access Signatures (SAS)</span></span>
<span data-ttu-id="50ff4-120">Для мобильного приложения рекомендуется использовать метод для проверки подлинности запроса от клиента к службе хранилища Azure hello hello — с помощью подписи общего доступа (SAS).</span><span class="sxs-lookup"><span data-stu-id="50ff4-120">For a mobile application, hello recommended method for authenticating a request by a client against hello Azure Storage service is by using a Shared Access Signature (SAS).</span></span> <span data-ttu-id="50ff4-121">SAS позволяет toogrant ресурса tooa доступа клиента в течение заданного времени, с указанным набором разрешений.</span><span class="sxs-lookup"><span data-stu-id="50ff4-121">SAS allows you toogrant a client access tooa resource for a specified period of time, with a specified set of permissions.</span></span>
<span data-ttu-id="50ff4-122">Как владелец учетной записи хранилища hello вам потребуется toogenerate подписанный URL-адрес для вашего tooconsume мобильных клиентов.</span><span class="sxs-lookup"><span data-stu-id="50ff4-122">As hello storage account owner, you'll need toogenerate a SAS for your mobile clients tooconsume.</span></span> <span data-ttu-id="50ff4-123">toogenerate Здравствуйте SAS, вы, вероятно, захотите toowrite отдельную службу, приводит к возникновению ошибки hello SAS toobe распределенных tooyour клиентов.</span><span class="sxs-lookup"><span data-stu-id="50ff4-123">toogenerate hello SAS, you'll probably want toowrite a separate service that generates hello SAS toobe distributed tooyour clients.</span></span> <span data-ttu-id="50ff4-124">В целях тестирования можно использовать hello [Microsoft Azure Storage Explorer](http://storageexplorer.com) или hello [портала Azure](https://portal.azure.com) toogenerate SAS.</span><span class="sxs-lookup"><span data-stu-id="50ff4-124">For testing purposes, you can use hello [Microsoft Azure Storage Explorer](http://storageexplorer.com) or hello [Azure Portal](https://portal.azure.com) toogenerate a SAS.</span></span> <span data-ttu-id="50ff4-125">При создании hello SAS, можно указать hello и интервала времени, через какие hello SAS является допустимым hello разрешения, которые hello SAS предоставляет toohello клиента.</span><span class="sxs-lookup"><span data-stu-id="50ff4-125">When you create hello SAS, you can specify hello time interval over which hello SAS is valid, and hello permissions that hello SAS grants toohello client.</span></span>

<span data-ttu-id="50ff4-126">Hello в следующем примере показано, как toouse hello toogenerate Microsoft Azure Storage Explorer SAS.</span><span class="sxs-lookup"><span data-stu-id="50ff4-126">hello following example shows how toouse hello Microsoft Azure Storage Explorer toogenerate a SAS.</span></span>

1. <span data-ttu-id="50ff4-127">Если это еще не сделано, [установки hello обозреватель хранилищ Microsoft Azure](http://storageexplorer.com)</span><span class="sxs-lookup"><span data-stu-id="50ff4-127">If you haven't already, [Install hello Microsoft Azure Storage Explorer](http://storageexplorer.com)</span></span>
2. <span data-ttu-id="50ff4-128">Подключите tooyour подписки.</span><span class="sxs-lookup"><span data-stu-id="50ff4-128">Connect tooyour subscription.</span></span>
3. <span data-ttu-id="50ff4-129">Щелкните в вашей учетной записи хранилища и выберите на вкладке действий «hello» в hello снизу слева.</span><span class="sxs-lookup"><span data-stu-id="50ff4-129">Click on your Storage account and click on hello "Actions" tab at hello bottom left.</span></span> <span data-ttu-id="50ff4-130">Нажмите кнопку «Получить подпись общего доступа» toogenerate «строка соединения» для вашего SAS.</span><span class="sxs-lookup"><span data-stu-id="50ff4-130">Click "Get Shared Access Signature" toogenerate a "connection string" for your SAS.</span></span>
4. <span data-ttu-id="50ff4-131">Ниже приведен пример строки подключения SAS, предоставление разрешения чтения и записи на уровне службы hello, контейнера и уровня объекта для hello BLOB-объектов учетной записи хранения hello.</span><span class="sxs-lookup"><span data-stu-id="50ff4-131">Here is an example of a SAS connection string that grants read and write permissions at hello service, container and object level for hello blob service of hello Storage account.</span></span>
   
   `"SharedAccessSignature=sv=2015-04-05&ss=b&srt=sco&sp=rw&se=2016-07-21T18%3A00%3A00Z&sig=3ABdLOJZosCp0o491T%2BqZGKIhafF1nlM3MzESDDD3Gg%3D;BlobEndpoint=https://youraccount.blob.core.windows.net"`

<span data-ttu-id="50ff4-132">Как видите, при использовании SAS в приложении вам не нужно предоставлять ключ учетной записи.</span><span class="sxs-lookup"><span data-stu-id="50ff4-132">As you can see, when using a SAS, you’re not exposing your account key in your application.</span></span> <span data-ttu-id="50ff4-133">Дополнительные сведения о SAS и рекомендации по использованию SAS путем извлечения [подписанные URL-адреса: основные сведения о модели SAS hello](../articles/storage/common/storage-dotnet-shared-access-signature-part-1.md).</span><span class="sxs-lookup"><span data-stu-id="50ff4-133">You can learn more about SAS and best practices for using SAS by checking out [Shared Access Signatures: Understanding hello SAS model](../articles/storage/common/storage-dotnet-shared-access-signature-part-1.md).</span></span>

