## <a name="what-are-service-bus-topics-and-subscriptions"></a><span data-ttu-id="f98c2-101">Что такое разделы и подписки служебной шины?</span><span class="sxs-lookup"><span data-stu-id="f98c2-101">What are Service Bus topics and subscriptions?</span></span>
<span data-ttu-id="f98c2-102">Разделы и подписки служебной шины поддерживают модель обмена сообщениями " *публикация и подписка* ".</span><span class="sxs-lookup"><span data-stu-id="f98c2-102">Service Bus topics and subscriptions support a *publish/subscribe* messaging communication model.</span></span> <span data-ttu-id="f98c2-103">При использовании разделов и подписок компоненты распределенного приложения не взаимодействуют между собой напрямую, а обмениваются сообщениями через раздел, который выступает в качестве посредника.</span><span class="sxs-lookup"><span data-stu-id="f98c2-103">When using topics and subscriptions, components of a distributed application do not communicate directly with each other; instead they exchange messages via a topic, which acts as an intermediary.</span></span>

![TopicConcepts](./media/howto-service-bus-topics/sb-topics-01.png)

<span data-ttu-id="f98c2-105">В отличие от очередей служебной шины, где каждое сообщение обрабатывается одним потребителем, разделы и подписки предоставляют вид связи одного со многими с помощью шаблона публикации/подписки.</span><span class="sxs-lookup"><span data-stu-id="f98c2-105">In contrast with Service Bus queues, in which each message is processed by a single consumer, topics and subscriptions provide a "one-to-many" form of communication, using a publish/subscribe pattern.</span></span> <span data-ttu-id="f98c2-106">Можно зарегистрировать несколько подписок на раздел.</span><span class="sxs-lookup"><span data-stu-id="f98c2-106">It is possible to register multiple subscriptions to a topic.</span></span> <span data-ttu-id="f98c2-107">Когда сообщение отправляется в раздел, оно затем может обрабатываться независимо каждой подпиской.</span><span class="sxs-lookup"><span data-stu-id="f98c2-107">When a message is sent to a topic, it is then made available to each subscription to handle/process independently.</span></span>

<span data-ttu-id="f98c2-108">Раздел подписки напоминает виртуальную очередь, которая получает копии сообщений, отправленных в раздел.</span><span class="sxs-lookup"><span data-stu-id="f98c2-108">A subscription to a topic resembles a virtual queue that receives copies of the messages that were sent to the topic.</span></span> <span data-ttu-id="f98c2-109">Вы можете зарегистрировать правила фильтрации для раздела на основе подписки, которые позволят определить, какие сообщения и от каких подписок могут быть получены разделом.</span><span class="sxs-lookup"><span data-stu-id="f98c2-109">You can optionally register filter rules for a topic on a per-subscription basis, which enables you to filter or restrict which messages to a topic are received by which topic subscriptions.</span></span>

<span data-ttu-id="f98c2-110">Разделы и подписки служебной шины обеспечивают возможность масштабирования и обработки очень большого количества сообщений для многих пользователей и приложений.</span><span class="sxs-lookup"><span data-stu-id="f98c2-110">Service Bus topics and subscriptions enable you to scale and process a very large number of messages across many users and applications.</span></span>

## <a name="create-a-namespace"></a><span data-ttu-id="f98c2-111">Создание пространства имен</span><span class="sxs-lookup"><span data-stu-id="f98c2-111">Create a namespace</span></span>
<span data-ttu-id="f98c2-112">Чтобы начать использование разделов и подписок служебной шины в Azure, необходимо сначала создать *пространство имен службы*.</span><span class="sxs-lookup"><span data-stu-id="f98c2-112">To begin using Service Bus topics and subscriptions in Azure, you must first create a *service namespace*.</span></span> <span data-ttu-id="f98c2-113">Пространство имен предоставляет контейнер для адресации ресурсов служебной шины в вашем приложении.</span><span class="sxs-lookup"><span data-stu-id="f98c2-113">A namespace provides a scoping container for addressing Service Bus resources within your application.</span></span>

<span data-ttu-id="f98c2-114">Создание пространства имен службы:</span><span class="sxs-lookup"><span data-stu-id="f98c2-114">To create a namespace:</span></span>

1. <span data-ttu-id="f98c2-115">Войдите на [портал Azure][Azure portal].</span><span class="sxs-lookup"><span data-stu-id="f98c2-115">Log on to the [Azure portal][Azure portal].</span></span>
2. <span data-ttu-id="f98c2-116">В левой области навигации на портале щелкните **Создать**, **Интеграция Enterprise**, **Служебная шина**.</span><span class="sxs-lookup"><span data-stu-id="f98c2-116">In the left navigation pane of the portal, click **New**, then click **Enterprise Integration**, and then click **Service Bus**.</span></span>
3. <span data-ttu-id="f98c2-117">В диалоговом окне **Создание пространства имен** укажите имя пространства имен.</span><span class="sxs-lookup"><span data-stu-id="f98c2-117">In the **Create namespace** dialog, enter a namespace name.</span></span> <span data-ttu-id="f98c2-118">Система немедленно проверяет, доступно ли оно.</span><span class="sxs-lookup"><span data-stu-id="f98c2-118">The system immediately checks to see if the name is available.</span></span>
4. <span data-ttu-id="f98c2-119">Убедившись, что пространство имен доступно, выберите ценовую категорию: "Базовый", "Стандартный" или "Премиум".</span><span class="sxs-lookup"><span data-stu-id="f98c2-119">After making sure the namespace name is available, choose the pricing tier (Basic, Standard, or Premium).</span></span>
5. <span data-ttu-id="f98c2-120">Выберите **подписку** Azure, в рамках которой будет создано пространство имен.</span><span class="sxs-lookup"><span data-stu-id="f98c2-120">In the **Subscription** field, choose an Azure subscription in which to create the namespace.</span></span>
6. <span data-ttu-id="f98c2-121">Выберите существующую **группу ресурсов** , в которую будет включено это пространство имен, или создайте новую.</span><span class="sxs-lookup"><span data-stu-id="f98c2-121">In the **Resource group** field, choose an existing resource group in which the namespace will live, or create a new one.</span></span>      
7. <span data-ttu-id="f98c2-122">Укажите **расположение**— страну или регион для размещения пространства имен.</span><span class="sxs-lookup"><span data-stu-id="f98c2-122">In **Location**, choose the country or region in which your namespace should be hosted.</span></span>
   
    ![Создание пространства имен][create-namespace]
8. <span data-ttu-id="f98c2-124">Нажмите кнопку **Создать** .</span><span class="sxs-lookup"><span data-stu-id="f98c2-124">Click the **Create** button.</span></span> <span data-ttu-id="f98c2-125">Теперь система создает пространство имен и включает его.</span><span class="sxs-lookup"><span data-stu-id="f98c2-125">The system now creates your namespace and enables it.</span></span> <span data-ttu-id="f98c2-126">Возможно, вам придется подождать несколько минут, пока система выделит ресурсы для вашей учетной записи.</span><span class="sxs-lookup"><span data-stu-id="f98c2-126">You might have to wait several minutes as the system provisions resources for your account.</span></span>

### <a name="obtain-the-credentials"></a><span data-ttu-id="f98c2-127">Получение учетных данных</span><span class="sxs-lookup"><span data-stu-id="f98c2-127">Obtain the credentials</span></span>
1. <span data-ttu-id="f98c2-128">В списке пространств имен щелкните имя только что созданного пространства имен.</span><span class="sxs-lookup"><span data-stu-id="f98c2-128">In the list of namespaces, click the newly created namespace name.</span></span>
2. <span data-ttu-id="f98c2-129">В колонке **Пространство имен служебной шины** щелкните **Политики общего доступа**.</span><span class="sxs-lookup"><span data-stu-id="f98c2-129">In the **Service Bus namespace** blade, click **Shared access policies**.</span></span>
3. <span data-ttu-id="f98c2-130">В колонке **Политики общего доступа** щелкните **RootManageSharedAccessKey**.</span><span class="sxs-lookup"><span data-stu-id="f98c2-130">In the **Shared access policies** blade, click **RootManageSharedAccessKey**.</span></span>
   
    ![Сведения о подключении][connection-info]
4. <span data-ttu-id="f98c2-132">В колонке **Политика: RootManageSharedAccessKey** нажмите кнопку копирования рядом с полем **Строка подключения — первичный ключ**, чтобы скопировать строку подключения в буфер обмена для последующего использования.</span><span class="sxs-lookup"><span data-stu-id="f98c2-132">In the **Policy: RootManageSharedAccessKey** blade, click the copy button next to **Connection string–primary key**, to copy the connection string to your clipboard for later use.</span></span>
   
    ![Строка подключения][connection-string]

[Azure portal]: https://portal.azure.com
[create-namespace]: ./media/howto-service-bus-topics/create-namespace.png
[connection-info]: ./media/howto-service-bus-topics/connection-info.png
[connection-string]: ./media/howto-service-bus-topics/connection-string.png


