
## <a name="about-vhds"></a><span data-ttu-id="724b8-101">О виртуальных жестких дисках</span><span class="sxs-lookup"><span data-stu-id="724b8-101">About VHDs</span></span>

<span data-ttu-id="724b8-102">Hello VHD, используемых в Azure, VHD-файлов, хранящихся как страничные большие двоичные объекты в учетной записи хранения standard или premium в Azure.</span><span class="sxs-lookup"><span data-stu-id="724b8-102">hello VHDs used in Azure are .vhd files stored as page blobs in a standard or premium storage account in Azure.</span></span> <span data-ttu-id="724b8-103">Дополнительные сведения о страничных BLOB-объектах см. в статье [Understanding Block Blobs, Append Blobs, and Page Blobs](/rest/api/storageservices/Understanding-Block-Blobs--Append-Blobs--and-Page-Blobs/) (Основные сведения о блочных, добавочных и страничных BLOB-объектах).</span><span class="sxs-lookup"><span data-stu-id="724b8-103">For details about page blobs, see [Understanding block blobs and page blobs](/rest/api/storageservices/Understanding-Block-Blobs--Append-Blobs--and-Page-Blobs/).</span></span> <span data-ttu-id="724b8-104">Дополнительные сведения о хранилище класса Premium см. в статье [Хранилище класса "Премиум": высокопроизводительная служба хранилища для рабочих нагрузок виртуальных машин Azure](../articles/storage/common/storage-premium-storage.md).</span><span class="sxs-lookup"><span data-stu-id="724b8-104">For details about premium storage, see [High-performance premium storage and Azure VMs](../articles/storage/common/storage-premium-storage.md).</span></span>

<span data-ttu-id="724b8-105">Azure поддерживает hello фиксированный формат VHD на диск.</span><span class="sxs-lookup"><span data-stu-id="724b8-105">Azure supports hello fixed disk VHD format.</span></span> <span data-ttu-id="724b8-106">готовит Hello фиксированного формата hello логический диск out линейно в файле hello, поэтому смещение диска X хранится как смещение большого двоичного объекта X. Небольшой нижнего колонтитула в конце hello hello больших двоичных объектов описаны свойства hello hello виртуального жесткого диска.</span><span class="sxs-lookup"><span data-stu-id="724b8-106">hello fixed format lays hello logical disk out linearly within hello file, so that disk offset X is stored at blob offset X. A small footer at hello end of hello blob describes hello properties of hello VHD.</span></span> <span data-ttu-id="724b8-107">Часто hello фиксированный формат ведет к потере места, поскольку большинство дисков имеют большие неиспользуемые в них.</span><span class="sxs-lookup"><span data-stu-id="724b8-107">Often, hello fixed format wastes space because most disks have large unused ranges in them.</span></span> <span data-ttu-id="724b8-108">Однако Azure VHD-файлы хранятся в разреженном формате, поэтому вы получаете преимущества обоих hello фиксированной hello и динамические диски на hello же время.</span><span class="sxs-lookup"><span data-stu-id="724b8-108">However, Azure stores .vhd files in a sparse format, so you receive hello benefits of both hello fixed and dynamic disks at hello same time.</span></span> <span data-ttu-id="724b8-109">Дополнительные сведения см. в статье [Начало работы с виртуальными жесткими дисками](https://technet.microsoft.com/library/dd979539.aspx).</span><span class="sxs-lookup"><span data-stu-id="724b8-109">For more details, see [Getting started with virtual hard disks](https://technet.microsoft.com/library/dd979539.aspx).</span></span>

<span data-ttu-id="724b8-110">Все VHD-файлы в Azure, должен быть toouse toocreate исходных дисков или изображения доступны только для чтения.</span><span class="sxs-lookup"><span data-stu-id="724b8-110">All .vhd files in Azure that you want toouse as a source toocreate disks or images are read-only.</span></span> <span data-ttu-id="724b8-111">При создании диска или образа, Azure создает копии hello VHD-файлы.</span><span class="sxs-lookup"><span data-stu-id="724b8-111">When you create a disk or image, Azure makes copies of hello .vhd files.</span></span> <span data-ttu-id="724b8-112">Эти копии может быть только для чтения или чтения и записи, в зависимости от того, как использовать hello виртуального жесткого диска.</span><span class="sxs-lookup"><span data-stu-id="724b8-112">These copies can be read-only or read-and-write, depending on how you use hello VHD.</span></span>

<span data-ttu-id="724b8-113">При создании виртуальной машины из образа Azure создает диск для виртуальной машины hello, представляет собой копию hello исходного VHD-файла.</span><span class="sxs-lookup"><span data-stu-id="724b8-113">When you create a virtual machine from an image, Azure creates a disk for hello virtual machine that is a copy of hello source .vhd file.</span></span> <span data-ttu-id="724b8-114">tooprotect от случайного удаления Azure устанавливает аренду на любой файл .vhd, применяющее toocreate образ, диск операционной системы или диска данных.</span><span class="sxs-lookup"><span data-stu-id="724b8-114">tooprotect against accidental deletion, Azure places a lease on any source .vhd file that’s used toocreate an image, an operating system disk, or a data disk.</span></span>

<span data-ttu-id="724b8-115">Прежде чем удалить исходный VHD-файл, необходимо tooremove hello аренду, удалив hello диск или образ.</span><span class="sxs-lookup"><span data-stu-id="724b8-115">Before you can delete a source .vhd file, you’ll need tooremove hello lease by deleting hello disk or image.</span></span> <span data-ttu-id="724b8-116">toodelete VHD-файл, который используется виртуальной машиной как диск операционной системы, можно удалить hello виртуальной машины, диск операционной системы hello и hello исходного VHD-файла за один раз, удалите hello виртуальную машину и удалив все связанные диски.</span><span class="sxs-lookup"><span data-stu-id="724b8-116">toodelete a .vhd file that is being used by a virtual machine as an operating system disk, you can delete hello virtual machine, hello operating system disk, and hello source .vhd file all at once by deleting hello virtual machine and deleting all associated disks.</span></span> <span data-ttu-id="724b8-117">Однако для удаления VHD-файла, используемого в качестве источника для диска данных, необходимо выполнить несколько действий в заданном порядке.</span><span class="sxs-lookup"><span data-stu-id="724b8-117">However, deleting a .vhd file that’s a source for a data disk requires several steps in a set order.</span></span> <span data-ttu-id="724b8-118">Сначала отсоедините диск hello hello виртуальной машины, а затем удалить диск hello и затем удалить VHD-файл hello.</span><span class="sxs-lookup"><span data-stu-id="724b8-118">First you detach hello disk from hello virtual machine, then delete hello disk, and then delete hello .vhd file.</span></span>

> [!WARNING]
> <span data-ttu-id="724b8-119">Если удалить исходный VHD-файл из хранилища или удалить учетную запись хранения, корпорация Майкрософт не сможет восстановить эти данные.</span><span class="sxs-lookup"><span data-stu-id="724b8-119">If you delete a source .vhd file from storage, or delete your storage account, Microsoft can't recover that data for you.</span></span>
> 

## <a name="types-of-disks"></a><span data-ttu-id="724b8-120">Типы дисков</span><span class="sxs-lookup"><span data-stu-id="724b8-120">Types of disks</span></span> 

<span data-ttu-id="724b8-121">Диски Azure обеспечивают доступность на уровне 99,999 %.</span><span class="sxs-lookup"><span data-stu-id="724b8-121">Azure Disks are designed for 99.999% availability.</span></span> <span data-ttu-id="724b8-122">Они гарантируют согласованную надежность корпоративного уровня с ведущим в отрасли нулевым показателем процента брака по итогам продаж в течение одного года.</span><span class="sxs-lookup"><span data-stu-id="724b8-122">Azure Disks have consistently delivered enterprise-grade durability, with an industry-leading ZERO% Annualized Failure Rate.</span></span>

<span data-ttu-id="724b8-123">При создании дисков можно выбрать один из двух типов хранилища с разным уровнем производительности: хранилище класса Standard или хранилище класса Premium.</span><span class="sxs-lookup"><span data-stu-id="724b8-123">There are two performance tiers for storage that you can choose from when creating your disks -- Standard Storage and Premium Storage.</span></span> <span data-ttu-id="724b8-124">Кроме того, существуют два типа дисков — неуправляемые и управляемые. Эти диски могут размещаться на любом уровне производительности.</span><span class="sxs-lookup"><span data-stu-id="724b8-124">Also, there are two types of disks -- unmanaged and managed -- and they can reside in either performance tier.</span></span>


### <a name="standard-storage"></a><span data-ttu-id="724b8-125">Хранилище уровня "Стандартный"</span><span class="sxs-lookup"><span data-stu-id="724b8-125">Standard storage</span></span> 

<span data-ttu-id="724b8-126">Хранилище класса Standard использует жесткие диски и обеспечивает экономичное хранилище с достаточной производительностью.</span><span class="sxs-lookup"><span data-stu-id="724b8-126">Standard Storage is backed by HDDs, and delivers cost-effective storage while still being performant.</span></span> <span data-ttu-id="724b8-127">Хранилище этого класса может локально реплицироваться в один центр обработки данных или же быть геоизбыточным с основным и дополнительным центрами обработки данных.</span><span class="sxs-lookup"><span data-stu-id="724b8-127">Standard storage can be replicated locally in one datacenter, or be geo-redundant with primary and secondary data centers.</span></span> <span data-ttu-id="724b8-128">Дополнительные сведения о репликации хранилища см. в статье [Репликация службы хранилища Azure](../articles/storage/common/storage-redundancy.md).</span><span class="sxs-lookup"><span data-stu-id="724b8-128">For more information about storage replication, please see [Azure Storage replication](../articles/storage/common/storage-redundancy.md).</span></span> 

<span data-ttu-id="724b8-129">Дополнительные сведения об использовании хранилища класса Standard с дисками виртуальной машины см. в [этой статье](../articles/storage/common/storage-standard-storage.md).</span><span class="sxs-lookup"><span data-stu-id="724b8-129">For more information about using Standard Storage with VM disks, please see [Standard Storage and Disks](../articles/storage/common/storage-standard-storage.md).</span></span>

### <a name="premium-storage"></a><span data-ttu-id="724b8-130">Хранилище уровня "Премиум"</span><span class="sxs-lookup"><span data-stu-id="724b8-130">Premium storage</span></span> 

<span data-ttu-id="724b8-131">Хранилище класса Premium использует диски SSD и обеспечивает поддержку дисков с высокой производительностью и малой задержкой для виртуальных машин с интенсивными рабочими нагрузками ввода-вывода.</span><span class="sxs-lookup"><span data-stu-id="724b8-131">Premium Storage is backed by SSDs, and delivers high-performance, low-latency disk support for VMs running I/O-intensive workloads.</span></span> <span data-ttu-id="724b8-132">Хранилище класса Premium можно использовать с виртуальными машинами Azure таких серий, как DS, DSv2, GS, Ls или FS.</span><span class="sxs-lookup"><span data-stu-id="724b8-132">You can use Premium Storage with DS, DSv2, GS, Ls, or FS series Azure VMs.</span></span> <span data-ttu-id="724b8-133">Дополнительные сведения см. в статье [Хранилище класса "Премиум": высокопроизводительная служба хранилища для рабочих нагрузок виртуальных машин Azure](../articles/storage/common/storage-premium-storage.md).</span><span class="sxs-lookup"><span data-stu-id="724b8-133">For more information, please see [Premium Storage](../articles/storage/common/storage-premium-storage.md).</span></span>

### <a name="unmanaged-disks"></a><span data-ttu-id="724b8-134">Неуправляемые диски</span><span class="sxs-lookup"><span data-stu-id="724b8-134">Unmanaged disks</span></span>

<span data-ttu-id="724b8-135">Неуправляемые диски являются hello традиционных тип дисков, используемых виртуальными машинами.</span><span class="sxs-lookup"><span data-stu-id="724b8-135">Unmanaged disks are hello traditional type of disks that have been used by VMs.</span></span> <span data-ttu-id="724b8-136">С этими создать собственную учетную запись хранения и указать эту учетную запись хранилища при создании диска hello.</span><span class="sxs-lookup"><span data-stu-id="724b8-136">With these, you create your own storage account and specify that storage account when you create hello disk.</span></span> <span data-ttu-id="724b8-137">У вас есть toomake убедиться, что не слишком много дисков hello учетную запись хранения, так как может превысить hello [целевые показатели масштабируемости](../articles/storage/common/storage-scalability-targets.md) учетной записи хранения hello (20 000 операций ввода-ВЫВОДА, например), в результате чего hello регулируется виртуальных машин.</span><span class="sxs-lookup"><span data-stu-id="724b8-137">You have toomake sure you don't put too many disks in hello same storage account, because you could exceed hello [scalability targets](../articles/storage/common/storage-scalability-targets.md) of hello storage account (20,000 IOPS, for example), resulting in hello VMs being throttled.</span></span> <span data-ttu-id="724b8-138">Неуправляемые диски предоставляют toofigure, как использовать toomaximize hello из одного или нескольких хранилищ учетных записей tooget hello повышения производительности виртуальных машин.</span><span class="sxs-lookup"><span data-stu-id="724b8-138">With unmanaged disks, you have toofigure out how toomaximize hello use of one or more storage accounts tooget hello best performance out of your VMs.</span></span>

### <a name="managed-disks"></a><span data-ttu-id="724b8-139">Управляемые диски</span><span class="sxs-lookup"><span data-stu-id="724b8-139">Managed disks</span></span> 

<span data-ttu-id="724b8-140">Управляемые дескрипторы дисков хранилища hello создания и управления в фоновом режиме hello учетной записью для вас и гарантирует, что у вас tooworry об ограничениях масштабируемости hello hello учетной записи хранения.</span><span class="sxs-lookup"><span data-stu-id="724b8-140">Managed Disks handles hello storage account creation/management in hello background for you, and ensures that you do not have tooworry about hello scalability limits of hello storage account.</span></span> <span data-ttu-id="724b8-141">Просто укажите размер диска hello и уровня производительности hello (Standard или Premium) и Azure создает и управляет hello диска.</span><span class="sxs-lookup"><span data-stu-id="724b8-141">You simply specify hello disk size and hello performance tier (Standard/Premium), and Azure creates and manages hello disk for you.</span></span> <span data-ttu-id="724b8-142">Даже в том случае, если добавить диски или увеличение и уменьшение масштаба hello виртуальной Машины, у вас нет tooworry о используется хранилище hello.</span><span class="sxs-lookup"><span data-stu-id="724b8-142">Even as you add disks or scale hello VM up and down, you don't have tooworry about hello storage being used.</span></span> 

<span data-ttu-id="724b8-143">Можно управлять пользовательских образов в одну учетную запись хранения в одном регионе Azure и использовать их toocreate сотен виртуальных машин в hello одной подписке.</span><span class="sxs-lookup"><span data-stu-id="724b8-143">You can also manage your custom images in one storage account per Azure region, and use them toocreate hundreds of VMs in hello same subscription.</span></span> <span data-ttu-id="724b8-144">Дополнительные сведения о дисках управляемых см. в разделе hello [Обзор управляемых дисков](../articles/virtual-machines/windows/managed-disks-overview.md).</span><span class="sxs-lookup"><span data-stu-id="724b8-144">For more information about Managed Disks, please see hello [Managed Disks Overview](../articles/virtual-machines/windows/managed-disks-overview.md).</span></span>

<span data-ttu-id="724b8-145">Рекомендуется использовать диски управляемых Azure для новых виртуальных машин и преобразуйте вашей предыдущих диски toomanaged неуправляемые дисков tootake преимуществами hello многие функции, доступные в управляемых дисков.</span><span class="sxs-lookup"><span data-stu-id="724b8-145">We recommend that you use Azure Managed Disks for new VMs, and that you convert your previous unmanaged disks toomanaged disks, tootake advantage of hello many features available in Managed Disks.</span></span>

### <a name="disk-comparison"></a><span data-ttu-id="724b8-146">Сравнение дисков</span><span class="sxs-lookup"><span data-stu-id="724b8-146">Disk comparison</span></span>

<span data-ttu-id="724b8-147">Hello в следующей таблице представлено сравнение Premium vs Standard для обоих неуправляемым и управляемым решить, какие toouse toohelp дисков.</span><span class="sxs-lookup"><span data-stu-id="724b8-147">hello following table provides a comparison of Premium vs Standard for both unmanaged and managed disks toohelp you decide what toouse.</span></span>

|    | <span data-ttu-id="724b8-148">Диски Azure класса Premium</span><span class="sxs-lookup"><span data-stu-id="724b8-148">Azure Premium Disk</span></span> | <span data-ttu-id="724b8-149">Диски Azure класса Standard</span><span class="sxs-lookup"><span data-stu-id="724b8-149">Azure Standard Disk</span></span> |
|--- | ------------------ | ------------------- |
| <span data-ttu-id="724b8-150">Тип диска</span><span class="sxs-lookup"><span data-stu-id="724b8-150">Disk Type</span></span> | <span data-ttu-id="724b8-151">Твердотельные накопители (SSD)</span><span class="sxs-lookup"><span data-stu-id="724b8-151">Solid State Drives (SSD)</span></span> | <span data-ttu-id="724b8-152">Жесткие диски (HDD)</span><span class="sxs-lookup"><span data-stu-id="724b8-152">Hard Disk Drives (HDD)</span></span>  |
| <span data-ttu-id="724b8-153">Обзор</span><span class="sxs-lookup"><span data-stu-id="724b8-153">Overview</span></span>  | <span data-ttu-id="724b8-154">Поддержка дисков SSD с высокой производительностью и малой задержкой для виртуальных машин, где выполняются интенсивные рабочие нагрузки ввода-вывода или размещается критически важная рабочая среда</span><span class="sxs-lookup"><span data-stu-id="724b8-154">SSD-based high-performance, low-latency disk support for VMs running IO-intensive workloads or hosting mission critical production environment</span></span> | <span data-ttu-id="724b8-155">Поддержка экономичных дисков HDD для сценариев разработки и тестирования виртуальной машины</span><span class="sxs-lookup"><span data-stu-id="724b8-155">HDD-based cost effective disk support for Dev/Test VM scenarios</span></span> |
| <span data-ttu-id="724b8-156">Сценарий</span><span class="sxs-lookup"><span data-stu-id="724b8-156">Scenario</span></span>  | <span data-ttu-id="724b8-157">Рабочая среда, чувствительная к уровню производительности</span><span class="sxs-lookup"><span data-stu-id="724b8-157">Production and performance sensitive workloads</span></span> | <span data-ttu-id="724b8-158">Среда разработки и тестирования, некритичные задачи,</span><span class="sxs-lookup"><span data-stu-id="724b8-158">Dev/Test, non-critical,</span></span> <br><span data-ttu-id="724b8-159">нечастый доступ</span><span class="sxs-lookup"><span data-stu-id="724b8-159">Infrequent access</span></span> |
| <span data-ttu-id="724b8-160">Размер диска</span><span class="sxs-lookup"><span data-stu-id="724b8-160">Disk Size</span></span> | <span data-ttu-id="724b8-161">P4: 32 ГБ (только управляемые диски)</span><span class="sxs-lookup"><span data-stu-id="724b8-161">P4: 32 GB (Managed Disks only)</span></span><br><span data-ttu-id="724b8-162">P6: 64 ГБ (только управляемые диски)</span><span class="sxs-lookup"><span data-stu-id="724b8-162">P6: 64 GB (Managed Disks only)</span></span><br><span data-ttu-id="724b8-163">P10: 128 ГБ</span><span class="sxs-lookup"><span data-stu-id="724b8-163">P10: 128 GB</span></span><br><span data-ttu-id="724b8-164">P20: 512 ГБ</span><span class="sxs-lookup"><span data-stu-id="724b8-164">P20: 512 GB</span></span><br><span data-ttu-id="724b8-165">P30: 1024 ГБ</span><span class="sxs-lookup"><span data-stu-id="724b8-165">P30: 1024 GB</span></span><br><span data-ttu-id="724b8-166">P40: 2048 ГБ</span><span class="sxs-lookup"><span data-stu-id="724b8-166">P40: 2048 GB</span></span><br><span data-ttu-id="724b8-167">P50: 4095 ГБ</span><span class="sxs-lookup"><span data-stu-id="724b8-167">P50: 4095 GB</span></span> | <span data-ttu-id="724b8-168">Неуправляемые диски: 1 ГБ – 4 ТБ (4095 ГБ)</span><span class="sxs-lookup"><span data-stu-id="724b8-168">Unmanaged Disks: 1 GB – 4 TB (4095 GB)</span></span> <br><br><span data-ttu-id="724b8-169">Управляемые диски:</span><span class="sxs-lookup"><span data-stu-id="724b8-169">Managed Disks:</span></span><br> <span data-ttu-id="724b8-170">S4: 32 ГБ</span><span class="sxs-lookup"><span data-stu-id="724b8-170">S4: 32 GB</span></span> <br><span data-ttu-id="724b8-171">S6: 64 ГБ</span><span class="sxs-lookup"><span data-stu-id="724b8-171">S6: 64 GB</span></span> <br><span data-ttu-id="724b8-172">S10: 128 ГБ</span><span class="sxs-lookup"><span data-stu-id="724b8-172">S10: 128 GB</span></span> <br><span data-ttu-id="724b8-173">S20: 512 ГБ</span><span class="sxs-lookup"><span data-stu-id="724b8-173">S20: 512 GB</span></span> <br><span data-ttu-id="724b8-174">S30: 1024 ГБ</span><span class="sxs-lookup"><span data-stu-id="724b8-174">S30: 1024 GB</span></span> <br><span data-ttu-id="724b8-175">S40: 2048 ГБ</span><span class="sxs-lookup"><span data-stu-id="724b8-175">S40: 2048 GB</span></span><br><span data-ttu-id="724b8-176">S50: 4095 ГБ</span><span class="sxs-lookup"><span data-stu-id="724b8-176">S50: 4095 GB</span></span>| 
| <span data-ttu-id="724b8-177">Макс. пропускная способность на диск</span><span class="sxs-lookup"><span data-stu-id="724b8-177">Max Throughput per Disk</span></span> | <span data-ttu-id="724b8-178">250 МБ/с</span><span class="sxs-lookup"><span data-stu-id="724b8-178">250 MB/s</span></span> | <span data-ttu-id="724b8-179">60 МБ/с</span><span class="sxs-lookup"><span data-stu-id="724b8-179">60 MB/s</span></span> | 
| <span data-ttu-id="724b8-180">Макс. количество операций ввода-вывода на диск</span><span class="sxs-lookup"><span data-stu-id="724b8-180">Max IOPS per Disk</span></span> | <span data-ttu-id="724b8-181">7500 операций ввода-вывода в секунду</span><span class="sxs-lookup"><span data-stu-id="724b8-181">7500 IOPS</span></span> | <span data-ttu-id="724b8-182">500 операций ввода-вывода/с</span><span class="sxs-lookup"><span data-stu-id="724b8-182">500 IOPS</span></span> | 

