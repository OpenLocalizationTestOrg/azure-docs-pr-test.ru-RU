<span data-ttu-id="77868-101">На этом шаге теста hello прослушивателя группы доступности с помощью клиентского приложения, которое выполняется на hello одной сети.</span><span class="sxs-lookup"><span data-stu-id="77868-101">In this step, you test hello availability group listener by using a client application that's running on hello same network.</span></span>

<span data-ttu-id="77868-102">Подключение клиента имеет hello следующие требования:</span><span class="sxs-lookup"><span data-stu-id="77868-102">Client connectivity has hello following requirements:</span></span>

* <span data-ttu-id="77868-103">Прослушиватель toohello подключения клиента должны поступать из компьютеров, находящихся в облачной службе, отличной hello один hello, узлы всегда на реплики доступности.</span><span class="sxs-lookup"><span data-stu-id="77868-103">Client connections toohello listener must come from machines that reside in a different cloud service than hello one that hosts hello Always On availability replicas.</span></span>
* <span data-ttu-id="77868-104">Если hello Always On реплики находятся в разных подсетях, клиенты должны задавать *MultisubnetFailover = True* в строке подключения hello.</span><span class="sxs-lookup"><span data-stu-id="77868-104">If hello Always On replicas are in different subnets, clients must specify *MultisubnetFailover=True* in hello connection string.</span></span> <span data-ttu-id="77868-105">Результатом является условие параллельных соединений попыток tooreplicas в hello различных подсетях.</span><span class="sxs-lookup"><span data-stu-id="77868-105">This condition results in parallel connection attempts tooreplicas in hello various subnets.</span></span> <span data-ttu-id="77868-106">Этот сценарий включает развертывание межрегиональной группы доступности AlwaysOn.</span><span class="sxs-lookup"><span data-stu-id="77868-106">This scenario includes a cross-region Always On availability group deployment.</span></span>

<span data-ttu-id="77868-107">Примером является прослушивателем toohello tooconnect из какого-либо hello виртуальных машин в hello одной виртуальной сети Azure (но не той, на котором размещена реплика).</span><span class="sxs-lookup"><span data-stu-id="77868-107">One example is tooconnect toohello listener from one of hello VMs in hello same Azure virtual network (but not one that hosts a replica).</span></span> <span data-ttu-id="77868-108">Простой способ toocomplete этот тест является прослушивателем группы доступности toohello SQL Server Management Studio tootry tooconnect.</span><span class="sxs-lookup"><span data-stu-id="77868-108">An easy way toocomplete this test is tootry tooconnect SQL Server Management Studio toohello availability group listener.</span></span> <span data-ttu-id="77868-109">Другой простой способ — toorun [SQLCMD.exe](https://technet.microsoft.com/library/ms162773.aspx), как показано ниже:</span><span class="sxs-lookup"><span data-stu-id="77868-109">Another simple method is toorun [SQLCMD.exe](https://technet.microsoft.com/library/ms162773.aspx), as follows:</span></span>

    sqlcmd -S "<ListenerName>,<EndpointPort>" -d "<DatabaseName>" -Q "select @@servername, db_name()" -l 15

> [!NOTE]
> <span data-ttu-id="77868-110">Если значение EndpointPort hello *1433*, вы не требуется toospecify его в вызове hello.</span><span class="sxs-lookup"><span data-stu-id="77868-110">If hello EndpointPort value is *1433*, you are not required toospecify it in hello call.</span></span> <span data-ttu-id="77868-111">Hello предыдущего вызова также предполагает hello клиентского компьютера, объединенных toohello одного домена и что вызывающий объект hello имеет разрешений на hello базы данных с использованием проверки подлинности Windows.</span><span class="sxs-lookup"><span data-stu-id="77868-111">hello previous call also assumes that hello client machine is joined toohello same domain and that hello caller has been granted permissions on hello database by using Windows authentication.</span></span>
> 
> 

<span data-ttu-id="77868-112">При тестировании прослушивателя hello быть убедиться, что toofail через toomake группы доступности hello убедиться, что клиенты могут подключаться toohello прослушивателя на другой ресурс.</span><span class="sxs-lookup"><span data-stu-id="77868-112">When you test hello listener, be sure toofail over hello availability group toomake sure that clients can connect toohello listener across failovers.</span></span>

