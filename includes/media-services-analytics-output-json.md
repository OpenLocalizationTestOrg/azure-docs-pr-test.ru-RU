<span data-ttu-id="eb150-101">Задание создает выходной файл JSON c метаданными об обнаруженных и отслеживаемых лицах.</span><span class="sxs-lookup"><span data-stu-id="eb150-101">The job produces a JSON output file that contains metadata about detected and tracked faces.</span></span> <span data-ttu-id="eb150-102">Метаданные включают координаты, указывающие расположение лиц, а также идентификационный код лица, указывающий на отслеживание этого человека.</span><span class="sxs-lookup"><span data-stu-id="eb150-102">The metadata includes coordinates indicating the location of faces, as well as a face ID number indicating the tracking of that individual.</span></span> <span data-ttu-id="eb150-103">Если лицо в анфас теряется или перекрывается в кадре, его идентификационный номер может быть сброшен, в результате чего нескольким людям назначаются несколько идентификаторов.</span><span class="sxs-lookup"><span data-stu-id="eb150-103">Face ID numbers are prone to reset under circumstances when the frontal face is lost or overlapped in the frame, resulting in some individuals getting assigned multiple IDs.</span></span>

<span data-ttu-id="eb150-104">Выходной файл JSON включает следующие атрибуты:</span><span class="sxs-lookup"><span data-stu-id="eb150-104">The output JSON includes the following attributes:</span></span>

| <span data-ttu-id="eb150-105">Элемент</span><span class="sxs-lookup"><span data-stu-id="eb150-105">Element</span></span> | <span data-ttu-id="eb150-106">Описание</span><span class="sxs-lookup"><span data-stu-id="eb150-106">Description</span></span> |
| --- | --- |
| <span data-ttu-id="eb150-107">версия</span><span class="sxs-lookup"><span data-stu-id="eb150-107">version</span></span> |<span data-ttu-id="eb150-108">Версия API видео.</span><span class="sxs-lookup"><span data-stu-id="eb150-108">This refers to the version of the Video API.</span></span> |
| <span data-ttu-id="eb150-109">index</span><span class="sxs-lookup"><span data-stu-id="eb150-109">index</span></span> | <span data-ttu-id="eb150-110">Определяет индекс кадра текущего события (применяется только к Azure Media Redactor).</span><span class="sxs-lookup"><span data-stu-id="eb150-110">(Applies to Azure Media Redactor only) defines the frame index of the current event.</span></span> |
| <span data-ttu-id="eb150-111">timescale</span><span class="sxs-lookup"><span data-stu-id="eb150-111">timescale</span></span> |<span data-ttu-id="eb150-112">Количество тактов в секунду видео.</span><span class="sxs-lookup"><span data-stu-id="eb150-112">"Ticks" per second of the video.</span></span> |
| <span data-ttu-id="eb150-113">offset</span><span class="sxs-lookup"><span data-stu-id="eb150-113">offset</span></span> |<span data-ttu-id="eb150-114">Смещение времени для отметки времени.</span><span class="sxs-lookup"><span data-stu-id="eb150-114">This is the time offset for timestamps.</span></span> <span data-ttu-id="eb150-115">В API видео версии 1.0 это значение всегда равно 0.</span><span class="sxs-lookup"><span data-stu-id="eb150-115">In version 1.0 of Video APIs, this will always be 0.</span></span> <span data-ttu-id="eb150-116">В будущих поддерживаемых сценариях это значение может измениться.</span><span class="sxs-lookup"><span data-stu-id="eb150-116">In future scenarios we support, this value may change.</span></span> |
| <span data-ttu-id="eb150-117">framerate</span><span class="sxs-lookup"><span data-stu-id="eb150-117">framerate</span></span> |<span data-ttu-id="eb150-118">Количество кадров в секунду видео.</span><span class="sxs-lookup"><span data-stu-id="eb150-118">Frames per second of the video.</span></span> |
| <span data-ttu-id="eb150-119">fragments</span><span class="sxs-lookup"><span data-stu-id="eb150-119">fragments</span></span> |<span data-ttu-id="eb150-120">Метаданные разделены на разные сегменты, называемые фрагментами.</span><span class="sxs-lookup"><span data-stu-id="eb150-120">The metadata is chunked up into different segments called fragments.</span></span> <span data-ttu-id="eb150-121">Каждый фрагмент имеет начало, длительность, номер интервала и события.</span><span class="sxs-lookup"><span data-stu-id="eb150-121">Each fragment contains a start, duration, interval number, and event(s).</span></span> |
| <span data-ttu-id="eb150-122">start</span><span class="sxs-lookup"><span data-stu-id="eb150-122">start</span></span> |<span data-ttu-id="eb150-123">Время начала первого события в тактах.</span><span class="sxs-lookup"><span data-stu-id="eb150-123">The start time of the first event in ‘ticks’.</span></span> |
| <span data-ttu-id="eb150-124">длительность</span><span class="sxs-lookup"><span data-stu-id="eb150-124">duration</span></span> |<span data-ttu-id="eb150-125">Продолжительность фрагмента в тактах.</span><span class="sxs-lookup"><span data-stu-id="eb150-125">The length of the fragment, in “ticks”.</span></span> |
| <span data-ttu-id="eb150-126">interval</span><span class="sxs-lookup"><span data-stu-id="eb150-126">interval</span></span> |<span data-ttu-id="eb150-127">Интервал каждой записи события внутри фрагмента в тактах.</span><span class="sxs-lookup"><span data-stu-id="eb150-127">The interval of each event entry within the fragment, in “ticks”.</span></span> |
| <span data-ttu-id="eb150-128">events</span><span class="sxs-lookup"><span data-stu-id="eb150-128">events</span></span> |<span data-ttu-id="eb150-129">Каждое событие содержит лица, обнаруженные и отслеживаемые в течение этого промежутка времени.</span><span class="sxs-lookup"><span data-stu-id="eb150-129">Each event contains the faces detected and tracked within that time duration.</span></span> <span data-ttu-id="eb150-130">Оно представляет собой массив массива событий.</span><span class="sxs-lookup"><span data-stu-id="eb150-130">It is an array of array of events.</span></span> <span data-ttu-id="eb150-131">Внешний массив представляет один интервал времени.</span><span class="sxs-lookup"><span data-stu-id="eb150-131">The outer array represents one interval of time.</span></span> <span data-ttu-id="eb150-132">Внутренний массив состоит из нуля или более событий, которые выполнялись в этот момент времени.</span><span class="sxs-lookup"><span data-stu-id="eb150-132">The inner array consists of 0 or more events that happened at that point in time.</span></span> <span data-ttu-id="eb150-133">Пустые скобки означают, что лица не обнаружены.</span><span class="sxs-lookup"><span data-stu-id="eb150-133">An empty bracket [] means no faces were detected.</span></span> |
| <span data-ttu-id="eb150-134">id</span><span class="sxs-lookup"><span data-stu-id="eb150-134">id</span></span> |<span data-ttu-id="eb150-135">Идентификатор отслеживаемого лица.</span><span class="sxs-lookup"><span data-stu-id="eb150-135">The ID of the face that is being tracked.</span></span> <span data-ttu-id="eb150-136">Если лицо становится необнаруживаемым, это значение может быть случайным образом изменено.</span><span class="sxs-lookup"><span data-stu-id="eb150-136">This number may inadvertently change if a face becomes undetected.</span></span> <span data-ttu-id="eb150-137">Человек должен иметь один и тот же идентификатор на протяжении всего видео, однако это условие не может быть гарантированным из-за ограничений алгоритма обнаружения (перекрытие и т. д.).</span><span class="sxs-lookup"><span data-stu-id="eb150-137">A given individual should have the same ID throughout the overall video, but this cannot be guaranteed due to limitations in the detection algorithm (occlusion, etc.)</span></span> |
| <span data-ttu-id="eb150-138">x, y</span><span class="sxs-lookup"><span data-stu-id="eb150-138">x, y</span></span> |<span data-ttu-id="eb150-139">Верхние левые координаты X и Y прямоугольника, ограничивающего лицо, в нормализованном масштабе от 0,0 до 1,0.</span><span class="sxs-lookup"><span data-stu-id="eb150-139">The upper left X and Y coordinates of the face bounding box in a normalized scale of 0.0 to 1.0.</span></span> <br/><span data-ttu-id="eb150-140">Координаты X и Y всегда указываются в альбомной ориентации, поэтому при наличии портретного видео (или перевернутого — в iOS) потребуется соответствующим образом поменять координаты.</span><span class="sxs-lookup"><span data-stu-id="eb150-140">-X and Y coordinates are relative to landscape always, so if you have a portrait video (or upside-down, in the case of iOS), you'll have to transpose the coordinates accordingly.</span></span> |
| <span data-ttu-id="eb150-141">width, height</span><span class="sxs-lookup"><span data-stu-id="eb150-141">width, height</span></span> |<span data-ttu-id="eb150-142">Ширина и высота прямоугольника, ограничивающего лицо, в нормализованном масштабе от 0,0 до 1,0.</span><span class="sxs-lookup"><span data-stu-id="eb150-142">The width and height of the face bounding box in a normalized scale of 0.0 to 1.0.</span></span> |
| <span data-ttu-id="eb150-143">facesDetected</span><span class="sxs-lookup"><span data-stu-id="eb150-143">facesDetected</span></span> |<span data-ttu-id="eb150-144">Этот элемент находится в конце результатов JSON и означает количество лиц, обнаруженных алгоритмом на видео.</span><span class="sxs-lookup"><span data-stu-id="eb150-144">This is found at the end of the JSON results and summarizes the number of faces that the algorithm detected during the video.</span></span> <span data-ttu-id="eb150-145">Поскольку идентификаторы могут быть случайно сброшены в случае невозможности обнаружения лица (например, человек пропадает с экрана, отворачивается), это число не всегда соответствует реальному количеству лиц на видео.</span><span class="sxs-lookup"><span data-stu-id="eb150-145">Because the IDs can be reset inadvertently if a face becomes undetected (e.g. face goes off screen, looks away), this number may not always equal the true number of faces in the video.</span></span> |

