
# <a name="call-the-microsoft-graph-api-from-an-ios-application"></a>Вызов API-Интерфейс Microsoft Graph из приложения iOS

В этом руководстве показано, как в приложении машинным кодом iOS (Swift) можно вызвать API, которые требуются токены доступа из конечной точки v2.0 Microsoft Azure Active Directory (Azure AD). Руководстве объясняется, как получать маркеры доступа и использовать их в вызовах API Graph корпорации Майкрософт и других API.

После выполнения упражнений этого руководства, приложение может вызывать защищенный интерфейс API из любого компании или организации, в которой Azure AD. Приложение можно сделать защищенные вызовы API с помощью личные учетные записи, такие как outlook.com, live.com и другие, а также рабочих учетных записей.

## <a name="prerequisites"></a>Технические условия
- XCode версии 8.x является обязательным для образца, созданная в этом руководстве. Вы можете загрузить XCode на [iTunes веб-сайт](https://geo.itunes.apple.com/us/app/xcode/id497799835?mt=12 "URL-адрес загрузки XCode").
- [Carthage](https://github.com/Carthage/Carthage) требуется диспетчер зависимостей для пакета управления.

## <a name="how-this-guide-works"></a>Принцип работы с руководством

![Принцип работы с руководством](media/active-directory-develop-guidedsetup-ios-introduction/iosintro.png)

В этом руководстве образца приложения позволяет приложению iOS запрашивать Microsoft Graph API или веб-API, который принимает токены из конечной точки Azure AD версии 2.0. В этом случае маркер добавляется на HTTP-запросы с помощью **авторизации** заголовок. Получение маркера и его обновление выполняет библиотека проверки подлинности Майкрософт (MSAL).


### <a name="handle-token-acquisition-for-access-to-protected-web-apis"></a>Получение токена дескриптор для доступа к защищенным веб-API

После проверки подлинности пользователя, образец приложения получает маркер. Токен используется для запроса Microsoft Graph API или веб-API, защищенного Azure AD v2.0 конечной точкой.

API-интерфейсы, такие как Microsoft Graph требуется маркер доступа, чтобы разрешить доступ к определенным ресурсам. Маркеры не требуется чтение профиля пользователя, доступ к календарю пользователя, отправьте сообщение электронной почты и т. д. Приложения могут запросить маркер доступа, используя MSAL и указания области API. Маркер доступа добавляется HTTP **авторизации** заголовок для каждого вызова, который выполняется защищенному ресурсу.

MSAL управляет кэшированием и обновлением маркеров доступа, поэтому вашему приложению не нужно этого делать.


## <a name="libraries"></a>Библиотеки

В этом руководстве используется следующая библиотека:

|Библиотека|ОПИСАНИЕ|
|---|---|
|[MSAL.framework](https://github.com/AzureAD/microsoft-authentication-library-for-objc)|Предварительная версия библиотеки проверки подлинности Microsoft для iOS|

