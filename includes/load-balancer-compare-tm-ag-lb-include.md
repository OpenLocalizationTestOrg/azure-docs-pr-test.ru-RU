## <a name="load-balancer-differences"></a><span data-ttu-id="7bd3e-101">Различия балансировки нагрузки</span><span class="sxs-lookup"><span data-stu-id="7bd3e-101">Load Balancer differences</span></span>

<span data-ttu-id="7bd3e-102">Существуют различные варианты toodistribute сетевого трафика с помощью Microsoft Azure.</span><span class="sxs-lookup"><span data-stu-id="7bd3e-102">There are different options toodistribute network traffic using Microsoft Azure.</span></span> <span data-ttu-id="7bd3e-103">Эти варианты работают по-разному, имеют разные наборы функций и поддерживают разные сценарии.</span><span class="sxs-lookup"><span data-stu-id="7bd3e-103">These options work differently from each other, having a different feature set and support different scenarios.</span></span> <span data-ttu-id="7bd3e-104">Их можно использовать по отдельности или вместе.</span><span class="sxs-lookup"><span data-stu-id="7bd3e-104">They can each be used in isolation, or combining them.</span></span>

* <span data-ttu-id="7bd3e-105">**Подсистема балансировки нагрузки Azure** работает на уровне транспорта hello (уровень 4 в стек ссылку сети OSI hello).</span><span class="sxs-lookup"><span data-stu-id="7bd3e-105">**Azure Load Balancer** works at hello transport layer (Layer 4 in hello OSI network reference stack).</span></span> <span data-ttu-id="7bd3e-106">Он поддерживает распределение уровня сетевого трафика между экземпляров приложения, запущенного в hello же центре обработки данных Azure.</span><span class="sxs-lookup"><span data-stu-id="7bd3e-106">It provides network-level distribution of traffic across instances of an application running in hello same Azure data center.</span></span>
* <span data-ttu-id="7bd3e-107">**Шлюз приложений** работает на уровне приложения hello (7 слоя в стек ссылку сети OSI hello).</span><span class="sxs-lookup"><span data-stu-id="7bd3e-107">**Application Gateway** works at hello application layer (Layer 7 in hello OSI network reference stack).</span></span> <span data-ttu-id="7bd3e-108">Он действует в качестве обратного прокси-сервера службы, Завершение подключения клиента hello и пересылки запросов tooback окончания конечных точек.</span><span class="sxs-lookup"><span data-stu-id="7bd3e-108">It acts as a reverse-proxy service, terminating hello client connection and forwarding requests tooback-end endpoints.</span></span>
* <span data-ttu-id="7bd3e-109">**Диспетчер трафика** работает на уровне DNS hello.</span><span class="sxs-lookup"><span data-stu-id="7bd3e-109">**Traffic Manager** works at hello DNS level.</span></span>  <span data-ttu-id="7bd3e-110">Он использует DNS ответов toodirect конечного пользователя трафика tooglobally распределенных конечные точки.</span><span class="sxs-lookup"><span data-stu-id="7bd3e-110">It uses DNS responses toodirect end-user traffic tooglobally distributed endpoints.</span></span> <span data-ttu-id="7bd3e-111">Затем клиенты напрямую подключаться toothose конечных точек.</span><span class="sxs-lookup"><span data-stu-id="7bd3e-111">Clients then connect toothose endpoints directly.</span></span>

<span data-ttu-id="7bd3e-112">Привет, в следующей таблице перечислены функции hello, предоставляемые каждой службы:</span><span class="sxs-lookup"><span data-stu-id="7bd3e-112">hello following table summarizes hello features offered by each service:</span></span>

| <span data-ttu-id="7bd3e-113">служба</span><span class="sxs-lookup"><span data-stu-id="7bd3e-113">Service</span></span> | <span data-ttu-id="7bd3e-114">Azure Load Balancer</span><span class="sxs-lookup"><span data-stu-id="7bd3e-114">Azure Load Balancer</span></span> | <span data-ttu-id="7bd3e-115">Шлюз приложений</span><span class="sxs-lookup"><span data-stu-id="7bd3e-115">Application Gateway</span></span> | <span data-ttu-id="7bd3e-116">Диспетчер трафика</span><span class="sxs-lookup"><span data-stu-id="7bd3e-116">Traffic Manager</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="7bd3e-117">Технология</span><span class="sxs-lookup"><span data-stu-id="7bd3e-117">Technology</span></span> |<span data-ttu-id="7bd3e-118">Транспортный уровень (уровень 4)</span><span class="sxs-lookup"><span data-stu-id="7bd3e-118">Transport level (Layer 4)</span></span> |<span data-ttu-id="7bd3e-119">Прикладной уровень (уровень 7)</span><span class="sxs-lookup"><span data-stu-id="7bd3e-119">Application level (Layer 7)</span></span> |<span data-ttu-id="7bd3e-120">Уровень DNS</span><span class="sxs-lookup"><span data-stu-id="7bd3e-120">DNS level</span></span> |
| <span data-ttu-id="7bd3e-121">Поддерживаемые протоколы приложений</span><span class="sxs-lookup"><span data-stu-id="7bd3e-121">Application protocols supported</span></span> |<span data-ttu-id="7bd3e-122">Любой</span><span class="sxs-lookup"><span data-stu-id="7bd3e-122">Any</span></span> |<span data-ttu-id="7bd3e-123">HTTP, HTTPS и WebSocket</span><span class="sxs-lookup"><span data-stu-id="7bd3e-123">HTTP, HTTPS, and WebSockets</span></span> |<span data-ttu-id="7bd3e-124">Любой (конечная точка HTTP обязательна для мониторинга конечных точек)</span><span class="sxs-lookup"><span data-stu-id="7bd3e-124">Any (An HTTP endpoint is required for endpoint monitoring)</span></span> |
| <span data-ttu-id="7bd3e-125">Endpoints</span><span class="sxs-lookup"><span data-stu-id="7bd3e-125">Endpoints</span></span> |<span data-ttu-id="7bd3e-126">Экземпляры роли ВМ и облачных служб Azure</span><span class="sxs-lookup"><span data-stu-id="7bd3e-126">Azure VMs and Cloud Services role instances</span></span> |<span data-ttu-id="7bd3e-127">Любой внутренний IP-адрес Azure, IP-адрес общедоступного сегмента Интернета, виртуальная машина Azure или облачная служба Azure</span><span class="sxs-lookup"><span data-stu-id="7bd3e-127">Any Azure internal IP address, public internet IP address, Azure VM, or Azure Cloud Service</span></span> |<span data-ttu-id="7bd3e-128">Виртуальные машины Azure, облачные службы, веб-приложения Azure и внешние конечные точки</span><span class="sxs-lookup"><span data-stu-id="7bd3e-128">Azure VMs, Cloud Services, Azure Web Apps, and external endpoints</span></span> |
| <span data-ttu-id="7bd3e-129">Поддержка виртуальной сети</span><span class="sxs-lookup"><span data-stu-id="7bd3e-129">Vnet support</span></span> |<span data-ttu-id="7bd3e-130">Может использоваться для приложений с выходом в Интернет и внутренних приложений (в виртуальной сети)</span><span class="sxs-lookup"><span data-stu-id="7bd3e-130">Can be used for both Internet facing and internal (Vnet) applications</span></span> |<span data-ttu-id="7bd3e-131">Может использоваться для приложений с выходом в Интернет и внутренних приложений (в виртуальной сети)</span><span class="sxs-lookup"><span data-stu-id="7bd3e-131">Can be used for both Internet facing and internal (Vnet) applications</span></span> |<span data-ttu-id="7bd3e-132">Поддерживает только приложения с выходом в Интернет</span><span class="sxs-lookup"><span data-stu-id="7bd3e-132">Only supports Internet-facing applications</span></span> |
| <span data-ttu-id="7bd3e-133">Мониторинг конечных точек</span><span class="sxs-lookup"><span data-stu-id="7bd3e-133">Endpoint Monitoring</span></span> |<span data-ttu-id="7bd3e-134">Поддерживается посредством проб</span><span class="sxs-lookup"><span data-stu-id="7bd3e-134">Supported via probes</span></span> |<span data-ttu-id="7bd3e-135">Поддерживается посредством проб</span><span class="sxs-lookup"><span data-stu-id="7bd3e-135">Supported via probes</span></span> |<span data-ttu-id="7bd3e-136">Поддерживается через метод GET в HTTP или HTTPS</span><span class="sxs-lookup"><span data-stu-id="7bd3e-136">Supported via HTTP/HTTPS GET</span></span> |

<span data-ttu-id="7bd3e-137">Azure балансировки нагрузки и шлюз приложений маршрута сетевого трафика tooendpoints, но они имеют toohandle трафика toowhich сценариев использования.</span><span class="sxs-lookup"><span data-stu-id="7bd3e-137">Azure Load Balancer and Application Gateway route network traffic tooendpoints but they have different usage scenarios toowhich traffic toohandle.</span></span> <span data-ttu-id="7bd3e-138">Hello Следующая таблица помогает основные сведения о hello разницу между двумя подсистемы балансировки нагрузки hello:</span><span class="sxs-lookup"><span data-stu-id="7bd3e-138">hello following table helps understanding hello difference between hello two load balancers:</span></span>

| <span data-ttu-id="7bd3e-139">Тип</span><span class="sxs-lookup"><span data-stu-id="7bd3e-139">Type</span></span> | <span data-ttu-id="7bd3e-140">Azure Load Balancer</span><span class="sxs-lookup"><span data-stu-id="7bd3e-140">Azure Load Balancer</span></span> | <span data-ttu-id="7bd3e-141">Шлюз приложений</span><span class="sxs-lookup"><span data-stu-id="7bd3e-141">Application Gateway</span></span> |
| --- | --- | --- |
| <span data-ttu-id="7bd3e-142">Протоколы</span><span class="sxs-lookup"><span data-stu-id="7bd3e-142">Protocols</span></span> |<span data-ttu-id="7bd3e-143">UDP и TCP</span><span class="sxs-lookup"><span data-stu-id="7bd3e-143">UDP/TCP</span></span> |<span data-ttu-id="7bd3e-144">HTTP, HTTPS и WebSocket</span><span class="sxs-lookup"><span data-stu-id="7bd3e-144">HTTP, HTTPS, and WebSockets</span></span> |
| <span data-ttu-id="7bd3e-145">Резервирование IP-адресов</span><span class="sxs-lookup"><span data-stu-id="7bd3e-145">IP reservation</span></span> |<span data-ttu-id="7bd3e-146">Поддерживаются</span><span class="sxs-lookup"><span data-stu-id="7bd3e-146">Supported</span></span> |<span data-ttu-id="7bd3e-147">Не поддерживается</span><span class="sxs-lookup"><span data-stu-id="7bd3e-147">Not supported</span></span> |
| <span data-ttu-id="7bd3e-148">Режим балансировки нагрузки</span><span class="sxs-lookup"><span data-stu-id="7bd3e-148">Load balancing mode</span></span> |<span data-ttu-id="7bd3e-149">5 кортежей (исходный IP-адрес, исходный порт, IP-адрес назначения, порт назначения, тип протокола).</span><span class="sxs-lookup"><span data-stu-id="7bd3e-149">5-tuple(source IP, source port, destination IP, destination port, protocol type)</span></span> |<span data-ttu-id="7bd3e-150">Циклический перебор,</span><span class="sxs-lookup"><span data-stu-id="7bd3e-150">Round Robin</span></span><br><span data-ttu-id="7bd3e-151">маршрутизация на основе URL-адреса.</span><span class="sxs-lookup"><span data-stu-id="7bd3e-151">Routing based on URL</span></span> |
| <span data-ttu-id="7bd3e-152">Режим балансировки нагрузки (исходный IP-адрес или прикрепленные сеансы)</span><span class="sxs-lookup"><span data-stu-id="7bd3e-152">Load balancing mode (source IP /sticky sessions)</span></span> |<span data-ttu-id="7bd3e-153">2 кортежа (исходный IP-адрес и IP-адрес назначения), 3 кортежа (исходный IP-адрес, IP-адрес назначения и порт).</span><span class="sxs-lookup"><span data-stu-id="7bd3e-153">2-tuple (source IP and destination IP), 3-tuple (source IP, destination IP, and port).</span></span> <span data-ttu-id="7bd3e-154">Можно масштабировать вверх или вниз на основе hello количества виртуальных машин</span><span class="sxs-lookup"><span data-stu-id="7bd3e-154">Can scale up or down based on hello number of virtual machines</span></span> |<span data-ttu-id="7bd3e-155">Сходство на основе файлов cookie,</span><span class="sxs-lookup"><span data-stu-id="7bd3e-155">Cookie-based affinity</span></span><br><span data-ttu-id="7bd3e-156">маршрутизация на основе URL-адреса.</span><span class="sxs-lookup"><span data-stu-id="7bd3e-156">Routing based on URL</span></span> |
| <span data-ttu-id="7bd3e-157">Пробы работоспособности.</span><span class="sxs-lookup"><span data-stu-id="7bd3e-157">Health probes</span></span> |<span data-ttu-id="7bd3e-158">По умолчанию: интервал выборки — 15 секунд.</span><span class="sxs-lookup"><span data-stu-id="7bd3e-158">Default: probe interval - 15 secs.</span></span> <span data-ttu-id="7bd3e-159">Изъятие из ротации: 2 последовательных сбоя.</span><span class="sxs-lookup"><span data-stu-id="7bd3e-159">Taken out of rotation: 2 Continuous failures.</span></span> <span data-ttu-id="7bd3e-160">Поддерживает пользовательские пробы.</span><span class="sxs-lookup"><span data-stu-id="7bd3e-160">Supports user-defined probes</span></span> |<span data-ttu-id="7bd3e-161">Интервал простоя пробы — 30 секунд.</span><span class="sxs-lookup"><span data-stu-id="7bd3e-161">Idle probe interval 30 secs.</span></span> <span data-ttu-id="7bd3e-162">Изъятие после 5 последовательных сбоев в интерактивном трафике или одного сбоя пробы в режиме простоя.</span><span class="sxs-lookup"><span data-stu-id="7bd3e-162">Taken out after 5 consecutive live traffic failures or a single probe failure in idle mode.</span></span> <span data-ttu-id="7bd3e-163">Поддерживает пользовательские пробы.</span><span class="sxs-lookup"><span data-stu-id="7bd3e-163">Supports user-defined probes</span></span> |
| <span data-ttu-id="7bd3e-164">Разгрузка SSL</span><span class="sxs-lookup"><span data-stu-id="7bd3e-164">SSL offloading</span></span> |<span data-ttu-id="7bd3e-165">Не поддерживается</span><span class="sxs-lookup"><span data-stu-id="7bd3e-165">Not supported</span></span> |<span data-ttu-id="7bd3e-166">Поддерживаются</span><span class="sxs-lookup"><span data-stu-id="7bd3e-166">Supported</span></span> |
| <span data-ttu-id="7bd3e-167">Маршрутизация на основе URL-адреса</span><span class="sxs-lookup"><span data-stu-id="7bd3e-167">Url-based routing</span></span> | <span data-ttu-id="7bd3e-168">Не поддерживается</span><span class="sxs-lookup"><span data-stu-id="7bd3e-168">Not supported</span></span> | <span data-ttu-id="7bd3e-169">Поддерживаются</span><span class="sxs-lookup"><span data-stu-id="7bd3e-169">Supported</span></span>|
| <span data-ttu-id="7bd3e-170">Политика SSL</span><span class="sxs-lookup"><span data-stu-id="7bd3e-170">SSL Policy</span></span> | <span data-ttu-id="7bd3e-171">Не поддерживается</span><span class="sxs-lookup"><span data-stu-id="7bd3e-171">Not supported</span></span> | <span data-ttu-id="7bd3e-172">Поддерживаются</span><span class="sxs-lookup"><span data-stu-id="7bd3e-172">Supported</span></span>|
