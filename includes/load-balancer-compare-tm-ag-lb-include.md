## <a name="load-balancer-differences"></a>Различия балансировки нагрузки

Существуют различные варианты toodistribute сетевого трафика с помощью Microsoft Azure. Эти варианты работают по-разному, имеют разные наборы функций и поддерживают разные сценарии. Их можно использовать по отдельности или вместе.

* **Подсистема балансировки нагрузки Azure** работает на уровне транспорта hello (уровень 4 в стек ссылку сети OSI hello). Он поддерживает распределение уровня сетевого трафика между экземпляров приложения, запущенного в hello же центре обработки данных Azure.
* **Шлюз приложений** работает на уровне приложения hello (7 слоя в стек ссылку сети OSI hello). Он действует в качестве обратного прокси-сервера службы, Завершение подключения клиента hello и пересылки запросов tooback окончания конечных точек.
* **Диспетчер трафика** работает на уровне DNS hello.  Он использует DNS ответов toodirect конечного пользователя трафика tooglobally распределенных конечные точки. Затем клиенты напрямую подключаться toothose конечных точек.

Привет, в следующей таблице перечислены функции hello, предоставляемые каждой службы:

| служба | Azure Load Balancer | Шлюз приложений | Диспетчер трафика |
| --- | --- | --- | --- |
| Технология |Транспортный уровень (уровень 4) |Прикладной уровень (уровень 7) |Уровень DNS |
| Поддерживаемые протоколы приложений |Любой |HTTP, HTTPS и WebSocket |Любой (конечная точка HTTP обязательна для мониторинга конечных точек) |
| Endpoints |Экземпляры роли ВМ и облачных служб Azure |Любой внутренний IP-адрес Azure, IP-адрес общедоступного сегмента Интернета, виртуальная машина Azure или облачная служба Azure |Виртуальные машины Azure, облачные службы, веб-приложения Azure и внешние конечные точки |
| Поддержка виртуальной сети |Может использоваться для приложений с выходом в Интернет и внутренних приложений (в виртуальной сети) |Может использоваться для приложений с выходом в Интернет и внутренних приложений (в виртуальной сети) |Поддерживает только приложения с выходом в Интернет |
| Мониторинг конечных точек |Поддерживается посредством проб |Поддерживается посредством проб |Поддерживается через метод GET в HTTP или HTTPS |

Azure балансировки нагрузки и шлюз приложений маршрута сетевого трафика tooendpoints, но они имеют toohandle трафика toowhich сценариев использования. Hello Следующая таблица помогает основные сведения о hello разницу между двумя подсистемы балансировки нагрузки hello:

| Тип | Azure Load Balancer | Шлюз приложений |
| --- | --- | --- |
| Протоколы |UDP и TCP |HTTP, HTTPS и WebSocket |
| Резервирование IP-адресов |Поддерживаются |Не поддерживается |
| Режим балансировки нагрузки |5 кортежей (исходный IP-адрес, исходный порт, IP-адрес назначения, порт назначения, тип протокола). |Циклический перебор,<br>маршрутизация на основе URL-адреса. |
| Режим балансировки нагрузки (исходный IP-адрес или прикрепленные сеансы) |2 кортежа (исходный IP-адрес и IP-адрес назначения), 3 кортежа (исходный IP-адрес, IP-адрес назначения и порт). Можно масштабировать вверх или вниз на основе hello количества виртуальных машин |Сходство на основе файлов cookie,<br>маршрутизация на основе URL-адреса. |
| Пробы работоспособности. |По умолчанию: интервал выборки — 15 секунд. Изъятие из ротации: 2 последовательных сбоя. Поддерживает пользовательские пробы. |Интервал простоя пробы — 30 секунд. Изъятие после 5 последовательных сбоев в интерактивном трафике или одного сбоя пробы в режиме простоя. Поддерживает пользовательские пробы. |
| Разгрузка SSL |Не поддерживается |Поддерживаются |
| Маршрутизация на основе URL-адреса | Не поддерживается | Поддерживаются|
| Политика SSL | Не поддерживается | Поддерживаются|
