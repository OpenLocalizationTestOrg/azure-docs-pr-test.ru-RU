<span data-ttu-id="5dd87-101">Служба доменных имен (DNS) используется для поиска ресурсов в Интернете.</span><span class="sxs-lookup"><span data-stu-id="5dd87-101">The Domain Name System (DNS) is used to locate resources on the internet.</span></span> <span data-ttu-id="5dd87-102">Например, при вводе адреса веб-приложения в браузере или при щелчке ссылки на веб-странице DNS используется для перевода домена в IP-адрес.</span><span class="sxs-lookup"><span data-stu-id="5dd87-102">For example, when you enter a web app address in your browser, or click a link on a web page, it uses DNS to translate the domain into an IP address.</span></span> <span data-ttu-id="5dd87-103">Этот IP-адрес является как бы почтовым адресом, однако он не очень понятен для человека.</span><span class="sxs-lookup"><span data-stu-id="5dd87-103">The IP address is sort of like a street address, but it's not very human friendly.</span></span> <span data-ttu-id="5dd87-104">Так, гораздо легче запомнить DNS-имя, например **contoso.com** , чем запоминать IP-адрес, такой как 192.168.1.88 или 2001:0:4137:1f67:24a2:3888:9cce:fea3.</span><span class="sxs-lookup"><span data-stu-id="5dd87-104">For example, it is much easier to remember a DNS name like **contoso.com** than it is to remember an IP address such as 192.168.1.88 or 2001:0:4137:1f67:24a2:3888:9cce:fea3.</span></span>

<span data-ttu-id="5dd87-105">DNS основана на *записях*.</span><span class="sxs-lookup"><span data-stu-id="5dd87-105">The DNS system is based on *records*.</span></span> <span data-ttu-id="5dd87-106">Записи связывают конкретное *имя*, например **contoso.com**, либо с IP-адресом, либо с другим DNS-именем.</span><span class="sxs-lookup"><span data-stu-id="5dd87-106">Records associate a specific *name*, such as **contoso.com**, with either an IP address or another DNS name.</span></span> <span data-ttu-id="5dd87-107">Если приложение, такое как веб-браузер, выполняет поиск имени в DNS, оно находит соответствующую запись и использует указанные в ней элементы в качестве адреса.</span><span class="sxs-lookup"><span data-stu-id="5dd87-107">When an application, such as a web browser, looks up a name in DNS, it finds the record, and uses whatever it points to as the address.</span></span> <span data-ttu-id="5dd87-108">Если указываемое значение является IP-адресом, браузер будет использовать это значение.</span><span class="sxs-lookup"><span data-stu-id="5dd87-108">If the value it points to is an IP address, the browser will use that value.</span></span> <span data-ttu-id="5dd87-109">Если указывается другое DNS-имя, приложение должно выполнить разрешение еще раз.</span><span class="sxs-lookup"><span data-stu-id="5dd87-109">If it points to another DNS name, then the application has to do resolution again.</span></span> <span data-ttu-id="5dd87-110">В конечном счете конечным элементом всех разрешений имен будет являться IP-адрес.</span><span class="sxs-lookup"><span data-stu-id="5dd87-110">Ultimately, all name resolution will end in an IP address.</span></span>

<span data-ttu-id="5dd87-111">При создании веб-приложения в службе приложений DNS-имя автоматически назначается веб-приложению.</span><span class="sxs-lookup"><span data-stu-id="5dd87-111">When you create an web app in App Service, a DNS name is automatically assigned to the web app.</span></span> <span data-ttu-id="5dd87-112">Это имя имеет форму **&lt;имя_приложения&gt;.azurewebsites.net**.</span><span class="sxs-lookup"><span data-stu-id="5dd87-112">This name takes the form of **&lt;yourwebappname&gt;.azurewebsites.net**.</span></span> <span data-ttu-id="5dd87-113">Есть также виртуальный IP-адрес для использования при создании DNS-записей. Таким образом, можно создать записи, указывающие либо на **.azurewebsites.net**, либо на IP-адрес.</span><span class="sxs-lookup"><span data-stu-id="5dd87-113">There is also a virtual IP address available for use when creating DNS records, so you can either create records that point to the **.azurewebsites.net**, or you can point to the IP address.</span></span>

> [!NOTE]
> <span data-ttu-id="5dd87-114">IP-адрес веб-приложения изменится, если удалить и заново создать это веб-приложение или изменить режим плана службы приложений на **Бесплатный**, после того как он был установлен как **Базовый**, **Общий** или **Стандартный**.</span><span class="sxs-lookup"><span data-stu-id="5dd87-114">The IP address of your web app will change if you delete and recreate your web app, or change the App Service plan mode to **Free** after it has been set to **Basic**, **Shared**, or **Standard**.</span></span>
> 
> 

<span data-ttu-id="5dd87-115">Существует несколько типов записей, каждый из которых имеет собственные функции и ограничения, но применительно к веб-приложениям нас интересуют только два типа записей: *A* и *CNAME*.</span><span class="sxs-lookup"><span data-stu-id="5dd87-115">There are also multiple types of records, each with their own functions and limitations, but for web apps we only care about two, *A* and *CNAME* records.</span></span>

### <a name="address-record-a-record"></a><span data-ttu-id="5dd87-116">Запись адреса (запись A)</span><span class="sxs-lookup"><span data-stu-id="5dd87-116">Address record (A record)</span></span>
<span data-ttu-id="5dd87-117">Запись A сопоставляет домен, например **contoso.com** или **www.contoso.com**, или *домен с подстановочными знаками*, такой как **\*.contoso.com**, с IP-адресом.</span><span class="sxs-lookup"><span data-stu-id="5dd87-117">An A record maps a domain, such as **contoso.com** or **www.contoso.com**, *or a wildcard domain* such as **\*.contoso.com**, to an IP address.</span></span> <span data-ttu-id="5dd87-118">В случае веб-приложения в службе приложений это либо виртуальный IP-адрес службы, либо конкретный IP-адрес, который был приобретен для веб-приложения.</span><span class="sxs-lookup"><span data-stu-id="5dd87-118">In the case of a web app in App Service, either the virtual IP of the service or a specific IP address that you purchased for your web app.</span></span>

<span data-ttu-id="5dd87-119">Имеются следующие основные преимущества записи A над записью CNAME:</span><span class="sxs-lookup"><span data-stu-id="5dd87-119">The main benefits of an A record over a CNAME record are:</span></span>

* <span data-ttu-id="5dd87-120">Можно сопоставить корневой домен, такой как **contoso.com** , IP-адресу; многие регистраторы разрешают это только с помощью записей A</span><span class="sxs-lookup"><span data-stu-id="5dd87-120">You can map a root domain such as **contoso.com** to an IP address; many registrars only allow this using A records</span></span>
* <span data-ttu-id="5dd87-121">Можно иметь одну запись, использующую подстановочные знаки, например **\*.contoso.com**, которая будет обрабатывать запросы для нескольких поддоменов, таких как **mail.contoso.com**, **blogs.contoso.com** или **www.contoso.com**.</span><span class="sxs-lookup"><span data-stu-id="5dd87-121">You can have one entry that uses a wildcard, such as **\*.contoso.com**, which would handle requests for multiple sub-domains such as **mail.contoso.com**, **blogs.contoso.com**, or **www.contso.com**.</span></span>

> [!NOTE]
> <span data-ttu-id="5dd87-122">Поскольку запись А сопоставляется со статическим IP-адресом, она не может автоматически разрешаться в IP-адрес вашего веб-приложения.</span><span class="sxs-lookup"><span data-stu-id="5dd87-122">Since an A record is mapped to a static IP address, it cannot automatically resolve changes to the IP address of your web app.</span></span> <span data-ttu-id="5dd87-123">IP-адрес для использования с записями А предоставляется при настройке параметров имени личного домена для веб-приложения; однако это значение может измениться, если удалить и заново создать веб-приложение или изменить режим плана службы приложений снова на **Free**.</span><span class="sxs-lookup"><span data-stu-id="5dd87-123">An IP address for use with A records is provided when you configure custom domain name settings for your web app; however, this value may change if you delete and recreate your web app, or change the App Service plan mode to back to **Free**.</span></span>
> 
> 

### <a name="alias-record-cname-record"></a><span data-ttu-id="5dd87-124">Запись псевдонима (запись CNAME)</span><span class="sxs-lookup"><span data-stu-id="5dd87-124">Alias record (CNAME record)</span></span>
<span data-ttu-id="5dd87-125">Запись CNAME сопоставляет *конкретное* DNS-имя, такое как **mail.contoso.com** или **www.contoso.com**, с другим (каноническим) именем домена.</span><span class="sxs-lookup"><span data-stu-id="5dd87-125">A CNAME record maps a *specific* DNS name, such as **mail.contoso.com** or **www.contoso.com**, to another (canonical) domain name.</span></span> <span data-ttu-id="5dd87-126">В случае с веб-приложениями службы приложений каноническим именем домена является имя домена **&lt;имя_веб-приложения>.azurewebsites.net** вашего веб-приложения.</span><span class="sxs-lookup"><span data-stu-id="5dd87-126">In the case of App Service Web Apps, the canonical domain name is the **&lt;yourwebappname>.azurewebsites.net** domain name of your web app.</span></span> <span data-ttu-id="5dd87-127">После того как запись CNAME создана, она создает псевдоним для имени домена **&lt;имя_веб-приложения>.azurewebsites.net**.</span><span class="sxs-lookup"><span data-stu-id="5dd87-127">Once created, the CNAME creates an alias for the **&lt;yourwebappname>.azurewebsites.net** domain name.</span></span> <span data-ttu-id="5dd87-128">Запись CNAME будет автоматически разрешаться в IP-адрес имени вашего домена **&lt;имя_веб-приложения>.azurewebsites.net**, поэтому при изменении IP-адреса веб-приложения не нужно предпринимать никаких действий.</span><span class="sxs-lookup"><span data-stu-id="5dd87-128">The CNAME entry will resolve to the IP address of your **&lt;yourwebappname>.azurewebsites.net** domain name automatically, so if the IP address of the web app changes, you do not have to take any action.</span></span>

> [!NOTE]
> <span data-ttu-id="5dd87-129">Только некоторые регистраторы доменов позволяют при использовании записи CNAME сопоставлять поддомены, такие как **www.contoso.com**, а не корневые имена, такие как **contoso.com**.</span><span class="sxs-lookup"><span data-stu-id="5dd87-129">Some domain registrars only allow you to map subdomains when using a CNAME record, such as **www.contoso.com**, and not root names, such as **contoso.com**.</span></span> <span data-ttu-id="5dd87-130">Дополнительные сведения о записи CNAME см. в документации вашего регистратора, <a href="http://en.wikipedia.org/wiki/CNAME_record">статье в Википедии о записи CNAME</a> или в документе <a href="http://tools.ietf.org/html/rfc1035">Доменные имена IETF — реализация и спецификация</a>.</span><span class="sxs-lookup"><span data-stu-id="5dd87-130">For more information on CNAME records, see the documentation provided by your registrar, <a href="http://en.wikipedia.org/wiki/CNAME_record">the Wikipedia entry on CNAME record</a>, or the <a href="http://tools.ietf.org/html/rfc1035">IETF Domain Names - Implementation and Specification</a> document.</span></span>
> 
> 

### <a name="web-app-dns-specifics"></a><span data-ttu-id="5dd87-131">Особенности DNS веб-приложений</span><span class="sxs-lookup"><span data-stu-id="5dd87-131">Web app DNS specifics</span></span>
<span data-ttu-id="5dd87-132">Для использования записи A с веб-приложениями необходимо сначала создать одну из следующих записей типа TXT.</span><span class="sxs-lookup"><span data-stu-id="5dd87-132">Using an A record with Web Apps requires you to first create one of the following TXT records:</span></span>

* <span data-ttu-id="5dd87-133">**Для корневого домена** — запись DNS типа TXT **@** для **&lt;имя_веб-приложения&gt;.azurewebsites.net**.</span><span class="sxs-lookup"><span data-stu-id="5dd87-133">**For the root domain** - A DNS TXT record of **@** to  **&lt;yourwebappname&gt;.azurewebsites.net**.</span></span>
* <span data-ttu-id="5dd87-134">**Для конкретного поддомена** — DNS-имя **&lt;поддомен>** для **&lt;имя_веб-приложения&gt;.azurewebsites.net**.</span><span class="sxs-lookup"><span data-stu-id="5dd87-134">**For a specific sub-domain** - A DNS name of **&lt;sub-domain>** to **&lt;yourwebappname&gt;.azurewebsites.net**.</span></span> <span data-ttu-id="5dd87-135">Например, **blogs**, если запись A предназначена для **blogs.contoso.com**.</span><span class="sxs-lookup"><span data-stu-id="5dd87-135">For example, **blogs** if the A record is for **blogs.contoso.com**.</span></span>
* <span data-ttu-id="5dd87-136">**Для поддоменов с подстановочными знаками** — запись DNS типа TXT ***** для **&lt;имя_веб-приложения&gt;.azurewebsites.net**.</span><span class="sxs-lookup"><span data-stu-id="5dd87-136">**For the wildcard sub-dodmains** - A DNS TXT record of ***** to  **&lt;yourwebappname&gt;.azurewebsites.net**.</span></span>

<span data-ttu-id="5dd87-137">Эта запись типа TXT используется для проверки того, что вы являетесь владельцем домена, который пытаетесь использовать.</span><span class="sxs-lookup"><span data-stu-id="5dd87-137">This TXT record is used to verify that you own the domain you are attempting to use.</span></span> <span data-ttu-id="5dd87-138">Она создается в дополнение к записи A, указывающей на виртуальный IP-адрес вашего веб-приложения.</span><span class="sxs-lookup"><span data-stu-id="5dd87-138">This is in addition to creating an A record pointing to the virtual IP address of your web app.</span></span>

<span data-ttu-id="5dd87-139">Можно найти IP-адрес и имена **.azurewebsites.net** для своего веб-приложения, выполнив следующие действия.</span><span class="sxs-lookup"><span data-stu-id="5dd87-139">You can find the IP address and **.azurewebsites.net** names for your web app by performing the following steps:</span></span>

1. <span data-ttu-id="5dd87-140">В браузере откройте [портал Azure](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="5dd87-140">In your browser, open the [Azure Portal](https://portal.azure.com).</span></span>
2. <span data-ttu-id="5dd87-141">В колонке **Веб-приложения** щелкните имя веб-приложения и выберите **Личные домены** в нижней части страницы.</span><span class="sxs-lookup"><span data-stu-id="5dd87-141">In the **Web Apps** blade, click the name of your web app, and then select **Custom domains** from the bottom of the page.</span></span>
   
    ![](./media/custom-dns-web-site/dncmntask-cname-6.png)
3. <span data-ttu-id="5dd87-142">В колонке **Личные домены** вы увидите виртуальный IP-адрес.</span><span class="sxs-lookup"><span data-stu-id="5dd87-142">In the **Custom domains** blade, you will see the virtual IP address.</span></span> <span data-ttu-id="5dd87-143">Сохраните эти сведения, так как они будут использоваться при создании записей DNS.</span><span class="sxs-lookup"><span data-stu-id="5dd87-143">Save this information, as it will be used when creating DNS records</span></span>
   
    ![](./media/custom-dns-web-site/virtual-ip-address.png)
   
   > [!NOTE]
   > <span data-ttu-id="5dd87-144">Вы не можете использовать имена личных доменов в веб-приложении уровня **Бесплатный**. Необходимо обновить план службы приложений до уровня **Общий**, **Базовый**, **Стандартный** или **Премиум**.</span><span class="sxs-lookup"><span data-stu-id="5dd87-144">You cannot use custom domain names with a **Free** web app, and must upgrade the App Service plan to **Shared**, **Basic**, **Standard**, or **Premium** tier.</span></span> <span data-ttu-id="5dd87-145">Дополнительные сведения о ценовых категориях плана службы приложений, включая сведения о способах изменения ценовой категории веб-приложения, см. в статье [Увеличение масштаба приложения в Azure](../articles/app-service-web/web-sites-scale.md).</span><span class="sxs-lookup"><span data-stu-id="5dd87-145">For more information on the App Service plan's pricing tiers, including how to change the pricing tier of your web app, see [How to scale web apps](../articles/app-service-web/web-sites-scale.md).</span></span>
   > 
   > 

