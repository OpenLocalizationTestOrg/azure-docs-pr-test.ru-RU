# <a name="internet-of-things-security-architecture"></a><span data-ttu-id="398d2-101">Архитектура безопасности "Интернета вещей"</span><span class="sxs-lookup"><span data-stu-id="398d2-101">Internet of Things security architecture</span></span>
<span data-ttu-id="398d2-102">При разработке системы, является важным toounderstand hello потенциальных угроз toothat системы и соответствующим образом, добавьте соответствующие средства защиты, как разработан и архитектурой системы hello.</span><span class="sxs-lookup"><span data-stu-id="398d2-102">When designing a system, it is important toounderstand hello potential threats toothat system, and add appropriate defenses accordingly, as hello system is designed and architected.</span></span> <span data-ttu-id="398d2-103">Это особенно важно, toodesign hello продукта от начала hello с учетом безопасности, так как основные сведения о как злоумышленник может использовать возможности toocompromise системы помогает убедитесь, что соответствующие возможные способы устранения находятся на месте с начала hello.</span><span class="sxs-lookup"><span data-stu-id="398d2-103">It is particularly important toodesign hello product from hello start with security in mind because understanding how an attacker might be able toocompromise a system helps make sure appropriate mitigations are in place from hello beginning.</span></span> 

## <a name="security-starts-with-a-threat-model"></a><span data-ttu-id="398d2-104">Обеспечение безопасности начинается с рассмотрения модели рисков</span><span class="sxs-lookup"><span data-stu-id="398d2-104">Security starts with a threat model</span></span>
<span data-ttu-id="398d2-105">Microsoft времени использовал модели угроз для своих продуктов и сделал общедоступные процесс моделирования угроз hello компании.</span><span class="sxs-lookup"><span data-stu-id="398d2-105">Microsoft has long used threat models for its products and has made hello company’s threat modeling process publically available.</span></span> <span data-ttu-id="398d2-106">Hello опыт компании показано, что моделирования hello имеет непредвиденный преимущества за пределами hello немедленно понять типы угроз, которые являются hello большинство спецификаций.</span><span class="sxs-lookup"><span data-stu-id="398d2-106">hello company experience demonstrates that hello modelling has unexpected benefits beyond hello immediate understanding of what threats are hello most concerning.</span></span> <span data-ttu-id="398d2-107">Например он также создает лазейку открытую дискуссию с другими пользователями за пределами команды разработчиков hello, что может стать причиной toonew идеи и усовершенствования в продукте hello.</span><span class="sxs-lookup"><span data-stu-id="398d2-107">For example, it also creates an avenue for an open discussion with others outside hello development team, which can lead toonew ideas and improvements in hello product.</span></span>

<span data-ttu-id="398d2-108">Цель Hello моделирование угроз — toounderstand как злоумышленник может быть toocompromise возможности системы и убедитесь в том, что соответствующие исправления.</span><span class="sxs-lookup"><span data-stu-id="398d2-108">hello objective of threat modeling is toounderstand how an attacker might be able toocompromise a system and then make sure appropriate mitigations are in place.</span></span> <span data-ttu-id="398d2-109">Моделирование угроз принудительно исправлений tooconsider команды разработки hello предназначено hello системы, а не после развертывания системы.</span><span class="sxs-lookup"><span data-stu-id="398d2-109">Threat modeling forces hello design team tooconsider mitigations as hello system is designed rather than after a system is deployed.</span></span> <span data-ttu-id="398d2-110">Этот факт крайне важно, поскольку модернизации tooa множество способов защиты безопасности устройства в поле hello невозможна, ошибкам и будет закрыто клиенты под угрозой.</span><span class="sxs-lookup"><span data-stu-id="398d2-110">This fact is critically important, because retrofitting security defenses tooa myriad of devices in hello field is infeasible, error prone and will leave customers at risk.</span></span>

<span data-ttu-id="398d2-111">Во многих коллективах выполните задание отлично захват hello функциональные требования к системе hello, представляющие выгоду клиентов.</span><span class="sxs-lookup"><span data-stu-id="398d2-111">Many development teams do an excellent job capturing hello functional requirements for hello system that benefit customers.</span></span> <span data-ttu-id="398d2-112">Однако определение неочевидным способами, что кто-то может неправильно использовать hello системы является более сложной задачей.</span><span class="sxs-lookup"><span data-stu-id="398d2-112">However, identifying non-obvious ways that someone might misuse hello system is more challenging.</span></span> <span data-ttu-id="398d2-113">Моделирование рисков помогает командам разработки понять, что может сделать злоумышленник и почему.</span><span class="sxs-lookup"><span data-stu-id="398d2-113">Threat modeling can help development teams understand what an attacker might do and why.</span></span> <span data-ttu-id="398d2-114">Моделирование угроз-это структурированный процесс, который создает обсуждение безопасности hello проектные решения в системе hello, а также разработки toohello изменения, произведенные вдоль hello образом влиять на безопасность.</span><span class="sxs-lookup"><span data-stu-id="398d2-114">Threat modeling is a structured process that creates a discussion about hello security design decisions in hello system, as well as changes toohello design that are made along hello way that impact security.</span></span> <span data-ttu-id="398d2-115">Хотя модели угроз является просто документа, эта документация также представляет идеальным способом непрерывность tooensure знаний хранения занятий было рассмотрено и помочь быстро освоить создание группы.</span><span class="sxs-lookup"><span data-stu-id="398d2-115">While a threat model is simply a document, this documentation also represents an ideal way tooensure continuity of knowledge, retention of lessons learned, and help new team onboard rapidly.</span></span> <span data-ttu-id="398d2-116">Наконец, с результатом моделирование угроз состоит tooenable вы tooconsider другие аспекты безопасности, например какие обязательства безопасности нужно tooprovide tooyour клиентов.</span><span class="sxs-lookup"><span data-stu-id="398d2-116">Finally, an outcome of threat modeling is tooenable you tooconsider other aspects of security, such as what security commitments you wish tooprovide tooyour customers.</span></span> <span data-ttu-id="398d2-117">В сочетании с моделированием рисков эти обязательства обеспечат осведомленность устройства при тестировании решения "Интернета вещей" (IoT).</span><span class="sxs-lookup"><span data-stu-id="398d2-117">These commitments in conjunction with threat modeling will inform and drive testing of your Internet of Things (IoT) solution.</span></span>

### <a name="when-toothreat-model"></a><span data-ttu-id="398d2-118">Когда toothreat модели</span><span class="sxs-lookup"><span data-stu-id="398d2-118">When toothreat model</span></span>
<span data-ttu-id="398d2-119">[Моделирование угроз](http://www.microsoft.com/security/sdl/adopt/threatmodeling.aspx) предложения hello максимальное значение, если он является частью этапа проектирования hello.</span><span class="sxs-lookup"><span data-stu-id="398d2-119">[Threat modeling](http://www.microsoft.com/security/sdl/adopt/threatmodeling.aspx) offers hello greatest value if it is incorporated into hello design phase.</span></span> <span data-ttu-id="398d2-120">При разработке, имеется hello наибольшую гибкость toomake изменения tooeliminate угроз.</span><span class="sxs-lookup"><span data-stu-id="398d2-120">When you are designing, you have hello greatest flexibility toomake changes tooeliminate threats.</span></span> <span data-ttu-id="398d2-121">Устранение угроз путем разработки — hello желаемого результата.</span><span class="sxs-lookup"><span data-stu-id="398d2-121">Eliminating threats by design is hello desired outcome.</span></span> <span data-ttu-id="398d2-122">Это гораздо проще, чем добавлять средства устранения рисков, тестировать их и поддерживать их актуальность. Кроме того, не всегда возможно все это сделать.</span><span class="sxs-lookup"><span data-stu-id="398d2-122">It is much easier than adding mitigations, testing them, and ensuring they remain current and moreover, such elimination is not always possible.</span></span> <span data-ttu-id="398d2-123">Оно становится сложнее tooeliminate угроз продукта становится более устаревшие и в свою очередь будет в конечном счете требует больше работы и компромиссы гораздо сложнее, чем на раннем этапе моделирования в разработке hello угроз.</span><span class="sxs-lookup"><span data-stu-id="398d2-123">It becomes harder tooeliminate threats as a product becomes more mature, and in turn will ultimately require more work and a lot harder tradeoffs than threat modeling early on in hello development.</span></span>

### <a name="what-toothreat-model"></a><span data-ttu-id="398d2-124">Какая модель toothreat</span><span class="sxs-lookup"><span data-stu-id="398d2-124">What toothreat model</span></span>
<span data-ttu-id="398d2-125">Решение hello модели в целом, а также фокуса в следующих областях hello следует потока:</span><span class="sxs-lookup"><span data-stu-id="398d2-125">You should thread model hello solution as a whole and also focus in hello following areas:</span></span>

* <span data-ttu-id="398d2-126">средства безопасности и конфиденциальности Hello</span><span class="sxs-lookup"><span data-stu-id="398d2-126">hello security and privacy features</span></span>
* <span data-ttu-id="398d2-127">функции Hello, сбои, соответствующие безопасности</span><span class="sxs-lookup"><span data-stu-id="398d2-127">hello features whose failures are security relevant</span></span>
* <span data-ttu-id="398d2-128">функции Hello, которые граничат с доверия</span><span class="sxs-lookup"><span data-stu-id="398d2-128">hello features that touch a trust boundary</span></span> 

### <a name="who-threat-models"></a><span data-ttu-id="398d2-129">Кому следует моделировать риски</span><span class="sxs-lookup"><span data-stu-id="398d2-129">Who threat models</span></span>
<span data-ttu-id="398d2-130">Моделирование рисков — такой же процесс, как и все остальные.</span><span class="sxs-lookup"><span data-stu-id="398d2-130">Threat modeling is a process like any other.</span></span>  <span data-ttu-id="398d2-131">Он рекомендуется tootreat hello документе модели угроз как и любой другой компонент hello решения и его проверки.</span><span class="sxs-lookup"><span data-stu-id="398d2-131">It is a good idea tootreat hello threat model document like any other component of hello solution and validate it.</span></span> <span data-ttu-id="398d2-132">Во многих коллективах выполните задание отлично захват hello функциональные требования к системе hello, представляющие выгоду клиентов.</span><span class="sxs-lookup"><span data-stu-id="398d2-132">Many development teams do an excellent job capturing hello functional requirements for hello system that benefit customers.</span></span> <span data-ttu-id="398d2-133">Однако определение неочевидным способами, что кто-то может неправильно использовать hello системы является более сложной задачей.</span><span class="sxs-lookup"><span data-stu-id="398d2-133">However, identifying non-obvious ways that someone might misuse hello system is more challenging.</span></span> <span data-ttu-id="398d2-134">Моделирование рисков помогает командам разработки понять, что может сделать злоумышленник и почему.</span><span class="sxs-lookup"><span data-stu-id="398d2-134">Threat modeling can help development teams understand what an attacker might do and why.</span></span>

### <a name="how-toothreat-model"></a><span data-ttu-id="398d2-135">Как toothreat модели</span><span class="sxs-lookup"><span data-stu-id="398d2-135">How toothreat model</span></span>
<span data-ttu-id="398d2-136">процесс моделирования угроз Hello состоит из четырех шагов; Привет, необходимо:</span><span class="sxs-lookup"><span data-stu-id="398d2-136">hello threat modeling process is composed of four steps; hello steps are:</span></span>

* <span data-ttu-id="398d2-137">Приложение hello модели</span><span class="sxs-lookup"><span data-stu-id="398d2-137">Model hello application</span></span>
* <span data-ttu-id="398d2-138">создание списка угроз;</span><span class="sxs-lookup"><span data-stu-id="398d2-138">Enumerate Threats</span></span>
* <span data-ttu-id="398d2-139">устранение рисков;</span><span class="sxs-lookup"><span data-stu-id="398d2-139">Mitigate threats</span></span>
* <span data-ttu-id="398d2-140">Проверка исправления hello</span><span class="sxs-lookup"><span data-stu-id="398d2-140">Validate hello mitigations</span></span>

#### <a name="hello-process-steps"></a><span data-ttu-id="398d2-141">этапы процесса Hello</span><span class="sxs-lookup"><span data-stu-id="398d2-141">hello process steps</span></span>
<span data-ttu-id="398d2-142">Три правила tookeep помнить при построении модели угроз:</span><span class="sxs-lookup"><span data-stu-id="398d2-142">Three rules of thumb tookeep in mind when building a threat model:</span></span>

1. <span data-ttu-id="398d2-143">Создайте схему на основе эталонной архитектуры.</span><span class="sxs-lookup"><span data-stu-id="398d2-143">Create a diagram out of reference architecture.</span></span> 
2. <span data-ttu-id="398d2-144">Начните с обзора.</span><span class="sxs-lookup"><span data-stu-id="398d2-144">Start breadth-first.</span></span> <span data-ttu-id="398d2-145">Обзор и понять hello системы в целом, прежде чем углубляться глубиной.</span><span class="sxs-lookup"><span data-stu-id="398d2-145">Get an overview, and understand hello system as a whole, before deep-diving.</span></span>  <span data-ttu-id="398d2-146">Чтобы обеспечить вам глубокое погружение в правом hello помещает.</span><span class="sxs-lookup"><span data-stu-id="398d2-146">This helps ensure that you deep-dive in hello right places.</span></span>
3. <span data-ttu-id="398d2-147">Диск hello процесса, не позволяя процесса hello диск.</span><span class="sxs-lookup"><span data-stu-id="398d2-147">Drive hello process, don’t let hello process drive you.</span></span> <span data-ttu-id="398d2-148">Если вы обнаруживаете проблему в hello фазы моделирования и tooexplore его, откройте для него!</span><span class="sxs-lookup"><span data-stu-id="398d2-148">If you find an issue in hello modeling phase and want tooexplore it, go for it!</span></span>  <span data-ttu-id="398d2-149">Вы не его необходимо toofollow slavishly следующие действия.</span><span class="sxs-lookup"><span data-stu-id="398d2-149">Don’t feel you need toofollow these steps slavishly.</span></span>  

#### <a name="threats"></a><span data-ttu-id="398d2-150">Риски</span><span class="sxs-lookup"><span data-stu-id="398d2-150">Threats</span></span>
<span data-ttu-id="398d2-151">Ниже приведены Hello четыре основные элементы модели угроз.</span><span class="sxs-lookup"><span data-stu-id="398d2-151">hello four core elements of a threat model are:</span></span>

* <span data-ttu-id="398d2-152">процессы (веб-служб, служб Win32, управляющих программ *nix и т. д.). Обратите внимание, что некоторые сложные сущности (например, полевые шлюзы и датчики) могут быть абстрагированы в качестве процессов, если в соответствующих областях невозможна техническая детализация.</span><span class="sxs-lookup"><span data-stu-id="398d2-152">Processes (web services, Win32 services, *nix daemons, etc. Note that some complex entities (for example field gateways and sensors) can be abstracted as a process when a technical drill down in these areas is not possible.</span></span>
* <span data-ttu-id="398d2-153">хранилища данных (любые места хранения данных, например файлы конфигурации или базы данных);</span><span class="sxs-lookup"><span data-stu-id="398d2-153">Data stores (anywhere data is stored, such as a configuration file or database)</span></span>
* <span data-ttu-id="398d2-154">Поток данных (где перемещения данных между другими элементами приложения hello)</span><span class="sxs-lookup"><span data-stu-id="398d2-154">Data flow (where data moves between other elements in hello application)</span></span>
* <span data-ttu-id="398d2-155">Внешние сущности (ничего, взаимодействующего с системой hello, но не находится под управлением hello приложения hello, среди них пользователей и вспомогательные веб-каналов)</span><span class="sxs-lookup"><span data-stu-id="398d2-155">External Entities (anything that interacts with hello system, but is not under hello control of hello application, examples include users and satellite feeds)</span></span>

<span data-ttu-id="398d2-156">Все элементы в Архитектурная схема hello, тема toovarious угроз; Мы будем использовать назначенный STRIDE hello.</span><span class="sxs-lookup"><span data-stu-id="398d2-156">All elements in hello architectural diagram are subject toovarious threats; we will use hello STRIDE mnemonic.</span></span> <span data-ttu-id="398d2-157">Чтение [угроз моделирования снова, STRIDE](https://blogs.msdn.microsoft.com/larryosterman/2007/09/04/threat-modeling-again-stride/) tooknow Дополнительные об элементах STRIDE hello.</span><span class="sxs-lookup"><span data-stu-id="398d2-157">Read [Threat Modeling Again, STRIDE](https://blogs.msdn.microsoft.com/larryosterman/2007/09/04/threat-modeling-again-stride/) tooknow more about hello STRIDE elements.</span></span>

<span data-ttu-id="398d2-158">Различные элементы схемы приложения hello, угроз STRIDE toocertain субъекта:</span><span class="sxs-lookup"><span data-stu-id="398d2-158">Different elements of hello application diagram are subject toocertain STRIDE threats:</span></span>

* <span data-ttu-id="398d2-159">Процессы, tooSTRIDE субъекта</span><span class="sxs-lookup"><span data-stu-id="398d2-159">Processes are subject tooSTRIDE</span></span>
* <span data-ttu-id="398d2-160">Потоки данных находятся tooTID субъекта</span><span class="sxs-lookup"><span data-stu-id="398d2-160">Data flows are subject tooTID</span></span>
* <span data-ttu-id="398d2-161">Хранилищ данных являются tooTID субъекта, а иногда R, если hello хранилищ данных файлов журналов.</span><span class="sxs-lookup"><span data-stu-id="398d2-161">Data stores are subject tooTID, and sometimes R, if hello data stores are log files.</span></span>
* <span data-ttu-id="398d2-162">Внешние сущности являются tooSRD субъекта</span><span class="sxs-lookup"><span data-stu-id="398d2-162">External entities are subject tooSRD</span></span>

## <a name="security-in-iot"></a><span data-ttu-id="398d2-163">Безопасность в IoT</span><span class="sxs-lookup"><span data-stu-id="398d2-163">Security in IoT</span></span>
<span data-ttu-id="398d2-164">Подключенные устройства специального назначения имеют значительное количество потенциальных взаимодействия контактную зону и используемых для взаимодействия, все они должны рассматриваться как tooprovide framework защиты цифровой доступа toothose устройств.</span><span class="sxs-lookup"><span data-stu-id="398d2-164">Connected special-purpose devices have a significant number of potential interaction surface areas and interaction patterns, all of which must be considered tooprovide a framework for securing digital access toothose devices.</span></span> <span data-ttu-id="398d2-165">Hello термин «цифровой доступ» — используется здесь toodistinguish из любой операции, которые выполняются через взаимодействие устройства с прямым, где безопасности доступ предоставляется через контроль физического доступа.</span><span class="sxs-lookup"><span data-stu-id="398d2-165">hello term “digital access” is used here toodistinguish from any operations that are carried out through direct device interaction where access security is provided through physical access control.</span></span> <span data-ttu-id="398d2-166">Например размещение устройства hello в комнату с блокировкой на дверцу hello.</span><span class="sxs-lookup"><span data-stu-id="398d2-166">For example, putting hello device into a room with a lock on hello door.</span></span> <span data-ttu-id="398d2-167">Хотя физического доступа не может быть отменен с помощью программного обеспечения и оборудования, измерения могут быть взяты tooprevent физический доступ от ведущих toosystem помех.</span><span class="sxs-lookup"><span data-stu-id="398d2-167">While physical access cannot be denied using software and hardware, measures can be taken tooprevent physical access from leading toosystem interference.</span></span> 

<span data-ttu-id="398d2-168">Узнаем, используемых для взаимодействия hello, мы рассмотрим «управление устройствами» и «устройство данных» с hello таким же уровнем вмешательства.</span><span class="sxs-lookup"><span data-stu-id="398d2-168">As we explore hello interaction patterns, we will look at “device control” and “device data” with hello same level of attention.</span></span> <span data-ttu-id="398d2-169">«Управление устройствами» можно классифицировать как любые сведения, предоставляемые устройства tooa какой-либо стороной hello целью которых является изменение или оказание влияния на поведение сторону ее состояние или состояния hello в его среде.</span><span class="sxs-lookup"><span data-stu-id="398d2-169">“Device control” can be classified as any information that is provided tooa device by any party with hello goal of changing or influencing its behavior towards its state or hello state of its environment.</span></span> <span data-ttu-id="398d2-170">«Устройство данных» можно классифицировать как любую информацию, устройство выдает tooany другая сторона о ее состоянии и hello наблюдаемое состояние среды.</span><span class="sxs-lookup"><span data-stu-id="398d2-170">“Device data” can be classified as any information that a device emits tooany other party about its state and hello observed state of its environment.</span></span>

<span data-ttu-id="398d2-171">В порядке toooptimize рекомендации по обеспечению безопасности рекомендуется разделить типичную архитектуру IoT на несколько компонентов и зон в рамках hello по моделированию угроз.</span><span class="sxs-lookup"><span data-stu-id="398d2-171">In order toooptimize security best practices, it is recommended that a typical IoT architecture be divided into several component/zones as part of hello threat modeling exercise.</span></span> <span data-ttu-id="398d2-172">Эти зоны подробно описаны в этом разделе и включают в себя:</span><span class="sxs-lookup"><span data-stu-id="398d2-172">These zones are described fully throughout this section and include:</span></span>

* <span data-ttu-id="398d2-173">устройство;</span><span class="sxs-lookup"><span data-stu-id="398d2-173">Device,</span></span>
* <span data-ttu-id="398d2-174">полевой шлюз;</span><span class="sxs-lookup"><span data-stu-id="398d2-174">Field Gateway,</span></span>
* <span data-ttu-id="398d2-175">облачные шлюзы;</span><span class="sxs-lookup"><span data-stu-id="398d2-175">Cloud gateways, and</span></span>
* <span data-ttu-id="398d2-176">утверждения.</span><span class="sxs-lookup"><span data-stu-id="398d2-176">Services.</span></span>

<span data-ttu-id="398d2-177">Зоны — широкий toosegment способом решения; Каждая зона часто имеет собственные требования к данных проверки подлинности и авторизации.</span><span class="sxs-lookup"><span data-stu-id="398d2-177">Zones are broad way toosegment a solution; each zone often has its own data and authentication and authorization requirements.</span></span> <span data-ttu-id="398d2-178">Зоны также могут использоваться tooisolation повреждать и ограничить влияние hello зон низкий уровень доверия в более поздней версии зоны доверия.</span><span class="sxs-lookup"><span data-stu-id="398d2-178">Zones can also be used tooisolation damage and restrict hello impact of low trust zones on higher trust zones.</span></span>

<span data-ttu-id="398d2-179">Каждая зона отделяется границы доверия, который отмечен как hello пунктирные красной линией в приведенной ниже схеме hello.</span><span class="sxs-lookup"><span data-stu-id="398d2-179">Each zone is separated by a Trust Boundary, which is noted as hello dotted red line in hello diagram below.</span></span> <span data-ttu-id="398d2-180">Он представляет переход сведения о данных из одного источника tooanother.</span><span class="sxs-lookup"><span data-stu-id="398d2-180">It represents a transition of data/information from one source tooanother.</span></span> <span data-ttu-id="398d2-181">Во время этой транзакции hello данных может быть tooSpoofing субъекта, мошенничество, отказ, раскрытие информации, отказ в обслуживании и повышение прав доступа (STRIDE).</span><span class="sxs-lookup"><span data-stu-id="398d2-181">During this transition, hello data/information could be subject tooSpoofing, Tampering, Repudiation, Information Disclosure, Denial of Service and Elevation of Privilege (STRIDE).</span></span>

![Зоны безопасности IoT](media/iot-security-architecture/iot-security-architecture-fig1.png) 

<span data-ttu-id="398d2-183">Hello компоненты, используемые в пределах каждой границы, также подвергается tooSTRIDE, включение полного 360 представление hello решения моделирования угроз.</span><span class="sxs-lookup"><span data-stu-id="398d2-183">hello components depicted within each boundary are also subjected tooSTRIDE, enabling a full 360 threat modeling view of hello solution.</span></span> <span data-ttu-id="398d2-184">Hello приведенных ниже разделах содержатся сведения по каждому из компонентов hello и вопросы безопасности и решений, которые должны быть помещены в месте.</span><span class="sxs-lookup"><span data-stu-id="398d2-184">hello sections below elaborate on each of hello components and specific security concerns and solutions that should be put into place.</span></span>

<span data-ttu-id="398d2-185">Hello выполняемые будет разделах стандартных компонентов, которые обычно находятся в этих зон.</span><span class="sxs-lookup"><span data-stu-id="398d2-185">hello sections that follows will discuss standard components typically found in these zones.</span></span>

### <a name="hello-device-zone"></a><span data-ttu-id="398d2-186">Hello пояс устройства</span><span class="sxs-lookup"><span data-stu-id="398d2-186">hello Device Zone</span></span>
<span data-ttu-id="398d2-187">Hello среда устройств — hello немедленно физическое пространство вокруг hello устройство, где физический доступ и/или цифровая подпись для одноранговых «локальной сети» доступ к toohello целесообразен устройства.</span><span class="sxs-lookup"><span data-stu-id="398d2-187">hello device environment is hello immediate physical space around hello device where physical access and/or “local network” peer-to-peer digital access toohello device is feasible.</span></span> <span data-ttu-id="398d2-188">«Локальная сеть» полагается toobe сети, которая является отдельным каталогом, изолированная от –, но потенциально создания моста слишком hello — общедоступный Интернет и включает в себя любой технологии радиосвязи ближнего действия, который позволяет поддерживать связь одноранговая сеть устройств.</span><span class="sxs-lookup"><span data-stu-id="398d2-188">A “local network” is assumed toobe a network that is distinct and insulated from – but potentially bridged too– hello public Internet, and includes any short-range wireless radio technology that permits peer-to-peer communication of devices.</span></span> <span data-ttu-id="398d2-189">Это осуществляется *не* включают любой технологии виртуализации сети, создание hello иллюзию локальной сети и также не включает открытый оператор сети, которые требуют toocommunicate любые два устройства по пространству общедоступной сети Если бы они были tooenter для одноранговых связью.</span><span class="sxs-lookup"><span data-stu-id="398d2-189">It does *not* include any network virtualization technology creating hello illusion of such a local network and it does also not include public operator networks that require any two devices toocommunicate across public network space if they were tooenter a peer-to-peer communication relationship.</span></span>

### <a name="hello-field-gateway-zone"></a><span data-ttu-id="398d2-190">Hello шлюз поля</span><span class="sxs-lookup"><span data-stu-id="398d2-190">hello Field Gateway Zone</span></span>
<span data-ttu-id="398d2-191">Полевой шлюз — это устройство, программное обеспечение или серверное программное обеспечение общего назначения, которое служит средством реализации обмена данными, а также, по возможности, системой управления устройствами и центром обработки данных, получаемых от устройств.</span><span class="sxs-lookup"><span data-stu-id="398d2-191">Field gateway is a device/appliance or some general-purpose server computer software that acts as communication enabler and, potentially, as a device control system and device data processing hub.</span></span> <span data-ttu-id="398d2-192">шлюз поля Hello включает сам шлюз поля hello и все устройства, присоединенного tooit.</span><span class="sxs-lookup"><span data-stu-id="398d2-192">hello field gateway zone includes hello field gateway itself and all devices that are attached tooit.</span></span> <span data-ttu-id="398d2-193">Как hello названия шлюзы поля работают средства вне целевой обработки данных, обычно являются расположение привязано, являются потенциально вторжений toophysical субъекта и будет ограничен оперативной избыточности.</span><span class="sxs-lookup"><span data-stu-id="398d2-193">As hello name implies, field gateways act outside dedicated data processing facilities, are usually location bound, are potentially subject toophysical intrusion, and will have limited operational redundancy.</span></span> <span data-ttu-id="398d2-194">Все toosay, шлюз поля обычно вещь один можно touch и всякой при этом знать, какова его функции.</span><span class="sxs-lookup"><span data-stu-id="398d2-194">All toosay that a field gateway is commonly a thing one can touch and sabotage while knowing what its function is.</span></span> 

<span data-ttu-id="398d2-195">Полевой шлюз отличается от обычного маршрутизатора трафика тем, что ему отведена активная роль в управлении доступом и передачей информации. Это значит, что он является ориентированным на приложения объектом, а также терминалом сетевых подключений или сеансов.</span><span class="sxs-lookup"><span data-stu-id="398d2-195">A field gateway is different from a mere traffic router in that it has had an active role in managing access and information flow, meaning it is an application addressed entity and network connection or session terminal.</span></span> <span data-ttu-id="398d2-196">Устройства преобразования сетевых адресов и брандмауэры, напротив, не могут считаться полевыми шлюзами, так как они не являются явными терминалами подключений или сеансов. Они просто маршрутизируют (или блокируют) подключения или сеансы, которые осуществляются через них.</span><span class="sxs-lookup"><span data-stu-id="398d2-196">An NAT device or firewall, in contrast, do not qualify as field gateways since they are not explicit connection or session terminals, but rather a route (or block) connections or sessions made through them.</span></span> <span data-ttu-id="398d2-197">шлюз поля Hello имеет две области поверхности.</span><span class="sxs-lookup"><span data-stu-id="398d2-197">hello field gateway has two distinct surface areas.</span></span> <span data-ttu-id="398d2-198">Один направлена hello устройства, присоединенные tooit и представляет hello внутри зоны hello и hello других сталкивается все внешние стороны и стороны hello hello зоны.</span><span class="sxs-lookup"><span data-stu-id="398d2-198">One faces hello devices that are attached tooit and represents hello inside of hello zone, and hello other faces all external parties and is hello edge of hello zone.</span></span>   

### <a name="hello-cloud-gateway-zone"></a><span data-ttu-id="398d2-199">зоны шлюза Hello облака</span><span class="sxs-lookup"><span data-stu-id="398d2-199">hello cloud gateway zone</span></span>
<span data-ttu-id="398d2-200">Шлюз облачной — систему, позволяющую удаленного обмена данными из и шлюзы toodevices или поле в различные сайты по пространству общедоступной сети, обычно к облачного управления и данных анализа системы, федерации таких систем.</span><span class="sxs-lookup"><span data-stu-id="398d2-200">Cloud gateway is a system that enables remote communication from and toodevices or field gateways from several different sites across public network space, typically towards a cloud-based control and data analysis system, a federation of such systems.</span></span> <span data-ttu-id="398d2-201">В некоторых случаях шлюз облака немедленно может упростить доступ к устройствам toospecial цели из терминалы, таких как планшеты или телефоны.</span><span class="sxs-lookup"><span data-stu-id="398d2-201">In some cases, a cloud gateway may immediately facilitate access toospecial-purpose devices from terminals such as tablets or phones.</span></span> <span data-ttu-id="398d2-202">В контексте hello описанные здесь «облака» предназначена toorefer tooa выделенной обработки данных системы, не привязанные toohello же сайта как hello подключенные устройства или шлюзы поля.</span><span class="sxs-lookup"><span data-stu-id="398d2-202">In hello context discussed here, “cloud” is meant toorefer tooa dedicated data processing system that is not bound toohello same site as hello attached devices or field gateways.</span></span> <span data-ttu-id="398d2-203">Также в зоне облака оперативной меры предотвратить целевой физический доступ и не обязательно предоставляется tooa инфраструктуры «общедоступное облако».</span><span class="sxs-lookup"><span data-stu-id="398d2-203">Also in a Cloud Zone, operational measures prevent targeted physical access and is not necessarily exposed tooa “public cloud” infrastructure.</span></span>  

<span data-ttu-id="398d2-204">Шлюз облака потенциально могут быть сопоставлены в шлюз виртуализации сети наложения tooinsulate hello облака и все подключенные устройства или шлюзы поля из любой сетевой трафик.</span><span class="sxs-lookup"><span data-stu-id="398d2-204">A cloud gateway may potentially be mapped into a network virtualization overlay tooinsulate hello cloud gateway and all of its attached devices or field gateways from any other network traffic.</span></span> <span data-ttu-id="398d2-205">сам шлюз облачной Hello не является ни в системе управления устройствами, ни обработки ни средств хранения для данных устройств; Эти средства интерфейса со шлюзом облака hello.</span><span class="sxs-lookup"><span data-stu-id="398d2-205">hello cloud gateway itself is neither a device control system nor a processing or storage facility for device data; those facilities interface with hello cloud gateway.</span></span> <span data-ttu-id="398d2-206">Зона шлюза облака Hello включает hello облака самого шлюза и все шлюзы поля и устройства, прямо или косвенно подключены tooit.</span><span class="sxs-lookup"><span data-stu-id="398d2-206">hello cloud gateway zone includes hello cloud gateway itself along with all field gateways and devices directly or indirectly attached tooit.</span></span> <span data-ttu-id="398d2-207">Hello Граница зоны hello является distinct контактную зону, где все внешние стороны взаимодействуют через.</span><span class="sxs-lookup"><span data-stu-id="398d2-207">hello edge of hello zone is a distinct surface area where all external parties communicate through.</span></span>

### <a name="hello-services-zone"></a><span data-ttu-id="398d2-208">зоны службы Hello</span><span class="sxs-lookup"><span data-stu-id="398d2-208">hello services zone</span></span>
<span data-ttu-id="398d2-209">В этом контексте служба — это любой программный компонент или модуль, который взаимодействует с устройствами через полевой или облачный шлюз, чтобы собирать и анализировать данные, а также обеспечивать управление и контроль.</span><span class="sxs-lookup"><span data-stu-id="398d2-209">A “service” is defined for this context as any software component or module that is interfacing with devices through a field- or cloud gateway for data collection and analysis, as well as for command and control.</span></span>  <span data-ttu-id="398d2-210">Службы представляют собой посредников.</span><span class="sxs-lookup"><span data-stu-id="398d2-210">Services are mediators.</span></span> <span data-ttu-id="398d2-211">Они действуют удостоверением по направлению к шлюзам и других подсистем, хранения и анализа данных, автономно toodevices проблема команд на основе данных, полученных или расписания и предоставления информации и управления tooauthorized возможности конечных пользователей.</span><span class="sxs-lookup"><span data-stu-id="398d2-211">They act under their identity towards gateways and other subsystems, store and analyze data, autonomously issue commands toodevices based on data insights or schedules and expose information and control capabilities tooauthorized end-users.</span></span>

### <a name="information-devices-vs-special-purpose-devices"></a><span data-ttu-id="398d2-212">Информационные и специализированные устройства</span><span class="sxs-lookup"><span data-stu-id="398d2-212">Information-devices vs. special-purpose devices</span></span>
<span data-ttu-id="398d2-213">ПК, телефоны и планшеты — преимущественно интерактивные информационные устройства.</span><span class="sxs-lookup"><span data-stu-id="398d2-213">PCs, phones, and tablets are primarily interactive information devices.</span></span> <span data-ttu-id="398d2-214">Телефоны и планшеты явно оптимизированы для увеличения времени работы от батареи.</span><span class="sxs-lookup"><span data-stu-id="398d2-214">Phones and tablets are explicitly optimized around maximizing battery lifetime.</span></span> <span data-ttu-id="398d2-215">Они лучше отключить частично при взаимодействии не сразу с человеком или не обеспечивает таких служб, как воспроизведение музыкальных или руководить их владельца tooa определенного расположения.</span><span class="sxs-lookup"><span data-stu-id="398d2-215">They preferably turn off partially when not immediately interacting with a person, or when not providing services like playing music or guiding their owner tooa particular location.</span></span> <span data-ttu-id="398d2-216">С точки зрения системы люди используют эти информационно-технологические устройства преимущественно в качестве прокси.</span><span class="sxs-lookup"><span data-stu-id="398d2-216">From a systems perspective, these information technology devices are mainly acting as proxies towards people.</span></span> <span data-ttu-id="398d2-217">Они являются воздействующими устройствами, предлагающими действия, и датчиками, которые собирают входные данные.</span><span class="sxs-lookup"><span data-stu-id="398d2-217">They are “people actuators” suggesting actions and “people sensors” collecting input.</span></span> 

<span data-ttu-id="398d2-218">Специальные устройства, из строк рабочей фабрики toocomplex датчики температуры простой с тысячами компонентов внутри них, отличаются.</span><span class="sxs-lookup"><span data-stu-id="398d2-218">Special-purpose devices, from simple temperature sensors toocomplex factory production lines with thousands of components inside them, are different.</span></span> <span data-ttu-id="398d2-219">Эти устройства намного более инкапсулированы в целях и даже если они предоставляют некоторые элементы интерфейса пользователя, они во многом области toointerfacing с или интегрировать Здравствуй, мир! физических ресурсов.</span><span class="sxs-lookup"><span data-stu-id="398d2-219">These devices are much more scoped in purpose and even if they provide some user interface, they are largely scoped toointerfacing with or be integrated into assets in hello physical world.</span></span> <span data-ttu-id="398d2-220">Они измеряют данные окружающей среды и создают отчеты о них, включают клапаны, контролируют работу сервосистемы, подают звуковые сигналы, переключают индикаторы и выполняют множество других задач.</span><span class="sxs-lookup"><span data-stu-id="398d2-220">They measure and report environmental circumstances, turn valves, control servos, sound alarms, switch lights, and do many other tasks.</span></span> <span data-ttu-id="398d2-221">Они помогут работать toodo устройство сведения которых слишком общий, слишком затратными, слишком большой или слишком неустойчивыми.</span><span class="sxs-lookup"><span data-stu-id="398d2-221">They help toodo work for which an information device is either too generic, too expensive, too big, or too brittle.</span></span> <span data-ttu-id="398d2-222">конкретная цель Hello немедленно определяет их технических проектных как хорошо hello доступный денежных бюджет для их производства и запланированное время существования операции.</span><span class="sxs-lookup"><span data-stu-id="398d2-222">hello concrete purpose immediately dictates their technical design as well hello available monetary budget for their production and scheduled lifetime operation.</span></span> <span data-ttu-id="398d2-223">Hello сочетание этих двух ключевых факторов ограничивает hello доступной оперативной энергии бюджета, физической памяти и, таким образом, доступное хранилище вычислений и функциональные возможности безопасности.</span><span class="sxs-lookup"><span data-stu-id="398d2-223">hello combination of these two key factors constrains hello available operational energy budget, physical footprint, and thus available storage, compute, and security capabilities.</span></span>  

<span data-ttu-id="398d2-224">Если что-либо «переходит неправильный» с автоматической или удаленной управляемыми устройствами, например, физических дефектов или toowillful дефектов логики управления несанкционированного вскрытия и обработка данных.</span><span class="sxs-lookup"><span data-stu-id="398d2-224">If something “goes wrong” with automated or remote controllable devices, for example, physical defects or control logic defects toowillful unauthorized intrusion and manipulation.</span></span> <span data-ttu-id="398d2-225">может удалиться Hello производственных большого здания может looted или записать и пользователей может быть травмированной или даже кристалле.</span><span class="sxs-lookup"><span data-stu-id="398d2-225">hello production lots may be destroyed, buildings may be looted or burned down, and people may be injured or even die.</span></span> <span data-ttu-id="398d2-226">Конечно, этот тип ущерба кардинально отличается от превышения лимита на украденной кредитной карте.</span><span class="sxs-lookup"><span data-stu-id="398d2-226">This is, of course, a whole different class of damage than someone maxing out a stolen credit card's limit.</span></span> <span data-ttu-id="398d2-227">Hello панель безопасности для устройств, которые упростить перемещение, а также для датчиков, в конечном итоге результаты в командах, которые вызывают toomove действия должен быть выше какой-либо электронной коммерции или сценарии.</span><span class="sxs-lookup"><span data-stu-id="398d2-227">hello security bar for devices that make things move, and also for sensor data that eventually results in commands that cause things toomove, must be higher than in any e-commerce or banking scenario.</span></span> 

### <a name="device-control-and-device-data-interactions"></a><span data-ttu-id="398d2-228">Взаимодействие контроля устройства и данных устройства</span><span class="sxs-lookup"><span data-stu-id="398d2-228">Device control and device data interactions</span></span>
<span data-ttu-id="398d2-229">Подключенные устройства специального назначения имеют значительное количество потенциальных взаимодействия контактную зону и используемых для взаимодействия, все они должны рассматриваться как tooprovide framework защиты цифровой доступа toothose устройств.</span><span class="sxs-lookup"><span data-stu-id="398d2-229">Connected special-purpose devices have a significant number of potential interaction surface areas and interaction patterns, all of which must be considered tooprovide a framework for securing digital access toothose devices.</span></span> <span data-ttu-id="398d2-230">Hello термин «цифровой доступ» — используется здесь toodistinguish из любой операции, которые выполняются через взаимодействие устройства с прямым, где безопасности доступ предоставляется через контроль физического доступа.</span><span class="sxs-lookup"><span data-stu-id="398d2-230">hello term “digital access” is used here toodistinguish from any operations that are carried out through direct device interaction where access security is provided through physical access control.</span></span> <span data-ttu-id="398d2-231">Например размещение устройства hello в комнату с блокировкой на дверцу hello.</span><span class="sxs-lookup"><span data-stu-id="398d2-231">For example, putting hello device into a room with a lock on hello door.</span></span> <span data-ttu-id="398d2-232">Хотя физического доступа не может быть отменен с помощью программного обеспечения и оборудования, измерения могут быть взяты tooprevent физический доступ от ведущих toosystem помех.</span><span class="sxs-lookup"><span data-stu-id="398d2-232">While physical access cannot be denied using software and hardware, measures can be taken tooprevent physical access from leading toosystem interference.</span></span> 

<span data-ttu-id="398d2-233">Узнаем, используемых для взаимодействия hello, мы рассмотрим «управление устройствами» и «устройство данных» с hello того же уровня внимания при моделирование угроз.</span><span class="sxs-lookup"><span data-stu-id="398d2-233">As we explore hello interaction patterns, we will look at “device control” and “device data” with hello same level of attention while threat modeling.</span></span> <span data-ttu-id="398d2-234">«Управление устройствами» можно классифицировать как любые сведения, предоставляемые устройства tooa какой-либо стороной hello целью которых является изменение или оказание влияния на поведение сторону ее состояние или состояния hello в его среде.</span><span class="sxs-lookup"><span data-stu-id="398d2-234">“Device control” can be classified as any information that is provided tooa device by any party with hello goal of changing or influencing its behavior towards its state or hello state of its environment.</span></span> <span data-ttu-id="398d2-235">«Устройство данных» можно классифицировать как любую информацию, устройство выдает tooany другая сторона о ее состоянии и hello наблюдаемое состояние среды.</span><span class="sxs-lookup"><span data-stu-id="398d2-235">“Device data” can be classified as any information that a device emits tooany other party about its state and hello observed state of its environment.</span></span> 

## <a name="threat-modeling-hello-azure-iot-reference-architecture"></a><span data-ttu-id="398d2-236">Эталонная архитектура hello Azure IoT моделирования угроз</span><span class="sxs-lookup"><span data-stu-id="398d2-236">Threat modeling hello Azure IoT reference architecture</span></span>
<span data-ttu-id="398d2-237">Корпорация Майкрософт использует описанные выше для Azure IoT моделирования угроз toodo framework hello.</span><span class="sxs-lookup"><span data-stu-id="398d2-237">Microsoft uses hello framework outlined above toodo threat modelling for Azure IoT.</span></span> <span data-ttu-id="398d2-238">В следующем разделе hello таким образом мы используем конкретный пример hello Azure IoT Эталонная архитектура toodemonstrate способ идентификации toothink о моделирования угроз для IoT и как tooaddress hello угроз.</span><span class="sxs-lookup"><span data-stu-id="398d2-238">In hello section below we therefore use hello concrete example of Azure IoT Reference Architecture toodemonstrate how toothink about threat modelling for IoT and how tooaddress hello threats identified.</span></span> <span data-ttu-id="398d2-239">В нашем сценарии мы выявили четыре основных области, на которых следует сосредоточиться:</span><span class="sxs-lookup"><span data-stu-id="398d2-239">In our case we identified four main areas of focus:</span></span>

* <span data-ttu-id="398d2-240">устройства и источники данных;</span><span class="sxs-lookup"><span data-stu-id="398d2-240">Devices and Data Sources,</span></span>
* <span data-ttu-id="398d2-241">передача данных;</span><span class="sxs-lookup"><span data-stu-id="398d2-241">Data Transport,</span></span>
* <span data-ttu-id="398d2-242">обработка устройств и событий;</span><span class="sxs-lookup"><span data-stu-id="398d2-242">Device and Event Processing, and</span></span>
* <span data-ttu-id="398d2-243">Уровень представления</span><span class="sxs-lookup"><span data-stu-id="398d2-243">Presentation</span></span>

![Моделирование рисков для Azure IoT](media/iot-security-architecture/iot-security-architecture-fig2.png) 

<span data-ttu-id="398d2-245">Hello приведенной ниже схеме обеспечивает упрощенное представление архитектуры IoT корпорации Майкрософт с помощью модели схема потока данных, которая используется hello средства моделирования угроз Microsoft:</span><span class="sxs-lookup"><span data-stu-id="398d2-245">hello diagram below provides a simplified view of Microsoft’s IoT Architecture using a Data Flow Diagram model that is used by hello Microsoft Threat Modeling Tool:</span></span>

![Моделирование рисков для Azure IoT с помощью средства Microsoft Threat Modeling Tool](media/iot-security-architecture/iot-security-architecture-fig3.png)

<span data-ttu-id="398d2-247">Очень важно, что toonote, hello архитектура отделяет hello возможности устройства и шлюза.</span><span class="sxs-lookup"><span data-stu-id="398d2-247">It is important toonote that hello architecture separates hello device and gateway capabilities.</span></span> <span data-ttu-id="398d2-248">Это позволяет tooleverage пользователя hello шлюзов, которые являются более безопасными: их можно использовать для взаимодействия с hello шлюз облака на базе безопасные протоколы, которой обычно требует больше затрат, удалось собственное устройство — например термостат - Укажите свой собственный.</span><span class="sxs-lookup"><span data-stu-id="398d2-248">This allows hello user tooleverage gateway devices that are more secure: they are capable of communicating with hello cloud gateway using secure protocols, which typically requires greater processing overhead that a native device  - such as a thermostat - could provide on its own.</span></span> <span data-ttu-id="398d2-249">В зоне hello служб Azure предполагается приветствия, представленного hello центр IoT Azure службы шлюза в облаке.</span><span class="sxs-lookup"><span data-stu-id="398d2-249">In hello Azure services zone, we assume that hello Cloud Gateway is represented by hello Azure IoT Hub service.</span></span>

### <a name="device-and-data-sourcesdata-transport"></a><span data-ttu-id="398d2-250">Устройства, источники данных и передача данных</span><span class="sxs-lookup"><span data-stu-id="398d2-250">Device and data sources/data transport</span></span>
<span data-ttu-id="398d2-251">В этом разделе более подробно рассматривается архитектура hello, описанные выше через линзы hello моделирования угроз и общие сведения о том, как мы обращаемся некоторые специфические проблемы hello.</span><span class="sxs-lookup"><span data-stu-id="398d2-251">This section explores hello architecture outlined above through hello lens of threat modeling and gives an overview of how we are addressing some of hello inherent concerns.</span></span> <span data-ttu-id="398d2-252">Основное внимание уделяется hello ключевые элементы модели угроз:</span><span class="sxs-lookup"><span data-stu-id="398d2-252">We will focus on hello core elements of a threat model:</span></span>

* <span data-ttu-id="398d2-253">процессы (подконтрольные и внешние);</span><span class="sxs-lookup"><span data-stu-id="398d2-253">Processes (those under our control and external items)</span></span>
* <span data-ttu-id="398d2-254">взаимодействие (или потоки данных);</span><span class="sxs-lookup"><span data-stu-id="398d2-254">Communication (also called data flows)</span></span>
* <span data-ttu-id="398d2-255">хранение (или хранилища данных).</span><span class="sxs-lookup"><span data-stu-id="398d2-255">Storage (also called data stores)</span></span>

#### <a name="processes"></a><span data-ttu-id="398d2-256">Процессы</span><span class="sxs-lookup"><span data-stu-id="398d2-256">Processes</span></span>
<span data-ttu-id="398d2-257">В каждой из категорий hello, описанные в hello архитектура Azure IoT, мы пытаемся toomitigate существует ряд различных угроз по hello разных этапах и сведения о данных в: процесс, связи и хранилища.</span><span class="sxs-lookup"><span data-stu-id="398d2-257">In each of hello categories outlined in hello Azure IoT architecture, we try toomitigate a number of different threats across hello different stages data/information exists in: process, communication, and storage.</span></span> <span data-ttu-id="398d2-258">Ниже приводится краткий обзор из hello для категории «процесс» hello, следуют Общие сведения о том, как они могут лучше всего устранить наиболее распространенные:</span><span class="sxs-lookup"><span data-stu-id="398d2-258">Below we give an overview of hello most common ones for hello “process” category, followed by an overview of how these could be best mitigated:</span></span> 

<span data-ttu-id="398d2-259">**Спуфинг (S)**: злоумышленник может извлечь материалом ключа шифрования на устройстве, либо на уровне оборудования или программного обеспечения hello и впоследствии доступ к системе hello с другим физическим или виртуальным устройством hello удостоверением hello hello устройства материал ключа была взята.</span><span class="sxs-lookup"><span data-stu-id="398d2-259">**Spoofing (S)**: An attacker may extract cryptographic key material from a device, either at hello software or hardware level, and subsequently access hello system with a different physical or virtual device under hello identity of hello device hello key material has been taken from.</span></span> <span data-ttu-id="398d2-260">Хороший пример: с помощью пультов дистанционного управления можно включить любой телевизор, поэтому их часто используют, чтобы подшутить над кем-то.</span><span class="sxs-lookup"><span data-stu-id="398d2-260">A good illustration is remote controls that can turn any TV and that are popular prankster tools.</span></span>

<span data-ttu-id="398d2-261">**Отказ в обслуживании (Denial of Service, далее "D").** Устройство может быть распознано как неработоспособное или неспособное обмениваться данными из-за радиочастотных помех или потому, что обрезаны провода.</span><span class="sxs-lookup"><span data-stu-id="398d2-261">**Denial of Service (D)**: A device can be rendered incapable of functioning or communicating by interfering with radio frequencies or cutting wires.</span></span> <span data-ttu-id="398d2-262">Например, камера видеонаблюдения, питание или сетевое подключение которой преднамеренно вывели из строя, не будет передавать данные.</span><span class="sxs-lookup"><span data-stu-id="398d2-262">For example, a surveillance camera that had its power or network connection intentionally knocked out will not report data, at all.</span></span>

<span data-ttu-id="398d2-263">**Изменение данных (T)**: злоумышленник может частично или полностью заменить hello программное обеспечение, работающее на устройстве hello, что позволяет заменить hello программного обеспечения tooleverage hello подлинность удостоверения устройства hello Если hello ключевые материалы и hello шифрования средства хранения ключей материалы были доступны toohello незаконных программы.</span><span class="sxs-lookup"><span data-stu-id="398d2-263">**Tampering (T)**: An attacker may partially or wholly replace hello software running on hello device, potentially allowing hello replaced software tooleverage hello genuine identity of hello device if hello key material or hello cryptographic facilities holding key materials were available toohello illicit program.</span></span> <span data-ttu-id="398d2-264">Например злоумышленник может использовать извлеченные ключа toointercept материалов и подавляет данные с устройства hello на пути обмена данными между hello и замените значение false, данные проверки подлинности с hello кражи материала ключа.</span><span class="sxs-lookup"><span data-stu-id="398d2-264">For example, an attacker may leverage extracted key material toointercept and suppress data from hello device on hello communication path and replace it with false data that is authenticated with hello stolen key material.</span></span>

<span data-ttu-id="398d2-265">**Раскрытие информации (I)**: Если hello устройство работает под управлением управляемого программного обеспечения, управляемого программного обеспечения потенциально возможна утечка данных toounauthorized сторон.</span><span class="sxs-lookup"><span data-stu-id="398d2-265">**Information Disclosure (I)**: If hello device is running manipulated software, such manipulated software could potentially leak data toounauthorized parties.</span></span> <span data-ttu-id="398d2-266">Например злоумышленник может использовать извлеченные ключа материала tooinject сам в hello пути обмена данными между устройством hello и контроллера или поле шлюза или облако toosiphon шлюза выключено.</span><span class="sxs-lookup"><span data-stu-id="398d2-266">For example, an attacker may leverage extracted key material tooinject itself into hello communication path between hello device and a controller or field gateway or cloud gateway toosiphon off information.</span></span>

<span data-ttu-id="398d2-267">**Повышение прав для прав доступа (E)**: устройства, который выполняет определенную функцию может быть либо другие принудительного toodo.</span><span class="sxs-lookup"><span data-stu-id="398d2-267">**Elevation of Privilege (E)**: A device that does specific function can be forced toodo something else.</span></span> <span data-ttu-id="398d2-268">Например, вентиля, программируемых tooopen половина, каким образом могут быть обманным путем tooopen все hello способом.</span><span class="sxs-lookup"><span data-stu-id="398d2-268">For example, a valve that is programmed tooopen half way can be tricked tooopen all hello way.</span></span>

| <span data-ttu-id="398d2-269">**Компонент**</span><span class="sxs-lookup"><span data-stu-id="398d2-269">**Component**</span></span> | <span data-ttu-id="398d2-270">**Угроза**</span><span class="sxs-lookup"><span data-stu-id="398d2-270">**Threat**</span></span> | <span data-ttu-id="398d2-271">**Предотвращение**</span><span class="sxs-lookup"><span data-stu-id="398d2-271">**Mitigation**</span></span> | <span data-ttu-id="398d2-272">**Риск**</span><span class="sxs-lookup"><span data-stu-id="398d2-272">**Risk**</span></span> | <span data-ttu-id="398d2-273">**Реализация**</span><span class="sxs-lookup"><span data-stu-id="398d2-273">**Implementation**</span></span> |
| --- | --- | --- | --- | --- |
| <span data-ttu-id="398d2-274">Устройство</span><span class="sxs-lookup"><span data-stu-id="398d2-274">Device</span></span> |<span data-ttu-id="398d2-275">S</span><span class="sxs-lookup"><span data-stu-id="398d2-275">S</span></span> |<span data-ttu-id="398d2-276">Назначение удостоверения toohello устройства и проверка подлинности устройства hello</span><span class="sxs-lookup"><span data-stu-id="398d2-276">Assigning identity toohello device and authenticating hello device</span></span> |<span data-ttu-id="398d2-277">Замена устройство или часть устройства hello с другого устройства.</span><span class="sxs-lookup"><span data-stu-id="398d2-277">Replacing device or part of hello device with some other device.</span></span> <span data-ttu-id="398d2-278">Как мы знаем, что мы говорим toohello устройство?</span><span class="sxs-lookup"><span data-stu-id="398d2-278">How do we know we are talking toohello right device?</span></span> |<span data-ttu-id="398d2-279">Проверка подлинности устройства hello, используя Transport Layer Security (TLS) или протокол IPSec.</span><span class="sxs-lookup"><span data-stu-id="398d2-279">Authenticating hello device, using Transport Layer Security (TLS) or IPSec.</span></span> <span data-ttu-id="398d2-280">Инфраструктура должна поддерживать общие ключи для тех устройств, которые не выполняют полное асимметричное шифрование.</span><span class="sxs-lookup"><span data-stu-id="398d2-280">Infrastructure should support using pre-shared key (PSK) on those devices that cannot handle full asymmetric cryptography.</span></span> <span data-ttu-id="398d2-281">Использование Azure AD, [OAuth](http://www.rfc-editor.org/in-notes/internet-drafts/draft-ietf-ace-oauth-authz-01.txt)</span><span class="sxs-lookup"><span data-stu-id="398d2-281">Leverage Azure AD, [OAuth](http://www.rfc-editor.org/in-notes/internet-drafts/draft-ietf-ace-oauth-authz-01.txt)</span></span> |
| <span data-ttu-id="398d2-282">TRID</span><span class="sxs-lookup"><span data-stu-id="398d2-282">TRID</span></span> |<span data-ttu-id="398d2-283">Применить устойчивую к внешним воздействиям механизмов toohello устройства, например за счет сложно tooimpossible tooextract клавиш и другие криптографические материалы из устройства hello.</span><span class="sxs-lookup"><span data-stu-id="398d2-283">Apply tamperproof mechanisms toohello device for example by making it very hard tooimpossible tooextract keys and other cryptographic material from hello device.</span></span> |<span data-ttu-id="398d2-284">риск Hello будет, если кто-то — незаконное изменение hello устройства (физический помех).</span><span class="sxs-lookup"><span data-stu-id="398d2-284">hello risk is if someone is tampering hello device (physical interference).</span></span> <span data-ttu-id="398d2-285">Нужно убедиться, что устройство не изменили незаконным образом</span><span class="sxs-lookup"><span data-stu-id="398d2-285">How are we sure, that device has not tampered with.</span></span> |<span data-ttu-id="398d2-286">наиболее эффективный уменьшение Hello является возможность доверенный платформенный модуль (TPM), позволяющий хранения ключей в специальных внутрипроцессорного цепь, из какой hello не удается прочитать ключи, но может использоваться только для криптографических операций, в которых используется ключ hello, но никогда не раскрывает раздел hello .</span><span class="sxs-lookup"><span data-stu-id="398d2-286">hello most effective mitigation is a trusted platform module (TPM) capability that allows storing keys in special on-chip circuitry from which hello keys cannot be read, but can only be used for cryptographic operations that use hello key but never disclose hello key.</span></span> <span data-ttu-id="398d2-287">Шифрование устройства hello памяти.</span><span class="sxs-lookup"><span data-stu-id="398d2-287">Memory encryption of hello device.</span></span> <span data-ttu-id="398d2-288">Управление ключами для hello устройства.</span><span class="sxs-lookup"><span data-stu-id="398d2-288">Key management for hello device.</span></span> <span data-ttu-id="398d2-289">Подписывание кода hello.</span><span class="sxs-lookup"><span data-stu-id="398d2-289">Signing hello code.</span></span> | |
| <span data-ttu-id="398d2-290">E</span><span class="sxs-lookup"><span data-stu-id="398d2-290">E</span></span> |<span data-ttu-id="398d2-291">Наличие контроля доступа устройства hello.</span><span class="sxs-lookup"><span data-stu-id="398d2-291">Having access control of hello device.</span></span> <span data-ttu-id="398d2-292">Применить схему авторизации</span><span class="sxs-lookup"><span data-stu-id="398d2-292">Authorization scheme.</span></span> |<span data-ttu-id="398d2-293">Если для отдельных операций toobe выполнена по команды из внешнего источника, или даже скомпрометированы датчики позволяет устройства hello, появится возможность атаки hello tooperform операций недоступен в противном случае.</span><span class="sxs-lookup"><span data-stu-id="398d2-293">If hello device allows for individual actions toobe performed based on commands from an outside source, or even compromised sensors, it will allow hello attack tooperform operations not otherwise accessible.</span></span> |<span data-ttu-id="398d2-294">Наличие схему авторизации для устройства hello</span><span class="sxs-lookup"><span data-stu-id="398d2-294">Having authorization scheme for hello device</span></span> | |
| <span data-ttu-id="398d2-295">Полевой шлюз</span><span class="sxs-lookup"><span data-stu-id="398d2-295">Field Gateway</span></span> |<span data-ttu-id="398d2-296">S</span><span class="sxs-lookup"><span data-stu-id="398d2-296">S</span></span> |<span data-ttu-id="398d2-297">Проверка подлинности hello поле шлюза tooCloud шлюза (на основе сертификатов, PSK, утверждения на основе,...)</span><span class="sxs-lookup"><span data-stu-id="398d2-297">Authenticating hello Field gateway tooCloud Gateway (cert based, PSK, Claim based,..)</span></span> |<span data-ttu-id="398d2-298">Если кто-то может подделать данные полевого шлюза, он сможет выдавать свое устройство за любое другое</span><span class="sxs-lookup"><span data-stu-id="398d2-298">If someone can spoof Field Gateway, then it can present itself as any device.</span></span> |<span data-ttu-id="398d2-299">TLS RSA/PSK, IPSec, [RFC 4279](https://tools.ietf.org/html/rfc4279).</span><span class="sxs-lookup"><span data-stu-id="398d2-299">TLS RSA/PSK, IPSec, [RFC 4279](https://tools.ietf.org/html/rfc4279).</span></span> <span data-ttu-id="398d2-300">Здравствуйте, все же хранилища ключей и проблемы аттестации устройств в целом — лучшим вариантом является использование доверенного платформенного МОДУЛЯ.</span><span class="sxs-lookup"><span data-stu-id="398d2-300">All hello same key storage and attestation concerns of devices in general – best case is use TPM.</span></span> <span data-ttu-id="398d2-301">Расширение 6LowPAN toosupport IPSec сетей беспроводной датчика (WSN).</span><span class="sxs-lookup"><span data-stu-id="398d2-301">6LowPAN extension for IPSec toosupport Wireless Sensor Networks (WSN).</span></span> |
| <span data-ttu-id="398d2-302">TRID</span><span class="sxs-lookup"><span data-stu-id="398d2-302">TRID</span></span> |<span data-ttu-id="398d2-303">Защитить hello шлюз поля их от подделки (TPM)?</span><span class="sxs-lookup"><span data-stu-id="398d2-303">Protect hello Field Gateway against tampering (TPM?)</span></span> |<span data-ttu-id="398d2-304">Злонамеренные действия, думая, что он осуществляет обмен данными toofield шлюз облака hello сбить с толку шлюза может привести к раскрытию информации и искажению данных</span><span class="sxs-lookup"><span data-stu-id="398d2-304">Spoofing attacks that trick hello cloud gateway thinking it is talking toofield gateway could result in information disclosure and data tampering</span></span> |<span data-ttu-id="398d2-305">Шифрование памяти, доверенные платформенные модули, проверка подлинности</span><span class="sxs-lookup"><span data-stu-id="398d2-305">Memory encryption, TPM’s, authentication.</span></span> | |
| <span data-ttu-id="398d2-306">E</span><span class="sxs-lookup"><span data-stu-id="398d2-306">E</span></span> |<span data-ttu-id="398d2-307">Реализовать механизм контроля доступа для полевого шлюза</span><span class="sxs-lookup"><span data-stu-id="398d2-307">Access control mechanism for Field Gateway</span></span> | | | |

<span data-ttu-id="398d2-308">Ниже приведены некоторые примеры угроз, которые могут быть в этой категории.</span><span class="sxs-lookup"><span data-stu-id="398d2-308">Here are some examples of threats in this category:</span></span>

<span data-ttu-id="398d2-309">Спуфинг: Злоумышленник может извлечь материалом ключа шифрования на устройстве, либо на hello оборудования или программного обеспечения и впоследствии доступ hello системе с другим физическим или виртуальным устройством удостоверением hello hello устройства hello ключевого материала уже взяты из.</span><span class="sxs-lookup"><span data-stu-id="398d2-309">Spoofing: An attacker may extract cryptographic key material from a device, either at hello software or hardware level, and subsequently access hello system with a different physical or virtual device under hello identity of hello device hello key material has been taken from.</span></span>

<span data-ttu-id="398d2-310">**Отказ в обслуживании.** Устройство может быть распознано как неработоспособное или неспособное обмениваться данными из-за радиочастотных помех или потому, что обрезаны провода.</span><span class="sxs-lookup"><span data-stu-id="398d2-310">**Denial of Service**: A device can be rendered incapable of functioning or communicating by interfering with radio frequencies or cutting wires.</span></span> <span data-ttu-id="398d2-311">Например, камера видеонаблюдения, питание или сетевое подключение которой преднамеренно вывели из строя, не будет передавать данные.</span><span class="sxs-lookup"><span data-stu-id="398d2-311">For example, a surveillance camera that had its power or network connection intentionally knocked out will not report data, at all.</span></span>

<span data-ttu-id="398d2-312">**Подмены**: злоумышленник может частично или полностью заменить hello программное обеспечение, работающее на устройстве hello, что позволяет заменить hello программного обеспечения tooleverage hello подлинность удостоверения устройства hello Если hello ключевые материалы и hello шифрования средства хранения ключей материалы были доступны toohello незаконных программы.</span><span class="sxs-lookup"><span data-stu-id="398d2-312">**Tampering**: An attacker may partially or wholly replace hello software running on hello device, potentially allowing hello replaced software tooleverage hello genuine identity of hello device if hello key material or hello cryptographic facilities holding key materials were available toohello illicit program.</span></span>

<span data-ttu-id="398d2-313">**Незаконное изменение.** Чтобы камера видеонаблюдения не засняла злоумышленника, он может настроить в качестве показываемой картинки фотографию пустого коридора.</span><span class="sxs-lookup"><span data-stu-id="398d2-313">**Tampering**: A surveillance camera that’s showing a visible-spectrum picture of an empty hallway could be aimed at a photograph of such a hallway.</span></span> <span data-ttu-id="398d2-314">Дымовой или пожарный датчик может передать данные о возгорании, если кто-то держит возле него включенную зажигалку.</span><span class="sxs-lookup"><span data-stu-id="398d2-314">A smoke or fire sensor could be reporting someone holding a lighter under it.</span></span> <span data-ttu-id="398d2-315">В любом случае hello устройство может оказаться технически полностью доверенная сторону hello системы, но он будет сообщать управляемого сведения.</span><span class="sxs-lookup"><span data-stu-id="398d2-315">In either case, hello device may be technically fully trustworthy towards hello system, but it will report manipulated information.</span></span>

<span data-ttu-id="398d2-316">**Подмены**: злоумышленник может использовать извлеченные ключа toointercept материалов и подавляет данные с устройства hello на пути обмена данными между hello и замените значение false, данные проверки подлинности с hello кражи материала ключа.</span><span class="sxs-lookup"><span data-stu-id="398d2-316">**Tampering**: An attacker may leverage extracted key material toointercept and suppress data from hello device on hello communication path and replace it with false data that is authenticated with hello stolen key material.</span></span>

<span data-ttu-id="398d2-317">**Подмены**: злоумышленник может частично или полностью заменить hello программное обеспечение, работающее на устройстве hello, что позволяет заменить hello программного обеспечения tooleverage hello подлинность удостоверения устройства hello Если hello ключевые материалы и hello шифрования средства хранения ключей материалы были доступны toohello незаконных программы.</span><span class="sxs-lookup"><span data-stu-id="398d2-317">**Tampering**: An attacker may partially or completely replace hello software running on hello device, potentially allowing hello replaced software tooleverage hello genuine identity of hello device if hello key material or hello cryptographic facilities holding key materials were available toohello illicit program.</span></span>

<span data-ttu-id="398d2-318">**Раскрытие информации**: Если hello устройство работает под управлением управляемого программного обеспечения, управляемого программного обеспечения потенциально возможна утечка данных toounauthorized сторон.</span><span class="sxs-lookup"><span data-stu-id="398d2-318">**Information Disclosure**: If hello device is running manipulated software, such manipulated software could potentially leak data toounauthorized parties.</span></span>

<span data-ttu-id="398d2-319">**Раскрытие информации**: злоумышленник может использовать извлеченные ключа материала tooinject сам в hello пути обмена данными между устройством hello и контроллера или поле шлюза или облаке toosiphon шлюза выключено.</span><span class="sxs-lookup"><span data-stu-id="398d2-319">**Information Disclosure**: An attacker may leverage extracted key material tooinject itself into hello communication path between hello device and a controller or field gateway or cloud gateway toosiphon off information.</span></span>

<span data-ttu-id="398d2-320">**Отказ в обслуживании**: hello устройства могут быть или выключение в режим где связи не поддерживается (который намеренно в производственных много компьютеров).</span><span class="sxs-lookup"><span data-stu-id="398d2-320">**Denial of Service**: hello device can be turned off or turned into a mode where communication is not possible (which is intentional in many industrial machines).</span></span>

<span data-ttu-id="398d2-321">**Подмены**: hello устройство может быть изменена конфигурация toooperate в состоянии Неизвестный toohello управлять системой (за пределами известного калибровки параметров) и предоставляют данные, которые могут быть преобразованы неправильно</span><span class="sxs-lookup"><span data-stu-id="398d2-321">**Tampering**: hello device can be reconfigured toooperate in a state unknown toohello control system (outside of known calibration parameters) and thus provide data that can be misinterpreted</span></span>

<span data-ttu-id="398d2-322">**Несанкционированное получение прав**: устройства, который выполняет определенную функцию может быть либо другие принудительного toodo.</span><span class="sxs-lookup"><span data-stu-id="398d2-322">**Elevation of Privilege**: A device that does specific function can be forced toodo something else.</span></span> <span data-ttu-id="398d2-323">Например, вентиля, программируемых tooopen половина, каким образом могут быть обманным путем tooopen все hello способом.</span><span class="sxs-lookup"><span data-stu-id="398d2-323">For example, a valve that is programmed tooopen half way can be tricked tooopen all hello way.</span></span>

<span data-ttu-id="398d2-324">**Отказ в обслуживании**: hello устройство может быть преобразован в состоянии, когда связь не может.</span><span class="sxs-lookup"><span data-stu-id="398d2-324">**Denial of Service**: hello device can be turned into a state where communication is not possible.</span></span>

<span data-ttu-id="398d2-325">**Подмены**: hello устройство может быть изменена конфигурация toooperate в состоянии Неизвестный toohello управлять системой (за пределами известного калибровки параметров) и предоставляют данные, которые могут быть преобразованы неправильно.</span><span class="sxs-lookup"><span data-stu-id="398d2-325">**Tampering**: hello device can be reconfigured toooperate in a state unknown toohello control system (outside of known calibration parameters) and thus provide data that can be misinterpreted.</span></span>

<span data-ttu-id="398d2-326">**Спуфинг-мошенничество или отказ от ответственности**: Если не защищена (бывает редко hello с помощью дистанционного управления потребителя) злоумышленник может изменять состояние hello устройства анонимно.</span><span class="sxs-lookup"><span data-stu-id="398d2-326">**Spoofing/Tampering/Repudiation**: If not secured (which is rarely hello case with consumer remote controls) an attacker can manipulate hello state of a device anonymously.</span></span> <span data-ttu-id="398d2-327">Хороший пример: с помощью пультов дистанционного управления можно включить любой телевизор, поэтому их часто используют, чтобы подшутить над кем-то.</span><span class="sxs-lookup"><span data-stu-id="398d2-327">A good illustration is remote controls that can turn any TV and that are popular prankster tools.</span></span>

#### <a name="communication"></a><span data-ttu-id="398d2-328">Обмен данными</span><span class="sxs-lookup"><span data-stu-id="398d2-328">Communication</span></span>
<span data-ttu-id="398d2-329">Здесь описаны угрозы, связанные с путем обмена данными между устройствами, устройствами и полевыми или облачными шлюзами.</span><span class="sxs-lookup"><span data-stu-id="398d2-329">Threats around communication path between devices, devices and field gateways and device and cloud gateway.</span></span> <span data-ttu-id="398d2-330">в следующей таблице Hello имеет некоторые рекомендации вокруг открытых сокетов на устройство hello/VPN.</span><span class="sxs-lookup"><span data-stu-id="398d2-330">hello table below has some guidance around open sockets on hello device/VPN:</span></span>

| <span data-ttu-id="398d2-331">**Компонент**</span><span class="sxs-lookup"><span data-stu-id="398d2-331">**Component**</span></span> | <span data-ttu-id="398d2-332">**Угроза**</span><span class="sxs-lookup"><span data-stu-id="398d2-332">**Threat**</span></span> | <span data-ttu-id="398d2-333">**Предотвращение**</span><span class="sxs-lookup"><span data-stu-id="398d2-333">**Mitigation**</span></span> | <span data-ttu-id="398d2-334">**Риск**</span><span class="sxs-lookup"><span data-stu-id="398d2-334">**Risk**</span></span> | <span data-ttu-id="398d2-335">**Реализация**</span><span class="sxs-lookup"><span data-stu-id="398d2-335">**Implementation**</span></span> |
| --- | --- | --- | --- | --- |
| <span data-ttu-id="398d2-336">Устройство, центр IoT</span><span class="sxs-lookup"><span data-stu-id="398d2-336">Device IoT Hub</span></span> |<span data-ttu-id="398d2-337">TID</span><span class="sxs-lookup"><span data-stu-id="398d2-337">TID</span></span> |<span data-ttu-id="398d2-338">(D) Трафик hello tooencrypt TLS (PSK или RSA)</span><span class="sxs-lookup"><span data-stu-id="398d2-338">(D)TLS (PSK/RSA) tooencrypt hello traffic</span></span> |<span data-ttu-id="398d2-339">От перехвата или помехи hello связи между устройством hello и шлюза hello</span><span class="sxs-lookup"><span data-stu-id="398d2-339">Eavesdropping or interfering hello communication between hello device and hello gateway</span></span> |<span data-ttu-id="398d2-340">Безопасность на уровне протокола hello.</span><span class="sxs-lookup"><span data-stu-id="398d2-340">Security on hello protocol level.</span></span> <span data-ttu-id="398d2-341">Пользовательские протоколы, мы должны toofigure как tooprotect их.</span><span class="sxs-lookup"><span data-stu-id="398d2-341">With custom protocols, we need toofigure out how tooprotect them.</span></span> <span data-ttu-id="398d2-342">В большинстве случаев связь hello происходит из toohello устройства hello центр IoT (устройство запускает подключение hello).</span><span class="sxs-lookup"><span data-stu-id="398d2-342">In most cases, hello communication takes place from hello device toohello IoT Hub (device initiates hello connection).</span></span> |
| <span data-ttu-id="398d2-343">Устройство, устройство</span><span class="sxs-lookup"><span data-stu-id="398d2-343">Device Device</span></span> |<span data-ttu-id="398d2-344">TID</span><span class="sxs-lookup"><span data-stu-id="398d2-344">TID</span></span> |<span data-ttu-id="398d2-345">(D) Трафик hello tooencrypt TLS (PSK или RSA).</span><span class="sxs-lookup"><span data-stu-id="398d2-345">(D)TLS (PSK/RSA) tooencrypt hello traffic.</span></span> |<span data-ttu-id="398d2-346">Считывание данных при их передаче между устройствами.</span><span class="sxs-lookup"><span data-stu-id="398d2-346">Reading data in transit between devices.</span></span> <span data-ttu-id="398d2-347">Незаконное изменение данных hello.</span><span class="sxs-lookup"><span data-stu-id="398d2-347">Tampering with hello data.</span></span> <span data-ttu-id="398d2-348">Перегрузка hello устройства с помощью новых подключений</span><span class="sxs-lookup"><span data-stu-id="398d2-348">Overloading hello device with new connections</span></span> |<span data-ttu-id="398d2-349">Безопасность на уровне протокола hello (MQTT/AMQP или HTTP/CoAP.</span><span class="sxs-lookup"><span data-stu-id="398d2-349">Security on hello protocol level (MQTT/AMQP/HTTP/CoAP.</span></span> <span data-ttu-id="398d2-350">Пользовательские протоколы, мы должны toofigure как tooprotect их.</span><span class="sxs-lookup"><span data-stu-id="398d2-350">With custom protocols, we need toofigure out how tooprotect them.</span></span> <span data-ttu-id="398d2-351">Уменьшение Hello для hello угроз DoS toopeer устройствам через шлюз облако или поля и имеют только act в качестве клиентов к сети hello.</span><span class="sxs-lookup"><span data-stu-id="398d2-351">hello mitigation for hello DoS threat is toopeer devices through a cloud or field gateway and have them only act as clients towards hello network.</span></span> <span data-ttu-id="398d2-352">пиринг Hello может привести к прямое соединение между одноранговыми узлами hello, после были через посредника шлюзом hello</span><span class="sxs-lookup"><span data-stu-id="398d2-352">hello peering may result in a direct connection between hello peers after having been brokered by hello gateway</span></span> |
| <span data-ttu-id="398d2-353">Внешняя сущность, устройство</span><span class="sxs-lookup"><span data-stu-id="398d2-353">External Entity Device</span></span> |<span data-ttu-id="398d2-354">TID</span><span class="sxs-lookup"><span data-stu-id="398d2-354">TID</span></span> |<span data-ttu-id="398d2-355">Связывание строгого устройства toohello внешние сущности hello</span><span class="sxs-lookup"><span data-stu-id="398d2-355">Strong pairing of hello external entity toohello device</span></span> |<span data-ttu-id="398d2-356">Устройство toohello перехвата злоумышленниками hello соединения.</span><span class="sxs-lookup"><span data-stu-id="398d2-356">Eavesdropping hello connection toohello device.</span></span> <span data-ttu-id="398d2-357">Помехи hello связи с устройством hello</span><span class="sxs-lookup"><span data-stu-id="398d2-357">Interfering hello communication with hello device</span></span> |<span data-ttu-id="398d2-358">Безопасно связывания устройства toohello внешние сущности hello LE NFC/Bluetooth.</span><span class="sxs-lookup"><span data-stu-id="398d2-358">Securely pairing hello external entity toohello device NFC/Bluetooth LE.</span></span> <span data-ttu-id="398d2-359">Управление hello рабочей панели устройства hello (физическая)</span><span class="sxs-lookup"><span data-stu-id="398d2-359">Controlling hello operational panel of hello device (Physical)</span></span> |
| <span data-ttu-id="398d2-360">Полевой шлюз, облачный шлюз</span><span class="sxs-lookup"><span data-stu-id="398d2-360">Field Gateway Cloud Gateway</span></span> |<span data-ttu-id="398d2-361">TID</span><span class="sxs-lookup"><span data-stu-id="398d2-361">TID</span></span> |<span data-ttu-id="398d2-362">Трафик hello tooencrypt TLS (PSK или RSA).</span><span class="sxs-lookup"><span data-stu-id="398d2-362">TLS (PSK/RSA) tooencrypt hello traffic.</span></span> |<span data-ttu-id="398d2-363">От перехвата или помехи hello связи между устройством hello и шлюза hello</span><span class="sxs-lookup"><span data-stu-id="398d2-363">Eavesdropping or interfering hello communication between hello device and hello gateway</span></span> |<span data-ttu-id="398d2-364">Безопасность на уровне протокола hello (MQTT/AMQP или HTTP/CoAP).</span><span class="sxs-lookup"><span data-stu-id="398d2-364">Security on hello protocol level (MQTT/AMQP/HTTP/CoAP).</span></span> <span data-ttu-id="398d2-365">Пользовательские протоколы, мы должны toofigure как tooprotect их.</span><span class="sxs-lookup"><span data-stu-id="398d2-365">With custom protocols, we need toofigure out how tooprotect them.</span></span> |
| <span data-ttu-id="398d2-366">Устройство, облачный шлюз</span><span class="sxs-lookup"><span data-stu-id="398d2-366">Device Cloud Gateway</span></span> |<span data-ttu-id="398d2-367">TID</span><span class="sxs-lookup"><span data-stu-id="398d2-367">TID</span></span> |<span data-ttu-id="398d2-368">Трафик hello tooencrypt TLS (PSK или RSA).</span><span class="sxs-lookup"><span data-stu-id="398d2-368">TLS (PSK/RSA) tooencrypt hello traffic.</span></span> |<span data-ttu-id="398d2-369">От перехвата или помехи hello связи между устройством hello и шлюза hello</span><span class="sxs-lookup"><span data-stu-id="398d2-369">Eavesdropping or interfering hello communication between hello device and hello gateway</span></span> |<span data-ttu-id="398d2-370">Безопасность на уровне протокола hello (MQTT/AMQP или HTTP/CoAP).</span><span class="sxs-lookup"><span data-stu-id="398d2-370">Security on hello protocol level (MQTT/AMQP/HTTP/CoAP).</span></span> <span data-ttu-id="398d2-371">Пользовательские протоколы, мы должны toofigure как tooprotect их.</span><span class="sxs-lookup"><span data-stu-id="398d2-371">With custom protocols, we need toofigure out how tooprotect them.</span></span> |

<span data-ttu-id="398d2-372">Ниже приведены некоторые примеры угроз, которые могут быть в этой категории.</span><span class="sxs-lookup"><span data-stu-id="398d2-372">Here are some examples of threats in this category:</span></span>

<span data-ttu-id="398d2-373">**Отказ в обслуживании**: ограниченного устройства обычно находятся в угроз DoS, когда активно ожидать для входящих соединений и нежелательные датаграммы в сети, поскольку злоумышленник может открыть много подключений в параллельном режиме и не их службы или службы их очень медленно или hello устройство может быть переполняющее с нежелательного трафика.</span><span class="sxs-lookup"><span data-stu-id="398d2-373">**Denial of Service**: Constrained devices are generally under DoS threat when they actively listen for inbound connections or unsolicited datagrams on a network, because an attacker can open many connections in parallel and not service them or service them very slowly, or hello device can be flooded with unsolicited traffic.</span></span> <span data-ttu-id="398d2-374">В обоих случаях hello устройства можно эффективно отображать вышел из строя сети hello.</span><span class="sxs-lookup"><span data-stu-id="398d2-374">In both cases, hello device can effectively be rendered inoperable on hello network.</span></span>

<span data-ttu-id="398d2-375">**Спуфинга, раскрытия информации**: ограниченного и специальные устройства часто имеют средства безопасности один для все как пароль или ПИН-код защиты, или они полностью полагаются на доверяющего hello сети, то есть они будут предоставлять доступ tooinformation, когда устройство входит в hello одной сети и сети часто только защищен общего ключа.</span><span class="sxs-lookup"><span data-stu-id="398d2-375">**Spoofing, Information Disclosure**: Constrained devices and special-purpose devices often have one-for-all security facilities like password or PIN protection, or they wholly rely on trusting hello network, meaning they will grant access tooinformation when a device is on hello same network, and that network is often only protected by a shared key.</span></span> <span data-ttu-id="398d2-376">Означает, что когда hello общего секрета toodevice или раскрытие сети, его возможных toocontrol hello устройство находится или контролировать данные, выдаваемые hello устройства.</span><span class="sxs-lookup"><span data-stu-id="398d2-376">That means that when hello shared secret toodevice or network is disclosed, it is possible toocontrol hello device or observe data emitted from hello device.</span></span>  

<span data-ttu-id="398d2-377">**Спуфинг**: злоумышленник может перехватить или частично переопределить hello вещания и подделка hello инициатора (злоумышленник в середине hello)</span><span class="sxs-lookup"><span data-stu-id="398d2-377">**Spoofing**: an attacker may intercept or partially override hello broadcast and spoof hello originator (man in hello middle)</span></span>

<span data-ttu-id="398d2-378">**Подмены**: злоумышленник может перехватить или частично переопределить вещания hello и отправить ложные сведения</span><span class="sxs-lookup"><span data-stu-id="398d2-378">**Tampering**: an attacker may intercept or partially override hello broadcast and send false information</span></span> 

<span data-ttu-id="398d2-379">**Раскрытие информации:** злоумышленники могут перехватывать вещания и получать сведения без авторизации **отказ в обслуживании:** злоумышленник может организовать hello broadcast сигнала и запретить распространения информации</span><span class="sxs-lookup"><span data-stu-id="398d2-379">**Information Disclosure:** an attacker may eavesdrop on a broadcast and obtain information without authorization **Denial of Service:** an attacker may jam hello broadcast signal and deny information distribution</span></span>

#### <a name="storage"></a><span data-ttu-id="398d2-380">Хранилище</span><span class="sxs-lookup"><span data-stu-id="398d2-380">Storage</span></span>
<span data-ttu-id="398d2-381">Каждый шлюз устройства и поле имеет форму хранения (временная для данных в очереди hello, хранилище образов операционной системы (ОС)).</span><span class="sxs-lookup"><span data-stu-id="398d2-381">Every device and field gateway has some form of storage (temporary for queuing hello data, operating system (OS) image storage).</span></span>

| <span data-ttu-id="398d2-382">**Компонент**</span><span class="sxs-lookup"><span data-stu-id="398d2-382">**Component**</span></span> | <span data-ttu-id="398d2-383">**Угроза**</span><span class="sxs-lookup"><span data-stu-id="398d2-383">**Threat**</span></span> | <span data-ttu-id="398d2-384">**Предотвращение**</span><span class="sxs-lookup"><span data-stu-id="398d2-384">**Mitigation**</span></span> | <span data-ttu-id="398d2-385">**Риск**</span><span class="sxs-lookup"><span data-stu-id="398d2-385">**Risk**</span></span> | <span data-ttu-id="398d2-386">**Реализация**</span><span class="sxs-lookup"><span data-stu-id="398d2-386">**Implementation**</span></span> |
| --- | --- | --- | --- | --- |
| <span data-ttu-id="398d2-387">Хранилище устройства</span><span class="sxs-lookup"><span data-stu-id="398d2-387">Device storage</span></span> |<span data-ttu-id="398d2-388">TRID</span><span class="sxs-lookup"><span data-stu-id="398d2-388">TRID</span></span> |<span data-ttu-id="398d2-389">Шифрование хранилища, подписи журналы hello</span><span class="sxs-lookup"><span data-stu-id="398d2-389">Storage encryption, signing hello logs</span></span> |<span data-ttu-id="398d2-390">Чтение данных из хранилища hello (Персональных данных), искажения данных телеметрии.</span><span class="sxs-lookup"><span data-stu-id="398d2-390">Reading data from hello storage (PII data), tampering with telemetry data.</span></span> <span data-ttu-id="398d2-391">Незаконное изменение данных управления командами, которые находятся в очереди или кэше.</span><span class="sxs-lookup"><span data-stu-id="398d2-391">Tampering with queued or cached command control data.</span></span> <span data-ttu-id="398d2-392">Несанкционированный доступ к конфигурации или встроенное по пакеты обновлений во время в кэше или в локальной очереди может привести tooOS и/или системных компонентов раскрытия</span><span class="sxs-lookup"><span data-stu-id="398d2-392">Tampering with configuration or firmware update packages while cached or queued locally can lead tooOS and/or system components being compromised</span></span> |<span data-ttu-id="398d2-393">Шифрование, использование кода проверки подлинности сообщения или цифровых подписей.</span><span class="sxs-lookup"><span data-stu-id="398d2-393">Encryption, message authentication code (MAC) or digital signature.</span></span> <span data-ttu-id="398d2-394">Обеспечение строгого контроля доступа к ресурсам с помощью списков управления доступом (ACL) или разрешений</span><span class="sxs-lookup"><span data-stu-id="398d2-394">Where possible, strong access control through resource access control lists (ACLs) or permissions.</span></span> |
| <span data-ttu-id="398d2-395">Образ ОС устройства</span><span class="sxs-lookup"><span data-stu-id="398d2-395">Device OS image</span></span> |<span data-ttu-id="398d2-396">TRID</span><span class="sxs-lookup"><span data-stu-id="398d2-396">TRID</span></span> | |<span data-ttu-id="398d2-397">Несанкционированный доступ к ОС или замене компонентов hello ОС</span><span class="sxs-lookup"><span data-stu-id="398d2-397">Tampering with OS /replacing hello OS components</span></span> |<span data-ttu-id="398d2-398">Секционирование ОС только для чтения, подписывание образов ОС, шифрование</span><span class="sxs-lookup"><span data-stu-id="398d2-398">Read-only OS partition, signed OS image, Encryption</span></span> |
| <span data-ttu-id="398d2-399">Шлюз поля хранилища (очереди hello данные)</span><span class="sxs-lookup"><span data-stu-id="398d2-399">Field Gateway storage (queuing hello data)</span></span> |<span data-ttu-id="398d2-400">TRID</span><span class="sxs-lookup"><span data-stu-id="398d2-400">TRID</span></span> |<span data-ttu-id="398d2-401">Шифрование хранилища, подписи журналы hello</span><span class="sxs-lookup"><span data-stu-id="398d2-401">Storage encryption, signing hello logs</span></span> |<span data-ttu-id="398d2-402">Чтение данных из хранилища hello (Персональных данных), искажения данных телеметрии подделки в очередь или кэшированных данных команды управления.</span><span class="sxs-lookup"><span data-stu-id="398d2-402">Reading data from hello storage (PII data), tampering with telemetry data, tampering with queued or cached command control data.</span></span> <span data-ttu-id="398d2-403">Несанкционированный доступ к конфигурации или встроенное по пакеты обновления (предназначенные для устройства или шлюз поля) во время в кэше или в локальной очереди может привести tooOS и/или системных компонентов раскрытия</span><span class="sxs-lookup"><span data-stu-id="398d2-403">Tampering with configuration or firmware update packages (destined for devices or field gateway) while cached or queued locally can lead tooOS and/or system components being compromised</span></span> |<span data-ttu-id="398d2-404">BitLocker</span><span class="sxs-lookup"><span data-stu-id="398d2-404">BitLocker</span></span> |
| <span data-ttu-id="398d2-405">Образ ОС полевого шлюза</span><span class="sxs-lookup"><span data-stu-id="398d2-405">Field Gateway OS image</span></span> |<span data-ttu-id="398d2-406">TRID</span><span class="sxs-lookup"><span data-stu-id="398d2-406">TRID</span></span> | |<span data-ttu-id="398d2-407">Несанкционированный доступ к ОС или замене компонентов hello ОС</span><span class="sxs-lookup"><span data-stu-id="398d2-407">Tampering with OS /replacing hello OS components</span></span> |<span data-ttu-id="398d2-408">Секционирование ОС только для чтения, подписывание образов ОС, шифрование</span><span class="sxs-lookup"><span data-stu-id="398d2-408">Read-only OS partition, signed OS image, Encryption</span></span> |

### <a name="device-and-event-processingcloud-gateway-zone"></a><span data-ttu-id="398d2-409">Обработка устройств и событий. Зона облачного шлюза</span><span class="sxs-lookup"><span data-stu-id="398d2-409">Device and event processing/cloud gateway zone</span></span>
<span data-ttu-id="398d2-410">Шлюз облака — это система, которая позволяет удаленного обмена данными из и шлюзы toodevices или поле в различные сайты по пространству общедоступной сети, обычно к облачного управления и данных анализа системы, федерации таких систем.</span><span class="sxs-lookup"><span data-stu-id="398d2-410">A cloud gateway is system that enables remote communication from and toodevices or field gateways from several different sites across public network space, typically towards a cloud-based control and data analysis system, a federation of such systems.</span></span> <span data-ttu-id="398d2-411">В некоторых случаях шлюз облака немедленно может упростить доступ к устройствам toospecial цели из терминалы, таких как планшеты или телефоны.</span><span class="sxs-lookup"><span data-stu-id="398d2-411">In some cases, a cloud gateway may immediately facilitate access toospecial-purpose devices from terminals such as tablets or phones.</span></span> <span data-ttu-id="398d2-412">В контексте hello описанные здесь, «облака» предназначена системы обработки данных выделенного tooa toorefer, не привязанные toohello того же сайта как hello подключенные устройства или шлюзы поля и где оперативной меры предотвращения целевые физического доступа, но не обязательно tooa инфраструктура «общедоступное облако».</span><span class="sxs-lookup"><span data-stu-id="398d2-412">In hello context discussed here, “cloud” is meant toorefer tooa dedicated data processing system that is not bound toohello same site as hello attached devices or field gateways, and where operational measures prevent targeted physical access but is not necessarily tooa “public cloud” infrastructure.</span></span>  <span data-ttu-id="398d2-413">Шлюз облака потенциально могут быть сопоставлены в шлюз виртуализации сети наложения tooinsulate hello облака и все подключенные устройства или шлюзы поля из любой сетевой трафик.</span><span class="sxs-lookup"><span data-stu-id="398d2-413">A cloud gateway may potentially be mapped into a network virtualization overlay tooinsulate hello cloud gateway and all of its attached devices or field gateways from any other network traffic.</span></span> <span data-ttu-id="398d2-414">сам шлюз облачной Hello не является ни в системе управления устройствами, ни обработки ни средств хранения для данных устройств; Эти средства интерфейса со шлюзом облака hello.</span><span class="sxs-lookup"><span data-stu-id="398d2-414">hello cloud gateway itself is neither a device control system nor a processing or storage facility for device data; those facilities interface with hello cloud gateway.</span></span> <span data-ttu-id="398d2-415">Зона шлюза облака Hello включает hello облака самого шлюза и все шлюзы поля и устройства, прямо или косвенно подключены tooit.</span><span class="sxs-lookup"><span data-stu-id="398d2-415">hello cloud gateway zone includes hello cloud gateway itself along with all field gateways and devices directly or indirectly attached tooit.</span></span>

<span data-ttu-id="398d2-416">Шлюз облака — основном пользовательские сборки часть программного обеспечения, выполняющиеся как службы шлюза поле toowhich доступные конечные точки и устройствам подключение.</span><span class="sxs-lookup"><span data-stu-id="398d2-416">Cloud gateway is mostly custom built piece of software running as a service with exposed endpoints toowhich field gateway and devices connect.</span></span> <span data-ttu-id="398d2-417">Следовательно, при его разработке нужно спланировать систему безопасности.</span><span class="sxs-lookup"><span data-stu-id="398d2-417">As such it must be designed with security in mind.</span></span> <span data-ttu-id="398d2-418">При разработке и создании этой службы следуйте соответствующей процедуре для [SDL](http://www.microsoft.com/sdl).</span><span class="sxs-lookup"><span data-stu-id="398d2-418">Please follow [SDL](http://www.microsoft.com/sdl) process for designing and building this service.</span></span> 

#### <a name="services-zone"></a><span data-ttu-id="398d2-419">Зона служб</span><span class="sxs-lookup"><span data-stu-id="398d2-419">Services zone</span></span>
<span data-ttu-id="398d2-420">Системы управления (или контроллер) — это программное решение, которая взаимодействует с устройством, или шлюз поля или шлюз облака hello с целью управления один или несколько устройств и/или toocollect и/или хранилище и анализа данных и устройств для представления или последующие управления версиями.</span><span class="sxs-lookup"><span data-stu-id="398d2-420">A control system (or controller) is a software solution that interfaces with a device, or a field gateway, or cloud gateway for hello purpose of controlling one or multiple devices and/or toocollect and/or store and/or analyze device data for presentation, or subsequent control purposes.</span></span> <span data-ttu-id="398d2-421">Системы управления — это только сущности hello в hello рамки данного обсуждения, который может немедленно облегчают взаимодействие с пользователями.</span><span class="sxs-lookup"><span data-stu-id="398d2-421">Control systems are hello only entities in hello scope of this discussion that may immediately facilitate interaction with people.</span></span> <span data-ttu-id="398d2-422">исключение Hello промежуточного физического поверхности элемента управления на устройствах, как параметр, который позволяет пользователю, tooturn hello устройства из системы, или измените другие свойства и для которого нет нет функционального эквивалента, доступном цифровой.</span><span class="sxs-lookup"><span data-stu-id="398d2-422">hello exception are intermediate physical control surfaces on devices, like a switch that allows a person tooturn hello device off or change other properties, and for which there is no functional equivalent that can be accessed digitally.</span></span> 

<span data-ttu-id="398d2-423">Промежуточные физического поверхности элемента управления — это те где каких регулирующих логику ограничивает функции hello hello физического поверхности элемента управления, таким образом, чтобы использовать эквивалентные функции может быть инициирован удаленно или ввода конфликтует с удаленного входа может быть счет — такой intermediated поверхности элемента управления имеют системы локального управления Концептуально вложенный tooa hello, использует же базовая функциональность, как любую другую систему удаленного управления, Здравствуйте, устройство может быть вложенного tooin параллельных.</span><span class="sxs-lookup"><span data-stu-id="398d2-423">Intermediate physical control surfaces are those where any sort of governing logic constrains hello function of hello physical control surface such that an equivalent function can be initiated remotely or input conflicts with remote input can be avoided – such intermediated control surfaces are conceptually attached tooa local control system that leverages hello same underlying functionality as any other remote control system that hello device may be attached tooin parallel.</span></span> <span data-ttu-id="398d2-424">Возможных угроз toohello облако может быть как прочитать [Alliance безопасности облака (CSA)](https://cloudsecurityalliance.org/research/top-threats/) страницы.</span><span class="sxs-lookup"><span data-stu-id="398d2-424">Top threats toohello cloud computing can be read at [Cloud Security Alliance (CSA)](https://cloudsecurityalliance.org/research/top-threats/) page.</span></span>

## <a name="additional-resources"></a><span data-ttu-id="398d2-425">Дополнительные ресурсы</span><span class="sxs-lookup"><span data-stu-id="398d2-425">Additional resources</span></span>
<span data-ttu-id="398d2-426">См. следующие статьи для получения дополнительных сведений toohello:</span><span class="sxs-lookup"><span data-stu-id="398d2-426">Refer toohello following articles for additional information:</span></span>

* [<span data-ttu-id="398d2-427">Средство моделирования угроз SDL</span><span class="sxs-lookup"><span data-stu-id="398d2-427">SDL Threat Modeling Tool</span></span>](https://www.microsoft.com/sdl/adopt/threatmodeling.aspx)
* [<span data-ttu-id="398d2-428">Эталонная архитектура Центра интернета вещей Microsoft Azure</span><span class="sxs-lookup"><span data-stu-id="398d2-428">Microsoft Azure IoT reference architecture</span></span>](https://azure.microsoft.com/updates/microsoft-azure-iot-reference-architecture-available/)

