# <a name="internet-of-things-security-architecture"></a>Архитектура безопасности "Интернета вещей"
При разработке системы, является важным toounderstand hello потенциальных угроз toothat системы и соответствующим образом, добавьте соответствующие средства защиты, как разработан и архитектурой системы hello. Это особенно важно, toodesign hello продукта от начала hello с учетом безопасности, так как основные сведения о как злоумышленник может использовать возможности toocompromise системы помогает убедитесь, что соответствующие возможные способы устранения находятся на месте с начала hello. 

## <a name="security-starts-with-a-threat-model"></a>Обеспечение безопасности начинается с рассмотрения модели рисков
Microsoft времени использовал модели угроз для своих продуктов и сделал общедоступные процесс моделирования угроз hello компании. Hello опыт компании показано, что моделирования hello имеет непредвиденный преимущества за пределами hello немедленно понять типы угроз, которые являются hello большинство спецификаций. Например он также создает лазейку открытую дискуссию с другими пользователями за пределами команды разработчиков hello, что может стать причиной toonew идеи и усовершенствования в продукте hello.

Цель Hello моделирование угроз — toounderstand как злоумышленник может быть toocompromise возможности системы и убедитесь в том, что соответствующие исправления. Моделирование угроз принудительно исправлений tooconsider команды разработки hello предназначено hello системы, а не после развертывания системы. Этот факт крайне важно, поскольку модернизации tooa множество способов защиты безопасности устройства в поле hello невозможна, ошибкам и будет закрыто клиенты под угрозой.

Во многих коллективах выполните задание отлично захват hello функциональные требования к системе hello, представляющие выгоду клиентов. Однако определение неочевидным способами, что кто-то может неправильно использовать hello системы является более сложной задачей. Моделирование рисков помогает командам разработки понять, что может сделать злоумышленник и почему. Моделирование угроз-это структурированный процесс, который создает обсуждение безопасности hello проектные решения в системе hello, а также разработки toohello изменения, произведенные вдоль hello образом влиять на безопасность. Хотя модели угроз является просто документа, эта документация также представляет идеальным способом непрерывность tooensure знаний хранения занятий было рассмотрено и помочь быстро освоить создание группы. Наконец, с результатом моделирование угроз состоит tooenable вы tooconsider другие аспекты безопасности, например какие обязательства безопасности нужно tooprovide tooyour клиентов. В сочетании с моделированием рисков эти обязательства обеспечат осведомленность устройства при тестировании решения "Интернета вещей" (IoT).

### <a name="when-toothreat-model"></a>Когда toothreat модели
[Моделирование угроз](http://www.microsoft.com/security/sdl/adopt/threatmodeling.aspx) предложения hello максимальное значение, если он является частью этапа проектирования hello. При разработке, имеется hello наибольшую гибкость toomake изменения tooeliminate угроз. Устранение угроз путем разработки — hello желаемого результата. Это гораздо проще, чем добавлять средства устранения рисков, тестировать их и поддерживать их актуальность. Кроме того, не всегда возможно все это сделать. Оно становится сложнее tooeliminate угроз продукта становится более устаревшие и в свою очередь будет в конечном счете требует больше работы и компромиссы гораздо сложнее, чем на раннем этапе моделирования в разработке hello угроз.

### <a name="what-toothreat-model"></a>Какая модель toothreat
Решение hello модели в целом, а также фокуса в следующих областях hello следует потока:

* средства безопасности и конфиденциальности Hello
* функции Hello, сбои, соответствующие безопасности
* функции Hello, которые граничат с доверия 

### <a name="who-threat-models"></a>Кому следует моделировать риски
Моделирование рисков — такой же процесс, как и все остальные.  Он рекомендуется tootreat hello документе модели угроз как и любой другой компонент hello решения и его проверки. Во многих коллективах выполните задание отлично захват hello функциональные требования к системе hello, представляющие выгоду клиентов. Однако определение неочевидным способами, что кто-то может неправильно использовать hello системы является более сложной задачей. Моделирование рисков помогает командам разработки понять, что может сделать злоумышленник и почему.

### <a name="how-toothreat-model"></a>Как toothreat модели
процесс моделирования угроз Hello состоит из четырех шагов; Привет, необходимо:

* Приложение hello модели
* создание списка угроз;
* устранение рисков;
* Проверка исправления hello

#### <a name="hello-process-steps"></a>этапы процесса Hello
Три правила tookeep помнить при построении модели угроз:

1. Создайте схему на основе эталонной архитектуры. 
2. Начните с обзора. Обзор и понять hello системы в целом, прежде чем углубляться глубиной.  Чтобы обеспечить вам глубокое погружение в правом hello помещает.
3. Диск hello процесса, не позволяя процесса hello диск. Если вы обнаруживаете проблему в hello фазы моделирования и tooexplore его, откройте для него!  Вы не его необходимо toofollow slavishly следующие действия.  

#### <a name="threats"></a>Риски
Ниже приведены Hello четыре основные элементы модели угроз.

* процессы (веб-служб, служб Win32, управляющих программ *nix и т. д.). Обратите внимание, что некоторые сложные сущности (например, полевые шлюзы и датчики) могут быть абстрагированы в качестве процессов, если в соответствующих областях невозможна техническая детализация.
* хранилища данных (любые места хранения данных, например файлы конфигурации или базы данных);
* Поток данных (где перемещения данных между другими элементами приложения hello)
* Внешние сущности (ничего, взаимодействующего с системой hello, но не находится под управлением hello приложения hello, среди них пользователей и вспомогательные веб-каналов)

Все элементы в Архитектурная схема hello, тема toovarious угроз; Мы будем использовать назначенный STRIDE hello. Чтение [угроз моделирования снова, STRIDE](https://blogs.msdn.microsoft.com/larryosterman/2007/09/04/threat-modeling-again-stride/) tooknow Дополнительные об элементах STRIDE hello.

Различные элементы схемы приложения hello, угроз STRIDE toocertain субъекта:

* Процессы, tooSTRIDE субъекта
* Потоки данных находятся tooTID субъекта
* Хранилищ данных являются tooTID субъекта, а иногда R, если hello хранилищ данных файлов журналов.
* Внешние сущности являются tooSRD субъекта

## <a name="security-in-iot"></a>Безопасность в IoT
Подключенные устройства специального назначения имеют значительное количество потенциальных взаимодействия контактную зону и используемых для взаимодействия, все они должны рассматриваться как tooprovide framework защиты цифровой доступа toothose устройств. Hello термин «цифровой доступ» — используется здесь toodistinguish из любой операции, которые выполняются через взаимодействие устройства с прямым, где безопасности доступ предоставляется через контроль физического доступа. Например размещение устройства hello в комнату с блокировкой на дверцу hello. Хотя физического доступа не может быть отменен с помощью программного обеспечения и оборудования, измерения могут быть взяты tooprevent физический доступ от ведущих toosystem помех. 

Узнаем, используемых для взаимодействия hello, мы рассмотрим «управление устройствами» и «устройство данных» с hello таким же уровнем вмешательства. «Управление устройствами» можно классифицировать как любые сведения, предоставляемые устройства tooa какой-либо стороной hello целью которых является изменение или оказание влияния на поведение сторону ее состояние или состояния hello в его среде. «Устройство данных» можно классифицировать как любую информацию, устройство выдает tooany другая сторона о ее состоянии и hello наблюдаемое состояние среды.

В порядке toooptimize рекомендации по обеспечению безопасности рекомендуется разделить типичную архитектуру IoT на несколько компонентов и зон в рамках hello по моделированию угроз. Эти зоны подробно описаны в этом разделе и включают в себя:

* устройство;
* полевой шлюз;
* облачные шлюзы;
* утверждения.

Зоны — широкий toosegment способом решения; Каждая зона часто имеет собственные требования к данных проверки подлинности и авторизации. Зоны также могут использоваться tooisolation повреждать и ограничить влияние hello зон низкий уровень доверия в более поздней версии зоны доверия.

Каждая зона отделяется границы доверия, который отмечен как hello пунктирные красной линией в приведенной ниже схеме hello. Он представляет переход сведения о данных из одного источника tooanother. Во время этой транзакции hello данных может быть tooSpoofing субъекта, мошенничество, отказ, раскрытие информации, отказ в обслуживании и повышение прав доступа (STRIDE).

![Зоны безопасности IoT](media/iot-security-architecture/iot-security-architecture-fig1.png) 

Hello компоненты, используемые в пределах каждой границы, также подвергается tooSTRIDE, включение полного 360 представление hello решения моделирования угроз. Hello приведенных ниже разделах содержатся сведения по каждому из компонентов hello и вопросы безопасности и решений, которые должны быть помещены в месте.

Hello выполняемые будет разделах стандартных компонентов, которые обычно находятся в этих зон.

### <a name="hello-device-zone"></a>Hello пояс устройства
Hello среда устройств — hello немедленно физическое пространство вокруг hello устройство, где физический доступ и/или цифровая подпись для одноранговых «локальной сети» доступ к toohello целесообразен устройства. «Локальная сеть» полагается toobe сети, которая является отдельным каталогом, изолированная от –, но потенциально создания моста слишком hello — общедоступный Интернет и включает в себя любой технологии радиосвязи ближнего действия, который позволяет поддерживать связь одноранговая сеть устройств. Это осуществляется *не* включают любой технологии виртуализации сети, создание hello иллюзию локальной сети и также не включает открытый оператор сети, которые требуют toocommunicate любые два устройства по пространству общедоступной сети Если бы они были tooenter для одноранговых связью.

### <a name="hello-field-gateway-zone"></a>Hello шлюз поля
Полевой шлюз — это устройство, программное обеспечение или серверное программное обеспечение общего назначения, которое служит средством реализации обмена данными, а также, по возможности, системой управления устройствами и центром обработки данных, получаемых от устройств. шлюз поля Hello включает сам шлюз поля hello и все устройства, присоединенного tooit. Как hello названия шлюзы поля работают средства вне целевой обработки данных, обычно являются расположение привязано, являются потенциально вторжений toophysical субъекта и будет ограничен оперативной избыточности. Все toosay, шлюз поля обычно вещь один можно touch и всякой при этом знать, какова его функции. 

Полевой шлюз отличается от обычного маршрутизатора трафика тем, что ему отведена активная роль в управлении доступом и передачей информации. Это значит, что он является ориентированным на приложения объектом, а также терминалом сетевых подключений или сеансов. Устройства преобразования сетевых адресов и брандмауэры, напротив, не могут считаться полевыми шлюзами, так как они не являются явными терминалами подключений или сеансов. Они просто маршрутизируют (или блокируют) подключения или сеансы, которые осуществляются через них. шлюз поля Hello имеет две области поверхности. Один направлена hello устройства, присоединенные tooit и представляет hello внутри зоны hello и hello других сталкивается все внешние стороны и стороны hello hello зоны.   

### <a name="hello-cloud-gateway-zone"></a>зоны шлюза Hello облака
Шлюз облачной — систему, позволяющую удаленного обмена данными из и шлюзы toodevices или поле в различные сайты по пространству общедоступной сети, обычно к облачного управления и данных анализа системы, федерации таких систем. В некоторых случаях шлюз облака немедленно может упростить доступ к устройствам toospecial цели из терминалы, таких как планшеты или телефоны. В контексте hello описанные здесь «облака» предназначена toorefer tooa выделенной обработки данных системы, не привязанные toohello же сайта как hello подключенные устройства или шлюзы поля. Также в зоне облака оперативной меры предотвратить целевой физический доступ и не обязательно предоставляется tooa инфраструктуры «общедоступное облако».  

Шлюз облака потенциально могут быть сопоставлены в шлюз виртуализации сети наложения tooinsulate hello облака и все подключенные устройства или шлюзы поля из любой сетевой трафик. сам шлюз облачной Hello не является ни в системе управления устройствами, ни обработки ни средств хранения для данных устройств; Эти средства интерфейса со шлюзом облака hello. Зона шлюза облака Hello включает hello облака самого шлюза и все шлюзы поля и устройства, прямо или косвенно подключены tooit. Hello Граница зоны hello является distinct контактную зону, где все внешние стороны взаимодействуют через.

### <a name="hello-services-zone"></a>зоны службы Hello
В этом контексте служба — это любой программный компонент или модуль, который взаимодействует с устройствами через полевой или облачный шлюз, чтобы собирать и анализировать данные, а также обеспечивать управление и контроль.  Службы представляют собой посредников. Они действуют удостоверением по направлению к шлюзам и других подсистем, хранения и анализа данных, автономно toodevices проблема команд на основе данных, полученных или расписания и предоставления информации и управления tooauthorized возможности конечных пользователей.

### <a name="information-devices-vs-special-purpose-devices"></a>Информационные и специализированные устройства
ПК, телефоны и планшеты — преимущественно интерактивные информационные устройства. Телефоны и планшеты явно оптимизированы для увеличения времени работы от батареи. Они лучше отключить частично при взаимодействии не сразу с человеком или не обеспечивает таких служб, как воспроизведение музыкальных или руководить их владельца tooa определенного расположения. С точки зрения системы люди используют эти информационно-технологические устройства преимущественно в качестве прокси. Они являются воздействующими устройствами, предлагающими действия, и датчиками, которые собирают входные данные. 

Специальные устройства, из строк рабочей фабрики toocomplex датчики температуры простой с тысячами компонентов внутри них, отличаются. Эти устройства намного более инкапсулированы в целях и даже если они предоставляют некоторые элементы интерфейса пользователя, они во многом области toointerfacing с или интегрировать Здравствуй, мир! физических ресурсов. Они измеряют данные окружающей среды и создают отчеты о них, включают клапаны, контролируют работу сервосистемы, подают звуковые сигналы, переключают индикаторы и выполняют множество других задач. Они помогут работать toodo устройство сведения которых слишком общий, слишком затратными, слишком большой или слишком неустойчивыми. конкретная цель Hello немедленно определяет их технических проектных как хорошо hello доступный денежных бюджет для их производства и запланированное время существования операции. Hello сочетание этих двух ключевых факторов ограничивает hello доступной оперативной энергии бюджета, физической памяти и, таким образом, доступное хранилище вычислений и функциональные возможности безопасности.  

Если что-либо «переходит неправильный» с автоматической или удаленной управляемыми устройствами, например, физических дефектов или toowillful дефектов логики управления несанкционированного вскрытия и обработка данных. может удалиться Hello производственных большого здания может looted или записать и пользователей может быть травмированной или даже кристалле. Конечно, этот тип ущерба кардинально отличается от превышения лимита на украденной кредитной карте. Hello панель безопасности для устройств, которые упростить перемещение, а также для датчиков, в конечном итоге результаты в командах, которые вызывают toomove действия должен быть выше какой-либо электронной коммерции или сценарии. 

### <a name="device-control-and-device-data-interactions"></a>Взаимодействие контроля устройства и данных устройства
Подключенные устройства специального назначения имеют значительное количество потенциальных взаимодействия контактную зону и используемых для взаимодействия, все они должны рассматриваться как tooprovide framework защиты цифровой доступа toothose устройств. Hello термин «цифровой доступ» — используется здесь toodistinguish из любой операции, которые выполняются через взаимодействие устройства с прямым, где безопасности доступ предоставляется через контроль физического доступа. Например размещение устройства hello в комнату с блокировкой на дверцу hello. Хотя физического доступа не может быть отменен с помощью программного обеспечения и оборудования, измерения могут быть взяты tooprevent физический доступ от ведущих toosystem помех. 

Узнаем, используемых для взаимодействия hello, мы рассмотрим «управление устройствами» и «устройство данных» с hello того же уровня внимания при моделирование угроз. «Управление устройствами» можно классифицировать как любые сведения, предоставляемые устройства tooa какой-либо стороной hello целью которых является изменение или оказание влияния на поведение сторону ее состояние или состояния hello в его среде. «Устройство данных» можно классифицировать как любую информацию, устройство выдает tooany другая сторона о ее состоянии и hello наблюдаемое состояние среды. 

## <a name="threat-modeling-hello-azure-iot-reference-architecture"></a>Эталонная архитектура hello Azure IoT моделирования угроз
Корпорация Майкрософт использует описанные выше для Azure IoT моделирования угроз toodo framework hello. В следующем разделе hello таким образом мы используем конкретный пример hello Azure IoT Эталонная архитектура toodemonstrate способ идентификации toothink о моделирования угроз для IoT и как tooaddress hello угроз. В нашем сценарии мы выявили четыре основных области, на которых следует сосредоточиться:

* устройства и источники данных;
* передача данных;
* обработка устройств и событий;
* Уровень представления

![Моделирование рисков для Azure IoT](media/iot-security-architecture/iot-security-architecture-fig2.png) 

Hello приведенной ниже схеме обеспечивает упрощенное представление архитектуры IoT корпорации Майкрософт с помощью модели схема потока данных, которая используется hello средства моделирования угроз Microsoft:

![Моделирование рисков для Azure IoT с помощью средства Microsoft Threat Modeling Tool](media/iot-security-architecture/iot-security-architecture-fig3.png)

Очень важно, что toonote, hello архитектура отделяет hello возможности устройства и шлюза. Это позволяет tooleverage пользователя hello шлюзов, которые являются более безопасными: их можно использовать для взаимодействия с hello шлюз облака на базе безопасные протоколы, которой обычно требует больше затрат, удалось собственное устройство — например термостат - Укажите свой собственный. В зоне hello служб Azure предполагается приветствия, представленного hello центр IoT Azure службы шлюза в облаке.

### <a name="device-and-data-sourcesdata-transport"></a>Устройства, источники данных и передача данных
В этом разделе более подробно рассматривается архитектура hello, описанные выше через линзы hello моделирования угроз и общие сведения о том, как мы обращаемся некоторые специфические проблемы hello. Основное внимание уделяется hello ключевые элементы модели угроз:

* процессы (подконтрольные и внешние);
* взаимодействие (или потоки данных);
* хранение (или хранилища данных).

#### <a name="processes"></a>Процессы
В каждой из категорий hello, описанные в hello архитектура Azure IoT, мы пытаемся toomitigate существует ряд различных угроз по hello разных этапах и сведения о данных в: процесс, связи и хранилища. Ниже приводится краткий обзор из hello для категории «процесс» hello, следуют Общие сведения о том, как они могут лучше всего устранить наиболее распространенные: 

**Спуфинг (S)**: злоумышленник может извлечь материалом ключа шифрования на устройстве, либо на уровне оборудования или программного обеспечения hello и впоследствии доступ к системе hello с другим физическим или виртуальным устройством hello удостоверением hello hello устройства материал ключа была взята. Хороший пример: с помощью пультов дистанционного управления можно включить любой телевизор, поэтому их часто используют, чтобы подшутить над кем-то.

**Отказ в обслуживании (Denial of Service, далее "D").** Устройство может быть распознано как неработоспособное или неспособное обмениваться данными из-за радиочастотных помех или потому, что обрезаны провода. Например, камера видеонаблюдения, питание или сетевое подключение которой преднамеренно вывели из строя, не будет передавать данные.

**Изменение данных (T)**: злоумышленник может частично или полностью заменить hello программное обеспечение, работающее на устройстве hello, что позволяет заменить hello программного обеспечения tooleverage hello подлинность удостоверения устройства hello Если hello ключевые материалы и hello шифрования средства хранения ключей материалы были доступны toohello незаконных программы. Например злоумышленник может использовать извлеченные ключа toointercept материалов и подавляет данные с устройства hello на пути обмена данными между hello и замените значение false, данные проверки подлинности с hello кражи материала ключа.

**Раскрытие информации (I)**: Если hello устройство работает под управлением управляемого программного обеспечения, управляемого программного обеспечения потенциально возможна утечка данных toounauthorized сторон. Например злоумышленник может использовать извлеченные ключа материала tooinject сам в hello пути обмена данными между устройством hello и контроллера или поле шлюза или облако toosiphon шлюза выключено.

**Повышение прав для прав доступа (E)**: устройства, который выполняет определенную функцию может быть либо другие принудительного toodo. Например, вентиля, программируемых tooopen половина, каким образом могут быть обманным путем tooopen все hello способом.

| **Компонент** | **Угроза** | **Предотвращение** | **Риск** | **Реализация** |
| --- | --- | --- | --- | --- |
| Устройство |S |Назначение удостоверения toohello устройства и проверка подлинности устройства hello |Замена устройство или часть устройства hello с другого устройства. Как мы знаем, что мы говорим toohello устройство? |Проверка подлинности устройства hello, используя Transport Layer Security (TLS) или протокол IPSec. Инфраструктура должна поддерживать общие ключи для тех устройств, которые не выполняют полное асимметричное шифрование. Использование Azure AD, [OAuth](http://www.rfc-editor.org/in-notes/internet-drafts/draft-ietf-ace-oauth-authz-01.txt) |
| TRID |Применить устойчивую к внешним воздействиям механизмов toohello устройства, например за счет сложно tooimpossible tooextract клавиш и другие криптографические материалы из устройства hello. |риск Hello будет, если кто-то — незаконное изменение hello устройства (физический помех). Нужно убедиться, что устройство не изменили незаконным образом |наиболее эффективный уменьшение Hello является возможность доверенный платформенный модуль (TPM), позволяющий хранения ключей в специальных внутрипроцессорного цепь, из какой hello не удается прочитать ключи, но может использоваться только для криптографических операций, в которых используется ключ hello, но никогда не раскрывает раздел hello . Шифрование устройства hello памяти. Управление ключами для hello устройства. Подписывание кода hello. | |
| E |Наличие контроля доступа устройства hello. Применить схему авторизации |Если для отдельных операций toobe выполнена по команды из внешнего источника, или даже скомпрометированы датчики позволяет устройства hello, появится возможность атаки hello tooperform операций недоступен в противном случае. |Наличие схему авторизации для устройства hello | |
| Полевой шлюз |S |Проверка подлинности hello поле шлюза tooCloud шлюза (на основе сертификатов, PSK, утверждения на основе,...) |Если кто-то может подделать данные полевого шлюза, он сможет выдавать свое устройство за любое другое |TLS RSA/PSK, IPSec, [RFC 4279](https://tools.ietf.org/html/rfc4279). Здравствуйте, все же хранилища ключей и проблемы аттестации устройств в целом — лучшим вариантом является использование доверенного платформенного МОДУЛЯ. Расширение 6LowPAN toosupport IPSec сетей беспроводной датчика (WSN). |
| TRID |Защитить hello шлюз поля их от подделки (TPM)? |Злонамеренные действия, думая, что он осуществляет обмен данными toofield шлюз облака hello сбить с толку шлюза может привести к раскрытию информации и искажению данных |Шифрование памяти, доверенные платформенные модули, проверка подлинности | |
| E |Реализовать механизм контроля доступа для полевого шлюза | | | |

Ниже приведены некоторые примеры угроз, которые могут быть в этой категории.

Спуфинг: Злоумышленник может извлечь материалом ключа шифрования на устройстве, либо на hello оборудования или программного обеспечения и впоследствии доступ hello системе с другим физическим или виртуальным устройством удостоверением hello hello устройства hello ключевого материала уже взяты из.

**Отказ в обслуживании.** Устройство может быть распознано как неработоспособное или неспособное обмениваться данными из-за радиочастотных помех или потому, что обрезаны провода. Например, камера видеонаблюдения, питание или сетевое подключение которой преднамеренно вывели из строя, не будет передавать данные.

**Подмены**: злоумышленник может частично или полностью заменить hello программное обеспечение, работающее на устройстве hello, что позволяет заменить hello программного обеспечения tooleverage hello подлинность удостоверения устройства hello Если hello ключевые материалы и hello шифрования средства хранения ключей материалы были доступны toohello незаконных программы.

**Незаконное изменение.** Чтобы камера видеонаблюдения не засняла злоумышленника, он может настроить в качестве показываемой картинки фотографию пустого коридора. Дымовой или пожарный датчик может передать данные о возгорании, если кто-то держит возле него включенную зажигалку. В любом случае hello устройство может оказаться технически полностью доверенная сторону hello системы, но он будет сообщать управляемого сведения.

**Подмены**: злоумышленник может использовать извлеченные ключа toointercept материалов и подавляет данные с устройства hello на пути обмена данными между hello и замените значение false, данные проверки подлинности с hello кражи материала ключа.

**Подмены**: злоумышленник может частично или полностью заменить hello программное обеспечение, работающее на устройстве hello, что позволяет заменить hello программного обеспечения tooleverage hello подлинность удостоверения устройства hello Если hello ключевые материалы и hello шифрования средства хранения ключей материалы были доступны toohello незаконных программы.

**Раскрытие информации**: Если hello устройство работает под управлением управляемого программного обеспечения, управляемого программного обеспечения потенциально возможна утечка данных toounauthorized сторон.

**Раскрытие информации**: злоумышленник может использовать извлеченные ключа материала tooinject сам в hello пути обмена данными между устройством hello и контроллера или поле шлюза или облаке toosiphon шлюза выключено.

**Отказ в обслуживании**: hello устройства могут быть или выключение в режим где связи не поддерживается (который намеренно в производственных много компьютеров).

**Подмены**: hello устройство может быть изменена конфигурация toooperate в состоянии Неизвестный toohello управлять системой (за пределами известного калибровки параметров) и предоставляют данные, которые могут быть преобразованы неправильно

**Несанкционированное получение прав**: устройства, который выполняет определенную функцию может быть либо другие принудительного toodo. Например, вентиля, программируемых tooopen половина, каким образом могут быть обманным путем tooopen все hello способом.

**Отказ в обслуживании**: hello устройство может быть преобразован в состоянии, когда связь не может.

**Подмены**: hello устройство может быть изменена конфигурация toooperate в состоянии Неизвестный toohello управлять системой (за пределами известного калибровки параметров) и предоставляют данные, которые могут быть преобразованы неправильно.

**Спуфинг-мошенничество или отказ от ответственности**: Если не защищена (бывает редко hello с помощью дистанционного управления потребителя) злоумышленник может изменять состояние hello устройства анонимно. Хороший пример: с помощью пультов дистанционного управления можно включить любой телевизор, поэтому их часто используют, чтобы подшутить над кем-то.

#### <a name="communication"></a>Обмен данными
Здесь описаны угрозы, связанные с путем обмена данными между устройствами, устройствами и полевыми или облачными шлюзами. в следующей таблице Hello имеет некоторые рекомендации вокруг открытых сокетов на устройство hello/VPN.

| **Компонент** | **Угроза** | **Предотвращение** | **Риск** | **Реализация** |
| --- | --- | --- | --- | --- |
| Устройство, центр IoT |TID |(D) Трафик hello tooencrypt TLS (PSK или RSA) |От перехвата или помехи hello связи между устройством hello и шлюза hello |Безопасность на уровне протокола hello. Пользовательские протоколы, мы должны toofigure как tooprotect их. В большинстве случаев связь hello происходит из toohello устройства hello центр IoT (устройство запускает подключение hello). |
| Устройство, устройство |TID |(D) Трафик hello tooencrypt TLS (PSK или RSA). |Считывание данных при их передаче между устройствами. Незаконное изменение данных hello. Перегрузка hello устройства с помощью новых подключений |Безопасность на уровне протокола hello (MQTT/AMQP или HTTP/CoAP. Пользовательские протоколы, мы должны toofigure как tooprotect их. Уменьшение Hello для hello угроз DoS toopeer устройствам через шлюз облако или поля и имеют только act в качестве клиентов к сети hello. пиринг Hello может привести к прямое соединение между одноранговыми узлами hello, после были через посредника шлюзом hello |
| Внешняя сущность, устройство |TID |Связывание строгого устройства toohello внешние сущности hello |Устройство toohello перехвата злоумышленниками hello соединения. Помехи hello связи с устройством hello |Безопасно связывания устройства toohello внешние сущности hello LE NFC/Bluetooth. Управление hello рабочей панели устройства hello (физическая) |
| Полевой шлюз, облачный шлюз |TID |Трафик hello tooencrypt TLS (PSK или RSA). |От перехвата или помехи hello связи между устройством hello и шлюза hello |Безопасность на уровне протокола hello (MQTT/AMQP или HTTP/CoAP). Пользовательские протоколы, мы должны toofigure как tooprotect их. |
| Устройство, облачный шлюз |TID |Трафик hello tooencrypt TLS (PSK или RSA). |От перехвата или помехи hello связи между устройством hello и шлюза hello |Безопасность на уровне протокола hello (MQTT/AMQP или HTTP/CoAP). Пользовательские протоколы, мы должны toofigure как tooprotect их. |

Ниже приведены некоторые примеры угроз, которые могут быть в этой категории.

**Отказ в обслуживании**: ограниченного устройства обычно находятся в угроз DoS, когда активно ожидать для входящих соединений и нежелательные датаграммы в сети, поскольку злоумышленник может открыть много подключений в параллельном режиме и не их службы или службы их очень медленно или hello устройство может быть переполняющее с нежелательного трафика. В обоих случаях hello устройства можно эффективно отображать вышел из строя сети hello.

**Спуфинга, раскрытия информации**: ограниченного и специальные устройства часто имеют средства безопасности один для все как пароль или ПИН-код защиты, или они полностью полагаются на доверяющего hello сети, то есть они будут предоставлять доступ tooinformation, когда устройство входит в hello одной сети и сети часто только защищен общего ключа. Означает, что когда hello общего секрета toodevice или раскрытие сети, его возможных toocontrol hello устройство находится или контролировать данные, выдаваемые hello устройства.  

**Спуфинг**: злоумышленник может перехватить или частично переопределить hello вещания и подделка hello инициатора (злоумышленник в середине hello)

**Подмены**: злоумышленник может перехватить или частично переопределить вещания hello и отправить ложные сведения 

**Раскрытие информации:** злоумышленники могут перехватывать вещания и получать сведения без авторизации **отказ в обслуживании:** злоумышленник может организовать hello broadcast сигнала и запретить распространения информации

#### <a name="storage"></a>Хранилище
Каждый шлюз устройства и поле имеет форму хранения (временная для данных в очереди hello, хранилище образов операционной системы (ОС)).

| **Компонент** | **Угроза** | **Предотвращение** | **Риск** | **Реализация** |
| --- | --- | --- | --- | --- |
| Хранилище устройства |TRID |Шифрование хранилища, подписи журналы hello |Чтение данных из хранилища hello (Персональных данных), искажения данных телеметрии. Незаконное изменение данных управления командами, которые находятся в очереди или кэше. Несанкционированный доступ к конфигурации или встроенное по пакеты обновлений во время в кэше или в локальной очереди может привести tooOS и/или системных компонентов раскрытия |Шифрование, использование кода проверки подлинности сообщения или цифровых подписей. Обеспечение строгого контроля доступа к ресурсам с помощью списков управления доступом (ACL) или разрешений |
| Образ ОС устройства |TRID | |Несанкционированный доступ к ОС или замене компонентов hello ОС |Секционирование ОС только для чтения, подписывание образов ОС, шифрование |
| Шлюз поля хранилища (очереди hello данные) |TRID |Шифрование хранилища, подписи журналы hello |Чтение данных из хранилища hello (Персональных данных), искажения данных телеметрии подделки в очередь или кэшированных данных команды управления. Несанкционированный доступ к конфигурации или встроенное по пакеты обновления (предназначенные для устройства или шлюз поля) во время в кэше или в локальной очереди может привести tooOS и/или системных компонентов раскрытия |BitLocker |
| Образ ОС полевого шлюза |TRID | |Несанкционированный доступ к ОС или замене компонентов hello ОС |Секционирование ОС только для чтения, подписывание образов ОС, шифрование |

### <a name="device-and-event-processingcloud-gateway-zone"></a>Обработка устройств и событий. Зона облачного шлюза
Шлюз облака — это система, которая позволяет удаленного обмена данными из и шлюзы toodevices или поле в различные сайты по пространству общедоступной сети, обычно к облачного управления и данных анализа системы, федерации таких систем. В некоторых случаях шлюз облака немедленно может упростить доступ к устройствам toospecial цели из терминалы, таких как планшеты или телефоны. В контексте hello описанные здесь, «облака» предназначена системы обработки данных выделенного tooa toorefer, не привязанные toohello того же сайта как hello подключенные устройства или шлюзы поля и где оперативной меры предотвращения целевые физического доступа, но не обязательно tooa инфраструктура «общедоступное облако».  Шлюз облака потенциально могут быть сопоставлены в шлюз виртуализации сети наложения tooinsulate hello облака и все подключенные устройства или шлюзы поля из любой сетевой трафик. сам шлюз облачной Hello не является ни в системе управления устройствами, ни обработки ни средств хранения для данных устройств; Эти средства интерфейса со шлюзом облака hello. Зона шлюза облака Hello включает hello облака самого шлюза и все шлюзы поля и устройства, прямо или косвенно подключены tooit.

Шлюз облака — основном пользовательские сборки часть программного обеспечения, выполняющиеся как службы шлюза поле toowhich доступные конечные точки и устройствам подключение. Следовательно, при его разработке нужно спланировать систему безопасности. При разработке и создании этой службы следуйте соответствующей процедуре для [SDL](http://www.microsoft.com/sdl). 

#### <a name="services-zone"></a>Зона служб
Системы управления (или контроллер) — это программное решение, которая взаимодействует с устройством, или шлюз поля или шлюз облака hello с целью управления один или несколько устройств и/или toocollect и/или хранилище и анализа данных и устройств для представления или последующие управления версиями. Системы управления — это только сущности hello в hello рамки данного обсуждения, который может немедленно облегчают взаимодействие с пользователями. исключение Hello промежуточного физического поверхности элемента управления на устройствах, как параметр, который позволяет пользователю, tooturn hello устройства из системы, или измените другие свойства и для которого нет нет функционального эквивалента, доступном цифровой. 

Промежуточные физического поверхности элемента управления — это те где каких регулирующих логику ограничивает функции hello hello физического поверхности элемента управления, таким образом, чтобы использовать эквивалентные функции может быть инициирован удаленно или ввода конфликтует с удаленного входа может быть счет — такой intermediated поверхности элемента управления имеют системы локального управления Концептуально вложенный tooa hello, использует же базовая функциональность, как любую другую систему удаленного управления, Здравствуйте, устройство может быть вложенного tooin параллельных. Возможных угроз toohello облако может быть как прочитать [Alliance безопасности облака (CSA)](https://cloudsecurityalliance.org/research/top-threats/) страницы.

## <a name="additional-resources"></a>Дополнительные ресурсы
См. следующие статьи для получения дополнительных сведений toohello:

* [Средство моделирования угроз SDL](https://www.microsoft.com/sdl/adopt/threatmodeling.aspx)
* [Эталонная архитектура Центра интернета вещей Microsoft Azure](https://azure.microsoft.com/updates/microsoft-azure-iot-reference-architecture-available/)

